/*! For license information please see 2.0cc64ae9.chunk.js.LICENSE.txt */
(this.webpackJsonpinterests=this.webpackJsonpinterests||[]).push([[2],[function(e,t,r){e.exports=r(83)},function(e,t,r){"use strict";function n(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void r(u)}s.done?t(c):Promise.resolve(c).then(n,o)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(o,i){var a=e.apply(t,r);function s(e){n(a,o,i,s,c,"next",e)}function c(e){n(a,o,i,s,c,"throw",e)}s(void 0)}))}}r.d(t,"a",(function(){return o}))},function(e,t,r){"use strict";e.exports=r(121)},function(e,t,r){"use strict";e.exports=r(78)},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(23);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(c){o=!0,i=c}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return n}))},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(5);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}},function(e,t,r){"use strict";r.d(t,"a",(function(){return Rt})),r.d(t,"b",(function(){return vt})),r.d(t,"c",(function(){return $e})),r.d(t,"d",(function(){return Qe})),r.d(t,"e",(function(){return Ze})),r.d(t,"f",(function(){return Ge})),r.d(t,"g",(function(){return Dt})),r.d(t,"h",(function(){return kt})),r.d(t,"i",(function(){return tt}));var n=r(26),o=r(12),i=r(5),a=r(4),s=r(46),c=r(0),u=r.n(c),l=r(1),h=r(16),p=r(17),f=r(18),d=r(28),g=r(24);var m=r(35);function v(e,t,r){return(v=Object(m.a)()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&Object(g.a)(o,r.prototype),o}).apply(null,arguments)}function y(e){var t="function"===typeof Map?new Map:void 0;return(y=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return v(e,arguments,Object(d.a)(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Object(g.a)(n,e)})(e)}var b=r(67),w=r.n(b),S=r(29),_=r.n(S),k=r(43),E=r.n(k),x=r(34);function A(e){return"object"===typeof e&&"object"===typeof e.internal_resourceInfo}function C(e){var t=e;return"object"===typeof t&&"object"===typeof t.internal_resourceInfo&&"object"===typeof t.internal_resourceInfo.linkedResources}function P(e){var t=e;return"object"===typeof t.internal_changeLog&&Array.isArray(t.internal_changeLog.additions)&&Array.isArray(t.internal_changeLog.deletions)}var F=function(e){Object(p.a)(r,e);var t=Object(f.a)(r);function r(){return Object(h.a)(this,r),t.apply(this,arguments)}return r}(y(Error));function T(e){return"string"===typeof e?e:e.value}var O=function(){var e=Object(l.a)(u.a.mark((function e(t,n){var o,i,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=4;break;case 3:return e.abrupt("return",e.sent);case 4:e.next=10;break;case 7:return o=e.sent,i=o.default,e.abrupt("return",i(t,n));case 10:return a=r(34),e.next=13,a(t,n);case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();function R(e){var t,r,n,o=null!==(r=null===(t=e.headers.get("Content-Type"))||void 0===t?void 0:t.split(";"))&&void 0!==r?r:[],i=o.length>0&&["text/turtle","application/ld+json"].includes(o[0]),a={sourceIri:e.url,isRawData:!i,contentType:null!==(n=e.headers.get("Content-Type"))&&void 0!==n?n:void 0,linkedResources:{}},s=e.headers.get("Link");if(s){var c=w.a.parse(s),u=c.get("rel","acl");1===u.length&&(a.aclUrl=new URL(u[0].uri,a.sourceIri).href),a.linkedResources=c.refs.reduce((function(e,t){var r,n;return null!==(r=e[n=t.rel])&&void 0!==r||(e[n]=[]),e[t.rel].push(new URL(t.uri,a.sourceIri).href),e}),a.linkedResources)}var l=e.headers.get("WAC-Allow");return l&&(a.permissions=function(e){function t(e){var t=e.split(" ");return t.includes("write")?{read:t.includes("read"),append:!0,write:!0,control:t.includes("control")}:{read:t.includes("read"),append:t.includes("append"),write:!1,control:t.includes("control")}}function r(e,t){var r=e.split(",").map((function(e){return e.split("=")})).filter((function(e){return 2===e.length&&e[0].trim()===t}));if(1!==r.length)return"";var n=r[0][1].trim();return'"'!==n.charAt(0)||'"'!==n.charAt(n.length-1)?"":n.substring(1,n.length-1)}return{user:t(r(e,"user")),public:t(r(e,"public"))}}(l)),a}function I(e){return"function"===typeof e.slice?Object.assign(e.slice(),Object.assign({},e)):Object.assign({},e)}function j(e){return!e.ok}var D="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",U="http://www.w3.org/ns/ldp#Resource",N={AccessControlResource:"http://www.w3.org/ns/solid/acp#AccessControlResource",Policy:"http://www.w3.org/ns/solid/acp#Policy",AccessControl:"http://www.w3.org/ns/solid/acp#AccessControl",Read:"http://www.w3.org/ns/solid/acp#Read",Append:"http://www.w3.org/ns/solid/acp#Append",Write:"http://www.w3.org/ns/solid/acp#Write",Rule:"http://www.w3.org/ns/solid/acp#Rule",accessControl:"http://www.w3.org/ns/solid/acp#accessControl",apply:"http://www.w3.org/ns/solid/acp#apply",applyMembers:"http://www.w3.org/ns/solid/acp#applyMembers",allow:"http://www.w3.org/ns/solid/acp#allow",deny:"http://www.w3.org/ns/solid/acp#deny",allOf:"http://www.w3.org/ns/solid/acp#allOf",anyOf:"http://www.w3.org/ns/solid/acp#anyOf",noneOf:"http://www.w3.org/ns/solid/acp#noneOf",access:"http://www.w3.org/ns/solid/acp#access",accessMembers:"http://www.w3.org/ns/solid/acp#accessMembers",agent:"http://www.w3.org/ns/solid/acp#agent",group:"http://www.w3.org/ns/solid/acp#group",client:"http://www.w3.org/ns/solid/acp#client",PublicAgent:"http://www.w3.org/ns/solid/acp#PublicAgent",AuthenticatedAgent:"http://www.w3.org/ns/solid/acp#AuthenticatedAgent",CreatorAgent:"http://www.w3.org/ns/solid/acp#CreatorAgent"},L="http://www.w3.org/ns/solid/terms#PublicOidcClient",M={fetch:O};function B(e){return H.apply(this,arguments)}function H(){return(H=Object(l.a)(u.a.mark((function e(t){var r,n,o,i=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:M,n=Object.assign(Object.assign({},M),r),e.next=4,n.fetch(t,{method:"HEAD"});case 4:return o=e.sent,e.abrupt("return",K(o));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e){if(j(e))throw new J("Fetching the metadata of the Resource at [".concat(e.url,"] failed: [").concat(e.status,"] [").concat(e.statusText,"]."),e);return{internal_resourceInfo:R(e)}}function V(e){var t;return null!==(t=e.internal_resourceInfo.contentType)&&void 0!==t?t:null}function W(e){return A(e)?e.internal_resourceInfo.sourceIri:null}var q=W;function z(e){return e.internal_resourceInfo.linkedResources}var J=function(e){Object(p.a)(r,e);var t=Object(f.a)(r);function r(e,n){var o;return Object(h.a)(this,r),(o=t.call(this,e)).response=n,o}return Object(s.a)(r,[{key:"statusCode",get:function(){return this.response.status}},{key:"statusText",get:function(){return this.response.statusText}}]),r}(F),G={fetch:O};function Y(e){return $.apply(this,arguments)}function $(){return($=Object(l.a)(u.a.mark((function e(t){var r,n,o,i,a,s,c,l=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:G,n=Object.assign(Object.assign({},G),r),o=T(t),e.next=5,n.fetch(o,n.init);case 5:if(!j(i=e.sent)){e.next=8;break}throw new J("Fetching the File failed: [".concat(i.status,"] [").concat(i.statusText,"]."),i);case 8:return a=R(i),e.next=11,i.blob();case 11:return s=e.sent,c=Object.assign(s,{internal_resourceInfo:a}),e.abrupt("return",c);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}E.a.dataset;var Q="https://inrupt.com/.well-known/sdk-local-node/",X=Object.freeze;function Z(e){return e.substring(0,Q.length)===Q}function ee(e){return e.substring(Q.length)}function te(e){return"".concat(Q).concat(e)}function re(e){return"string"===typeof e&&"_:"===e.substring(0,2)}function ne(e){return e.substring(2)}function oe(e){return"_:".concat(e.value)}var ie="http://www.w3.org/2001/XMLSchema#boolean",ae="http://www.w3.org/2001/XMLSchema#dateTime",se="http://www.w3.org/2001/XMLSchema#decimal",ce="http://www.w3.org/2001/XMLSchema#integer",ue="http://www.w3.org/2001/XMLSchema#string",le="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString";function he(e){return"true"===e||"1"===e||"false"!==e&&"0"!==e&&null}function pe(e){if(!/-?\d{4,}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(Z|(\+|-)\d\d:\d\d)?/.test(e))return null;var t=e.split("T"),r=Object(a.a)(t,2),n=r[0],o=r[1],i="-"===n.charAt(0)?[-1,n.substring(1)]:[1,n],s=Object(a.a)(i,2),c=s[0],u=s[1].split("-"),l=Object(a.a)(u,3),h=l[0],p=l[1],f=l[2],d=Number.parseInt(h,10)*c,g=Number.parseInt(p,10)-1,m=Number.parseInt(f,10),v=fe(o),y=Object(a.a)(v,2),b=y[0],w=y[1],S="string"===typeof w?de(w):[0,0],_=Object(a.a)(S,2),k=_[0],E=_[1],x=b.split(":"),A=Object(a.a)(x,3),C=A[0],P=A[1],F=A[2],T=Number.parseInt(C,10)+k,O=Number.parseInt(P,10)+E,R=F.split("."),I=Object(a.a)(R,2),j=I[0],D=I[1],U=Number.parseInt(j,10),N=D?Number.parseInt(D,10):0,L=new Date(Date.UTC(d,g,m,T,O,U,N));return d>=0&&d<100&&L.setUTCFullYear(L.getUTCFullYear()-1900),L}function fe(e){if(e.endsWith("Z"))return[e.substring(0,e.length-1),"Z"];var t=e.split("+"),r=e.split("-");return 1===t.length&&1===r.length?[t[0],void 0]:t.length>r.length?[t[0],"+"+t[1]]:[r[0],"-"+r[1]]}function de(e){if("Z"===e)return[0,0];var t="+"===e.charAt(0)?1:-1,r=e.substring(1).split(":"),n=Object(a.a)(r,2),o=n[0],i=n[1];return[Number.parseInt(o,10)*t,Number.parseInt(i,10)*t]}function ge(e){var t=Number.parseFloat(e);return Number.isNaN(t)?null:t}function me(e){var t=Number.parseInt(e,10);return Number.isNaN(t)?null:t}function ve(e){return ye(e)&&"NamedNode"===e.termType}function ye(e){return null!==e&&"object"===typeof e&&"string"===typeof e.termType&&"string"===typeof e.value&&"function"===typeof e.equals}function be(e){return ve(e)&&Z(e.value)}function we(e){var t=T(e);if("function"!==typeof URL)return!0;try{new URL(t)}catch(r){return!1}return!0}function Se(e,t){return ke.namedNode(_e(ee(e.value),t))}function _e(e,t){if("function"!==typeof URL)throw new Error("The URL interface is not available, so an IRI cannot be determined.");var r=new URL(t);return r.hash=e,r.href}var ke=_.a;function Ee(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=["NamedNode","DefaultGraph"];if(!o.includes(t.graph.termType))throw new Error("Cannot parse Quads with nodes of type [".concat(t.graph.termType,"] as their Graph node."));var a="DefaultGraph"===t.graph.termType?"default":t.graph.value,s=null!==(r=e.graphs[a])&&void 0!==r?r:{};return X(Object.assign(Object.assign({},e),{graphs:X(Object.assign(Object.assign({},e.graphs),Object(i.a)({},a,xe(s,t,n))))}))}function xe(e,t,r){var n;if(!["NamedNode","BlankNode"].includes(t.subject.termType))throw new Error("Cannot parse Quads with nodes of type [".concat(t.subject.termType,"] as their Subject node."));var o="BlankNode"===t.subject.termType?"_:".concat(t.subject.value):t.subject.value,a=null!==(n=e[o])&&void 0!==n?n:{type:"Subject",url:o,predicates:{}};return X(Object.assign(Object.assign({},e),Object(i.a)({},o,function(e,t,r){return X(Object.assign(Object.assign({},e),{predicates:Ae(e.predicates,t,r)}))}(a,t,r))))}function Ae(e,t,r){var n;if(!["NamedNode"].includes(t.predicate.termType))throw new Error("Cannot parse Quads with nodes of type [".concat(t.predicate.termType,"] as their Predicate node."));var o=t.predicate.value,a=null!==(n=e[o])&&void 0!==n?n:{};return X(Object.assign(Object.assign({},e),Object(i.a)({},o,Ce(a,t,r))))}function Ce(e,t,r){var n,a,s,c,u,l,h,p;if("NamedNode"===t.object.termType){var f=X([].concat(Object(o.a)(null!==(n=e.namedNodes)&&void 0!==n?n:[]),[t.object.value]));return X(Object.assign(Object.assign({},e),{namedNodes:f}))}if("Literal"===t.object.termType){if(t.object.datatype.value===le){var d=t.object.language.toLowerCase(),g=X([].concat(Object(o.a)(null!==(s=null===(a=e.langStrings)||void 0===a?void 0:a[d])&&void 0!==s?s:[]),[t.object.value])),m=X(Object.assign(Object.assign({},null!==(c=e.langStrings)&&void 0!==c?c:{}),Object(i.a)({},d,g)));return X(Object.assign(Object.assign({},e),{langStrings:m}))}var v=X([].concat(Object(o.a)(null!==(l=null===(u=e.literals)||void 0===u?void 0:u[t.object.datatype.value])&&void 0!==l?l:[]),[t.object.value])),y=X(Object.assign(Object.assign({},null!==(h=e.literals)&&void 0!==h?h:{}),Object(i.a)({},t.object.datatype.value,v)));return X(Object.assign(Object.assign({},e),{literals:y}))}if("BlankNode"===t.object.termType){var b=Pe(t.object,r),w=X([].concat(Object(o.a)(null!==(p=e.blankNodes)&&void 0!==p?p:[]),[b]));return X(Object.assign(Object.assign({},e),{blankNodes:w}))}throw new Error("Objects of type [".concat(t.object.termType,"] are not supported."))}function Pe(e,t){var r,n;if(void 0===(null!==(r=t.chainBlankNodes)&&void 0!==r?r:[]).find((function(t){return t.equals(e)})))return oe(e);var a=(null!==(n=t.otherQuads)&&void 0!==n?n:[]).filter((function(t){return t.subject.equals(e)})),s=a.filter((function(e){return!Ie(e.object)})).reduce((function(e,r){var n;if(!["NamedNode"].includes(r.predicate.termType))throw new Error("Cannot parse Quads with nodes of type [".concat(r.predicate.termType,"] as their Predicate node."));var o=null!==(n=e[r.predicate.value])&&void 0!==n?n:{};return X(Object.assign(Object.assign({},e),Object(i.a)({},r.predicate.value,Ce(o,r,t))))}),{});return a.filter((function(e){return Ie(e.object)})).reduce((function(e,r){var n,a;if(!["NamedNode"].includes(r.predicate.termType))throw new Error("Cannot parse Quads with nodes of type [".concat(r.predicate.termType,"] as their Predicate node."));var s=null!==(n=e[r.predicate.value])&&void 0!==n?n:{},c=null!==(a=s.blankNodes)&&void 0!==a?a:[];return X(Object.assign(Object.assign({},e),Object(i.a)({},r.predicate.value,Object.assign(Object.assign({},s),{blankNodes:[].concat(Object(o.a)(c),[Pe(r.object,t)])}))))}),s)}function Fe(e){var t=e.map((function(e){return e.subject})).filter(Ie),r=e.map((function(e){return e.object})).filter(Ie);var n=[];return r.forEach((function(t){n.push.apply(n,Object(o.a)(Re(t,e)))})),t.concat(r).filter((function(t){if(n.some((function(e){return e.equals(t)})))return!1;var r,o=e.filter((function(e){return e.object.equals(t)})).map((function(e){return e.subject}));return o.length>0&&(r=o).every((function(e){return r.every((function(t){return e.equals(t)}))}))}))}function Te(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],i=null!==(t=r.dataFactory)&&void 0!==t?t:_.a;return Object.keys(e.graphs).forEach((function(t){var a=e.graphs[t],s="default"===t?i.defaultGraph():i.namedNode(t);Object.keys(a).forEach((function(e){var t=a[e].predicates,c=re(e)?i.blankNode(ne(e)):i.namedNode(e);n.push.apply(n,Object(o.a)(Oe(t,c,s,r)))}))})),n}function Oe(e,t,r){var n,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=[],s=null!==(n=i.dataFactory)&&void 0!==n?n:_.a;return Object.keys(e).forEach((function(n){var i,c,u,l,h=s.namedNode(n),p=null!==(i=e[n].langStrings)&&void 0!==i?i:{},f=null!==(c=e[n].namedNodes)&&void 0!==c?c:[],d=null!==(u=e[n].literals)&&void 0!==u?u:{},g=null!==(l=e[n].blankNodes)&&void 0!==l?l:[];Object.keys(d).forEach((function(e){var n=s.namedNode(e);d[e].forEach((function(e){var o=s.literal(e,n);a.push(s.quad(t,h,o,r))}))})),Object.keys(p).forEach((function(e){p[e].forEach((function(n){var o=s.literal(n,e);a.push(s.quad(t,h,o,r))}))})),f.forEach((function(e){var n=s.namedNode(e);a.push(s.quad(t,h,n,r))})),g.forEach((function(e){if(re(e)){var n=s.blankNode(ne(e));a.push(s.quad(t,h,n,r))}else{var i=s.blankNode(),c=s.quad(t,h,i,r),u=Oe(e,i,r);a.push(c),a.push.apply(a,Object(o.a)(u))}}))})),a}function Re(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(void 0!==r.find((function(t){return t.equals(e)})))return r;var i=t.filter((function(t){return t.subject.equals(e)&&Ie(t.object)})).map((function(e){return e.object}));if(0===i.length)return[];var a,s=[].concat(Object(o.a)(r),[e]),c=i.map((function(e){return Re(e,t,s)})),u=[],l=Object(n.a)(c);try{for(l.s();!(a=l.n()).done;){var h=a.value;u.push.apply(u,Object(o.a)(h))}}catch(p){l.e(p)}finally{l.f()}return u}function Ie(e){return"BlankNode"===e.termType}var je=function(){var e=[],t=[],r=[];return{onQuad:function(t){e.push(t)},onError:function(e){r.push(e)},onComplete:function(e){t.push(e)},parse:function(){var n=Object(l.a)(u.a.mark((function n(o,i){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,De(W(i));case 2:n.sent.parse(o,(function(n,o,i){n?r.forEach((function(e){return e(n)})):o?e.every((function(e){return e(o)})):t.every((function(e){return e()}))}));case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}};function De(e){return Ue.apply(this,arguments)}function Ue(){return(Ue=Object(l.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me();case 2:return r=e.sent,e.abrupt("return",new r.Parser({format:"text/turtle",baseIRI:t}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ne(e){return Le.apply(this,arguments)}function Le(){return(Le=Object(l.a)(u.a.mark((function e(t){var r,n,o,i,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me();case 2:return r=e.sent,"text/turtle",n=new r.Writer({format:"text/turtle"}),o=t.map((function(e){return ke.quad(e.subject,e.predicate,e.object,void 0)})),n.addQuads(o),i=new Promise((function(e,t){n.end((function(r,n){if(r)return t(r);e(n)}))})),e.next=10,i;case 10:return a=e.sent,e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Me(){return Be.apply(this,arguments)}function Be(){return(Be=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(3),r.e(4)]).then(r.bind(null,159));case 2:if("undefined"===typeof(t=e.sent).default){e.next=5;break}return e.abrupt("return",t.default);case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function He(e){var t,r,n,o,i,a,s,c;if(ve(e))return"<".concat(e.value,"> (URL)");if(function(e){return ye(e)&&"Literal"===e.termType}(e)){if(!ve(e.datatype))return"[".concat(e.value,"] (RDF/JS Literal of unknown type)");switch(e.datatype.value){case ie:return(null!==(r=null===(t=he(e.value))||void 0===t?void 0:t.valueOf())&&void 0!==r?r:"Invalid data: `".concat(e.value,"`"))+" (boolean)";case ae:return(null!==(o=null===(n=pe(e.value))||void 0===n?void 0:n.toUTCString())&&void 0!==o?o:"Invalid data: `".concat(e.value,"`"))+" (datetime)";case se:return(null!==(a=null===(i=ge(e.value))||void 0===i?void 0:i.toString())&&void 0!==a?a:"Invalid data: `".concat(e.value,"`"))+" (decimal)";case ce:return(null!==(c=null===(s=me(e.value))||void 0===s?void 0:s.toString())&&void 0!==c?c:"Invalid data: `".concat(e.value,"`"))+" (integer)";case le:return'"'.concat(e.value,'" (').concat(e.language," string)");case ue:return'"'.concat(e.value,'" (string)');default:return"[".concat(e.value,"] (RDF/JS Literal of type: `").concat(e.datatype.value,"`)")}}return"BlankNode"===e.termType?"[".concat(e.value,"] (RDF/JS BlankNode)"):"Quad"===e.termType?"??? (nested RDF* Quad)":"Variable"===e.termType?"?".concat(e.value," (RDF/JS Variable)"):e}function Ke(e){if(!ot(e))throw new ct(e)}function Ve(e,t){var r=P(e)?e.internal_changeLog:{additions:[],deletions:[]},n=t.filter((function(e){return!qe(e)})).reduce((function(e,t){var r=Object(a.a)(e,2),n=r[0],o=r[1];return"undefined"!==typeof n.find((function(e){return e.equals(t)}))?[n.filter((function(e){return!e.equals(t)})),o]:[n,o.concat(t)]}),[r.additions,r.deletions]),o=Object(a.a)(n,2),i=o[0],s=o[1];return X(Object.assign(Object.assign({},e),{internal_changeLog:{additions:i,deletions:s}}))}function We(e){return P(e)?e:X(Object.assign(Object.assign({},e),{internal_changeLog:{additions:[],deletions:[]}}))}function qe(e){return"BlankNode"===e.subject.termType||"BlankNode"===e.object.termType}function ze(e,t){var r,n,o;if(Ke(e),!we(t))throw new ut(t);var i=T(t),a=null!==(o=null===(n=null===(r=e.predicates[i])||void 0===r?void 0:r.namedNodes)||void 0===n?void 0:n[0])&&void 0!==o?o:null;return null===a?null:Z(a)?"#".concat(ee(a)):a}var Je=ze;function Ge(e,t){var r,n,o;if(Ke(e),!we(t))throw new ut(t);var i=T(t);return null!==(o=null===(n=null===(r=e.predicates[i])||void 0===r?void 0:r.namedNodes)||void 0===n?void 0:n.map((function(e){return Z(e)?"#".concat(ee(e)):e})))&&void 0!==o?o:[]}var Ye=Ge;function $e(e,t,r){var n,o;if(Ke(e),!we(t))throw new ut(t);var i=T(t),a=null!==(o=null===(n=e.predicates[i])||void 0===n?void 0:n.langStrings)&&void 0!==o?o:{},s=Object.keys(a).find((function(e){return e.toLowerCase()===r.toLowerCase()&&Array.isArray(a[e])&&a[e].length>0}));return"string"===typeof s?a[s][0]:null}function Qe(e,t){var r,n;Ke(e);var o=function(e,t){var r=Je(e,t);return null===r?null:ke.namedNode(r)}(e,t);if(null!==o)return o;var i=function(e,t){var r,n,o,i;if(Ke(e),!we(t))throw new ut(t);var a=T(t),s=null!==(n=null===(r=e.predicates[a])||void 0===r?void 0:r.langStrings)&&void 0!==n?n:{},c=Object.keys(s);if(c.length>0){var u=c.find((function(e){return Array.isArray(s[e])&&s[e].length>0}));if("string"===typeof u)return ke.literal(s[u][0],u)}var l=null!==(i=null===(o=e.predicates[a])||void 0===o?void 0:o.literals)&&void 0!==i?i:{},h=Object.keys(l);if(h.length>0){var p=h.find((function(e){return Array.isArray(l[e])&&l[e].length>0}));if("string"===typeof p)return ke.literal(l[p][0],ke.namedNode(p))}return null}(e,t);if(null!==i)return i;var a=T(t),s=null!==(n=null===(r=e.predicates[a])||void 0===r?void 0:r.blankNodes)&&void 0!==n?n:[];if(s.length>0){var c=re(s[0])?ne(s[0]):void 0;return ke.blankNode(c)}return null}function Xe(e,t){var r,n;Ke(e);var o=function(e,t){return Ye(e,t).map((function(e){return ke.namedNode(e)}))}(e,t),i=function(e,t){var r,n,o,i;if(Ke(e),!we(t))throw new ut(t);for(var a=T(t),s=[],c=null!==(n=null===(r=e.predicates[a])||void 0===r?void 0:r.langStrings)&&void 0!==n?n:{},u=Object.keys(c),l=function(){var e=p[h],t=c[e].map((function(t){return ke.literal(t,e)}));s=s.concat(t)},h=0,p=u;h<p.length;h++)l();for(var f=null!==(i=null===(o=e.predicates[a])||void 0===o?void 0:o.literals)&&void 0!==i?i:{},d=Object.keys(f),g=function(){var e=v[m],t=f[e],r=ke.namedNode(e),n=t.map((function(e){return ke.literal(e,r)}));s=s.concat(n)},m=0,v=d;m<v.length;m++)g();return s}(e,t),a=T(t),s=(null!==(n=null===(r=e.predicates[a])||void 0===r?void 0:r.blankNodes)&&void 0!==n?n:[]).map((function(e){var t=re(e)?ne(e):void 0;return ke.blankNode(t)}));return o.concat(i).concat(s)}function Ze(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!we(t))throw new ht(t);var o="undefined"!==typeof n.scope?T(n.scope):"default",i=null!==(r=e.graphs[o])&&void 0!==r?r:{},a=T(t),s=Z(a)&&C(e)?_e(ee(a),W(e)):a,c=i[s];return"undefined"===typeof c?null:c}function et(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="undefined"!==typeof r.scope?T(r.scope):"default",o=null!==(t=e.graphs[n])&&void 0!==t?t:{};return Object.values(o).filter((function(e){return!re(e.url)}))}function tt(e,t){var r,n=st(t)&&C(e)?_e(ee(t.url),W(e)):t.url,o=e.graphs.default,s=X(Object.assign(Object.assign({},o),Object(i.a)({},n,X(Object.assign(Object.assign({},t),{url:n}))))),c=X(Object.assign(Object.assign({},e.graphs),{default:s})),u=ke.namedNode(n),l=null===(r=e.graphs.default[n])||void 0===r?void 0:r.predicates,h="undefined"!==typeof l?Oe(l,u,ke.defaultGraph()):[],p=Oe(t.predicates,u,ke.defaultGraph());return function(e,t){var r=P(e)?e.internal_changeLog:{additions:[],deletions:[]},n=t.filter((function(e){return!qe(e)})).reduce((function(e,t){var r=Object(a.a)(e,2),n=r[0],o=r[1];return"undefined"!==typeof o.find((function(e){return e.equals(t)}))?[n,o.filter((function(e){return!e.equals(t)}))]:[n.concat(t),o]}),[r.additions,r.deletions]),o=Object(a.a)(n,2),i=o[0],s=o[1];return X(Object.assign(Object.assign({},e),{internal_changeLog:{additions:i,deletions:s}}))}(Ve(X(Object.assign(Object.assign({},e),{graphs:c})),h),p)}function rt(e,t){var r,n;n=ve(t)?t.value:"string"===typeof t?Z(t)&&C(e)?_e(ee(t),W(e)):t:st(t)?t.url:at(t);var o=e.graphs.default,i=Object.assign({},o);delete i[n];var a=X(Object.assign(Object.assign({},e.graphs),{default:X(i)})),s=ke.namedNode(n),c=null===(r=e.graphs.default[n])||void 0===r?void 0:r.predicates,u="undefined"!==typeof c?Oe(c,s,ke.defaultGraph()):[];return Ve(X(Object.assign(Object.assign({},e),{graphs:a})),u)}function nt(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("undefined"!==typeof t.url){var r=t.url;if(!we(r))throw new ht(r);var n=X({type:"Subject",predicates:X({}),url:r});return n}var o=null!==(e=t.name)&&void 0!==e?e:pt(),i=te(o),a=X({type:"Subject",predicates:X({}),url:i});return a}function ot(e){return"object"===typeof e&&null!==e&&"string"===typeof e.type&&"Subject"===e.type}function it(e,t){if(st(e)){if("undefined"===typeof t)throw new Error("The URL of a Thing that has not been persisted cannot be determined without a base URL.");return _e(ee(e.url),t)}return e.url}var at=it;function st(e){return Z(e.url)}var ct=function(e){Object(p.a)(r,e);var t=Object(f.a)(r);function r(e){var n;Object(h.a)(this,r);var o="Expected a Thing, but received: [".concat(e,"].");return(n=t.call(this,o)).receivedValue=e,n}return r}(F),ut=function(e){Object(p.a)(r,e);var t=Object(f.a)(r);function r(e){var n;Object(h.a)(this,r);var o=ve(e)?e.value:e,i="Expected a valid URL to identify a property, but received: [".concat(o,"].");return(n=t.call(this,i)).receivedProperty=o,n}return r}(F),lt=function(e){Object(p.a)(r,e);var t=Object(f.a)(r);function r(e){var n;Object(h.a)(this,r);var o=ve(e)?e.value:e,i="Expected a valid URL value, but received: [".concat(o,"].");return(n=t.call(this,i)).receivedValue=o,n}return r}(F),ht=function(e){Object(p.a)(r,e);var t=Object(f.a)(r);function r(e){var n;Object(h.a)(this,r);var o=ve(e)?e.value:e,i="Expected a valid URL to identify a Thing, but received: [".concat(o,"].");return(n=t.call(this,i)).receivedValue=o,n}return r}(F),pt=function(){return Date.now().toString()+Math.random().toString().substring("0.".length)};function ft(e){var t=new URL(e);return t.hash="",t.href}function dt(){return X({type:"Dataset",graphs:{default:{}}})}function gt(e){return mt.apply(this,arguments)}function mt(){return(mt=Object(l.a)(u.a.mark((function e(t){var r,n,o,i,a,s,c,h,p=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=p.length>1&&void 0!==p[1]?p[1]:{},!j(t)){e.next=3;break}throw new J("Fetching the SolidDataset at [".concat(t.url,"] failed: [").concat(t.status,"] [").concat(t.statusText,"]."),t);case 3:if(n=K(t),o=Object.assign({"text/turtle":je()},r.parsers),null!==(i=V(n))){e.next=8;break}throw new Error("Could not determine the content type of the Resource at [".concat(W(n),"]."));case 8:if(a=i.split(";")[0],"undefined"!==typeof(s=o[a])){e.next=12;break}throw new Error("The Resource at [".concat(W(n),"] has a MIME type of [").concat(a,"], but the only parsers available are for the following MIME types: [").concat(Object.keys(o).join(", "),"]."));case 12:return e.next=14,t.text();case 14:return c=e.sent,h=new Promise((function(e,t){var r=X({graphs:X({default:X({})}),type:"Dataset"}),o=[],a=[];s.onError((function(e){t(new Error("Encountered an error parsing the Resource at [".concat(W(n),"] with content type [").concat(i,"]: ").concat(e)))})),s.onQuad((function(e){a.push(e),"BlankNode"===e.subject.termType||"BlankNode"===e.object.termType?o.push(e):r=Ee(r,e)})),s.onComplete(Object(l.a)(u.a.mark((function t(){var i,s,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:20,i=o.length<=20?Fe(o):[],s=o.filter((function(e){return i.every((function(t){return!t.equals(e.subject)}))})),r=s.reduce((function(e,t){return Ee(e,t,{otherQuads:a,chainBlankNodes:i})}),r),c=X(Object.assign(Object.assign({},r),n)),e(c);case 6:case"end":return t.stop()}}),t)})))),s.parse(c,n)})),e.next=18,h;case 18:return e.abrupt("return",e.sent);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vt(e){return yt.apply(this,arguments)}function yt(){return(yt=Object(l.a)(u.a.mark((function e(t){var r,n,o,i,a,s,c,l=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:M,t=T(t),o=Object.assign(Object.assign({},M),r),i=Object.keys(null!==(n=r.parsers)&&void 0!==n?n:{}),a=i.length>0?i.join(", "):"text/turtle",e.next=7,o.fetch(t,{headers:{Accept:a}});case 7:if(!j(s=e.sent)){e.next=10;break}throw new J("Fetching the Resource at [".concat(t,"] failed: [").concat(s.status,"] [").concat(s.statusText,"]."),s);case 10:return e.next=12,gt(s,r);case 12:return c=e.sent,e.abrupt("return",c);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bt(e){return wt.apply(this,arguments)}function wt(){return(wt=Object(l.a)(u.a.mark((function e(t){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.internal_changeLog.deletions.length>0)){e.next=8;break}return e.t1="DELETE DATA {",e.next=4,Ne(t.internal_changeLog.deletions.map(Pt));case 4:e.t2=e.sent.trim(),e.t0=e.t1.concat.call(e.t1,e.t2,"};"),e.next=9;break;case 8:e.t0="";case 9:if(r=e.t0,!(t.internal_changeLog.additions.length>0)){e.next=18;break}return e.t4="INSERT DATA {",e.next=14,Ne(t.internal_changeLog.additions.map(Pt));case 14:e.t5=e.sent.trim(),e.t3=e.t4.concat.call(e.t4,e.t5,"};"),e.next=19;break;case 18:e.t3="";case 19:return n=e.t3,e.abrupt("return",{method:"PATCH",body:"".concat(r," ").concat(n),headers:{"Content-Type":"application/sparql-update"}});case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function St(e){return _t.apply(this,arguments)}function _t(){return(_t=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne(Te(t).map(Pt));case 2:return e.t0=e.sent,e.t1={"Content-Type":"text/turtle","If-None-Match":"*",Link:"<".concat(U,'>; rel="type"')},e.abrupt("return",{method:"PUT",body:e.t0,headers:e.t1});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kt(e,t){return Et.apply(this,arguments)}function Et(){return(Et=Object(l.a)(u.a.mark((function e(t,r){var n,o,i,a,s,c,l,h,p,f=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=f.length>2&&void 0!==f[2]?f[2]:M,t=T(t),o=Object.assign(Object.assign({},M),n),!xt(i=We(r),t)){e.next=10;break}return e.next=7,bt(i);case 7:e.t0=e.sent,e.next=13;break;case 10:return e.next=12,St(i);case 12:e.t0=e.sent;case 13:return a=e.t0,e.next=16,o.fetch(t,a);case 16:if(!j(s=e.sent)){e.next=20;break}throw c=xt(i,t)?"The changes that were sent to the Pod are listed below.\n\n"+Ct(i):"The SolidDataset that was sent to the Pod is listed below.\n\n"+At(i),new J("Storing the Resource at [".concat(t,"] failed: [").concat(s.status,"] [").concat(s.statusText,"].\n\n")+c,s);case 20:return l=Object.assign(Object.assign({},R(s)),{isRawData:!1}),h=X(Object.assign(Object.assign({},r),{internal_changeLog:{additions:[],deletions:[]},internal_resourceInfo:l})),p=Tt(h),e.abrupt("return",p);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xt(e,t){return P(e)&&A(e)&&"string"===typeof e.internal_resourceInfo.sourceIri&&(r=t,ft(e.internal_resourceInfo.sourceIri)===ft(r));var r}function At(e){var t="";A(e)?t+="# SolidDataset: ".concat(W(e),"\n"):t+="# SolidDataset (no URL yet)\n";var r=et(e);return 0===r.length?t+="\n<empty>\n":r.forEach((function(r){t+="\n"+function(e){var t="";st(e)?t+="## Thing (no URL yet \u2014 identifier: `#".concat(ee(e.url),"`)\n"):t+="## Thing: ".concat(e.url,"\n");var r=Object.keys(e.predicates);if(0===r.length)t+="\n<empty>\n";else{var o,i=Object(n.a)(r);try{for(i.s();!(o=i.n()).done;){var a=o.value;t+="\nProperty: ".concat(a,"\n"),Xe(e,a).forEach((function(e){t+="- ".concat(He(e),"\n")}))}}catch(s){i.e(s)}finally{i.f()}}return t}(r),P(e)&&(t+="\n"+function(e,t){var r=ke.namedNode(t.url),n=e.internal_changeLog.additions.reduce((function(e,t){return t.subject.equals(r)?e+1:e}),0),o=e.internal_changeLog.deletions.reduce((function(e,t){return t.subject.equals(r)?e+1:e}),0),i=1===o?"1 value removed":o+" values removed";return"(".concat(1===n?"1 new value added":n+" new values added"," / ").concat(i,")")}(e,r)+"\n")})),t}function Ct(e){if(!A(e))return"This is a newly initialized SolidDataset, so there is no source to compare it to.";if(!P(e)||0===e.internal_changeLog.additions.length&&0===e.internal_changeLog.deletions.length)return"## Changes compared to ".concat(W(e),"\n\n")+"This SolidDataset has not been modified since it was fetched from ".concat(W(e),".\n");var t="## Changes compared to ".concat(W(e),"\n"),r=function(e){var t={};return e.internal_changeLog.deletions.forEach((function(r){var n,o,i,a=be(r.subject)?Se(r.subject,W(e)):r.subject;if(ve(a)&&ve(r.predicate)){var s=T(a),c=T(r.predicate);null!==(n=t[s])&&void 0!==n||(t[s]={}),null!==(o=(i=t[s])[c])&&void 0!==o||(i[c]={added:[],deleted:[]}),t[s][c].deleted.push(r.object)}})),e.internal_changeLog.additions.forEach((function(r){var n,o,i,a=be(r.subject)?Se(r.subject,W(e)):r.subject;if(ve(a)&&ve(r.predicate)){var s=T(a),c=T(r.predicate);null!==(n=t[s])&&void 0!==n||(t[s]={}),null!==(o=(i=t[s])[c])&&void 0!==o||(i[c]={added:[],deleted:[]}),t[s][c].added.push(r.object)}})),t}(e);return Object.keys(r).forEach((function(e){t+="\n### Thing: ".concat(e,"\n");var n=r[e];Object.keys(n).forEach((function(e){t+="\nProperty: ".concat(e,"\n");var r=n[e].deleted,o=n[e].added;r.length>0&&(t+="- Removed:\n",r.forEach((function(e){return t+="  - ".concat(He(e),"\n")}))),o.length>0&&(t+="- Added:\n",o.forEach((function(e){return t+="  - ".concat(He(e),"\n")})))}))})),t}function Pt(e){var t=ve(e.subject)?Ft(e.subject):e.subject,r=ve(e.object)?Ft(e.object):e.object;return ke.quad(t,e.predicate,r,e.graph)}function Ft(e){return Z(e.value)?ke.namedNode("#"+ee(e.value)):e}function Tt(e){var t=W(e),r=e.graphs.default,n=Object.keys(r).reduce((function(e,r){var n=function(e,t){var r=Object.keys(e.predicates).reduce((function(e,r){var n,o=null!==(n=e[r].namedNodes)&&void 0!==n?n:[];if(o.every((function(e){return!Z(e)})))return e;var a=X(o.map((function(e){return Z(e)?"".concat(t,"#").concat(ee(e)):e}))),s=X(Object.assign(Object.assign({},e[r]),{namedNodes:a}));return X(Object.assign(Object.assign({},e),Object(i.a)({},r,s)))}),e.predicates);return X(Object.assign(Object.assign({},e),{predicates:r,url:Z(e.url)?"".concat(t,"#").concat(ee(e.url)):e.url}))}(e[r],t),o=Z(r)?"".concat(t,"#").concat(ee(r)):r,a=Object.assign({},e);return delete a[r],a[o]=n,X(a)}),r),o=X(Object.assign(Object.assign({},e.graphs),{default:n}));return X(Object.assign(Object.assign({},e),{graphs:o}))}x.Response;function Ot(e){var t=dt();return Object.assign(Object.assign({},t),{internal_resourceInfo:{sourceIri:T(e),isRawData:!1,contentType:"text/turtle",linkedResources:{}}})}var Rt=function(e,t,r){var n,o;if(Ke(e),!we(t))throw new ut(t);if(!ot(r)&&!we(r))throw new lt(r);var a,s=T(t),c=null!==(n=e.predicates[s])&&void 0!==n?n:{},u=null!==(o=c.namedNodes)&&void 0!==o?o:[];a=ve(r)?r.value:"string"===typeof r?r:st(r)?r.url:at(r);var l=X(u.concat(T(a))),h=X(Object.assign(Object.assign({},c),{namedNodes:l})),p=X(Object.assign(Object.assign({},e.predicates),Object(i.a)({},s,h)));return X(Object.assign(Object.assign({},e),{predicates:p}))},It=Rt;function jt(e,t){if(Ke(e),!we(t))throw new ut(t);var r=T(t),n=Object.assign({},e.predicates);return delete n[r],X(Object.assign(Object.assign({},e),{predicates:X(n)}))}var Dt=function(e,t,r){var n,o,a;if(Ke(e),!we(t))throw new ut(t);var s=T(t);if(!ot(r)&&!we(r))throw new lt(r);var c=ve(r)?r.value:"string"===typeof r?r:at(r),u=X(null!==(a=null===(o=null===(n=e.predicates[s])||void 0===n?void 0:n.namedNodes)||void 0===o?void 0:o.filter((function(e){return e.toLowerCase()!==c.toLowerCase()})))&&void 0!==a?a:[]),l=X(Object.assign(Object.assign({},e.predicates[s]),{namedNodes:u})),h=X(Object.assign(Object.assign({},e.predicates),Object(i.a)({},s,l)));return X(Object.assign(Object.assign({},e),{predicates:h}))},Ut=Dt;var Nt=function(e,t,r){if(Ke(e),!we(t))throw new ut(t);if(!ot(r)&&!we(r))throw new lt(r);return Rt(jt(e,t),t,r)},Lt=Nt;function Mt(e){var t=z(e).type;return Array.isArray(t)&&t.includes(N.AccessControlResource)}function Bt(e){return Ht.apply(this,arguments)}function Ht(){return(Ht=Object(l.a)(u.a.mark((function e(t){var r,n,o,i=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>1&&void 0!==i[1]?i[1]:M,Yt(t)){e.next=3;break}return e.abrupt("return",{resourceAcl:null,fallbackAcl:null});case 3:return e.prev=3,e.next=6,Kt(t,r);case 6:if(null!==(n=e.sent)){e.next=14;break}return e.next=10,Wt(t,r);case 10:e.t1=e.sent,e.t0={resourceAcl:null,fallbackAcl:e.t1},e.next=15;break;case 14:e.t0={resourceAcl:n,fallbackAcl:null};case 15:return o=e.t0,e.abrupt("return",o);case 19:if(e.prev=19,e.t2=e.catch(3),!(e.t2 instanceof Gt)){e.next=23;break}return e.abrupt("return",{resourceAcl:null,fallbackAcl:null});case 23:throw e.t2;case 24:case"end":return e.stop()}}),e,null,[[3,19]])})))).apply(this,arguments)}function Kt(e){return Vt.apply(this,arguments)}function Vt(){return(Vt=Object(l.a)(u.a.mark((function e(t){var r,n,o=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:M,Yt(t)){e.next=3;break}return e.abrupt("return",null);case 3:return e.prev=3,e.next=6,vt(t.internal_resourceInfo.aclUrl,r);case 6:if(!Mt(n=e.sent)){e.next=9;break}throw new Gt(t,n);case 9:return e.abrupt("return",X(Object.assign(Object.assign({},n),{internal_accessTo:W(t)})));case 12:if(e.prev=12,e.t0=e.catch(3),!(e.t0 instanceof Gt)){e.next=16;break}throw e.t0;case 16:return e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[3,12]])})))).apply(this,arguments)}function Wt(e){return qt.apply(this,arguments)}function qt(){return(qt=Object(l.a)(u.a.mark((function e(t){var r,n,o,i,a,s,c,l=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=l.length>1&&void 0!==l[1]?l[1]:M,n=new URL(W(t)),"/"!==(o=n.pathname)){e.next=5;break}return e.abrupt("return",null);case 5:return i=zt(o),a=new URL(i,n.origin).href,e.next=9,B(a,r);case 9:if(Yt(s=e.sent)){e.next=12;break}return e.abrupt("return",null);case 12:return e.next=14,Kt(s,r);case 14:if(null!==(c=e.sent)){e.next=17;break}return e.abrupt("return",Wt(s,r));case 17:return e.abrupt("return",c);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zt(e){var t="/"===e.substring(e.length-1)?e.substring(0,e.length-1):e;return e.substring(0,t.lastIndexOf("/"))+"/"}function Jt(e,t){return Object.assign(I(e),{internal_acl:t})}var Gt=function(e){Object(p.a)(r,e);var t=Object(f.a)(r);function r(e,n){return Object(h.a)(this,r),t.call(this,"[".concat(q(e),"] is governed by Access Control Policies in [").concat(q(n),"] rather than by Web Access Control."))}return r}(y(Error));function Yt(e){return"string"===typeof e.internal_resourceInfo.aclUrl}E.a.dataset;function $t(e){if(!Hr(e))throw new Error("An Access Control Resource for [".concat(W(e),"] is not available. This could be because the current user is not allowed to see it, or because their Pod Server does not support Access Control Resources."));return e.internal_acp.acr}function Qt(e,t){return Object.assign(I(e),{internal_acp:Object.assign(Object.assign({},e.internal_acp),{acr:t})})}function Xt(e){var t=nt(e);return t=Lt(t,D,N.AccessControl)}function Zt(e,t){return et($t(e),t).filter((function(e){return Ye(e,D).includes(N.AccessControl)}))}function er(e,t){return Qt(e,tt($t(e),t))}function tr(e,t){return It(e,N.apply,t)}function rr(e){return Ye(e,N.apply)}function nr(e,t){return Ut(e,N.apply,t)}function or(e){return jt(e,N.apply)}function ir(e,t){return It(e,N.applyMembers,t)}function ar(e){return Ye(e,N.applyMembers)}function sr(e){return jt(e,N.applyMembers)}function cr(e){var t=Zt(e);return 0===t.length?Xt():t[0]}function ur(e){return C(e)&&Array.isArray(e.internal_resourceInfo.linkedResources[N.accessControl])&&1===e.internal_resourceInfo.linkedResources[N.accessControl].length}function lr(e,t){var r,n=$t(e),o=W(n),i=null!==(r=Ze(n,o))&&void 0!==r?r:nt({url:o});return Qt(e,tt(n,i=It(i,N.access,t)))}function hr(e,t){var r,n=$t(e),o=W(n),i=null!==(r=Ze(n,o))&&void 0!==r?r:nt({url:o});return Qt(e,tt(n,i=It(i,N.accessMembers,t)))}function pr(e){var t=$t(e),r=Ze(t,W(t));return null===r?[]:Ye(r,N.access)}function fr(e){var t=$t(e),r=Ze(t,W(t));return null===r?[]:Ye(r,N.accessMembers)}function dr(e,t){var r=$t(e),n=Ze(r,W(r));return null===n?e:Qt(e,tt(r,Ut(n,N.access,t)))}function gr(e,t){var r=$t(e),n=Ze(r,W(r));return null===n?e:Qt(e,tt(r,Ut(n,N.accessMembers,t)))}function mr(e){var t=$t(e),r=Ze(t,W(t));return null===r?e:Qt(e,tt(t,jt(r,N.access)))}function vr(e){var t=$t(e),r=Ze(t,W(t));return null===r?e:Qt(e,tt(t,jt(r,N.accessMembers)))}function yr(e,t){return er(e,tr(cr(e),t))}function br(e,t){return er(e,ir(cr(e),t))}function wr(e){var t=Zt(e).map((function(e){return rr(e)})),r=new Set;return t.forEach((function(e){e.forEach((function(e){return r.add(e)}))})),Array.from(r)}function Sr(e){var t=Zt(e).map((function(e){return ar(e)})),r=new Set;return t.forEach((function(e){e.forEach((function(e){return r.add(e)}))})),Array.from(r)}function _r(e,t){return Zt(e).map((function(e){return nr(e,t)})).reduce(er,e)}function kr(e,t){return Zt(e).map((function(e){return function(e,t){return Ut(e,N.applyMembers,t)}(e,t)})).reduce(er,e)}function Er(e){return Zt(e).map((function(e){return or(e)})).reduce(er,e)}function xr(e){return Zt(e).map((function(e){return sr(e)})).reduce(er,e)}function Ar(e){var t="# Access controls for ".concat(W(e),"\n"),r=wr(e),n=Sr(e),o=pr(e),i=fr(e);return 0===r.length&&0===n.length&&0===o.length&&0===i.length&&(t+="\n<no policies specified yet>\n"),r.length>0&&(t+="\nThe following policies apply to this resource:\n- ",t+=r.join("\n- ")+"\n"),o.length>0&&(t+="\nThe following policies apply to the access control resource for this resource:\n- ",t+=o.join("\n- ")+"\n"),n.length>0&&(t+="\nThe following policies apply to the children of this resource:\n- ",t+=n.join("\n- ")+"\n"),i.length>0&&(t+="\nThe following policies apply to the access control resources for children of this resource:\n- ",t+=i.join("\n- ")+"\n"),t}function Cr(e){return Pr.apply(this,arguments)}function Pr(){return(Pr=Object(l.a)(u.a.mark((function e(t){var r,n,o,i,a,s=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:M,n=T(t),o=Object.assign(Object.assign({},M),r),e.next=5,vt(n,o);case 5:return i=e.sent,e.next=8,Kr(i,o);case 8:return a=e.sent,e.abrupt("return",Object.assign(Object.assign({},i),a));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fr(e){return Tr.apply(this,arguments)}function Tr(){return(Tr=Object(l.a)(u.a.mark((function e(t){var r,n,o,i,a,s=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:M,n=T(t),o=Object.assign(Object.assign({},M),r),e.next=5,Y(n,o);case 5:return i=e.sent,e.next=8,Kr(i,o);case 8:return a=e.sent,e.abrupt("return",Object.assign(i,a));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Or(e){return Rr.apply(this,arguments)}function Rr(){return(Rr=Object(l.a)(u.a.mark((function e(t){var r,n,o,i,a,s=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:M,n=T(t),o=Object.assign(Object.assign({},M),r),e.next=5,B(n,o);case 5:return i=e.sent,e.next=8,Kr(i,o);case 8:return a=e.sent,e.abrupt("return",Object.assign(Object.assign({},i),a));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ir(e){return jr.apply(this,arguments)}function jr(){return(jr=Object(l.a)(u.a.mark((function e(t){var r,n,o,i,a,s,c=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:M,n=T(t),o=Object.assign(Object.assign({},M),r),e.next=5,vt(n,o);case 5:if(!Yt(i=e.sent)){e.next=13;break}return e.next=9,Bt(i,o);case 9:return a=e.sent,e.abrupt("return",Jt(i,a));case 13:return e.next=15,Kr(i,o);case 15:return s=e.sent,e.abrupt("return",Object.assign(Object.assign({},i),s));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dr(e){return Ur.apply(this,arguments)}function Ur(){return(Ur=Object(l.a)(u.a.mark((function e(t){var r,n,o,i,a,s,c=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:M,n=T(t),o=Object.assign(Object.assign({},M),r),e.next=5,Y(n,o);case 5:if(!Yt(i=e.sent)){e.next=13;break}return e.next=9,Bt(i,o);case 9:return a=e.sent,e.abrupt("return",Jt(i,a));case 13:return e.next=15,Kr(i,o);case 15:return s=e.sent,e.abrupt("return",Object.assign(i,s));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nr(e){return Lr.apply(this,arguments)}function Lr(){return(Lr=Object(l.a)(u.a.mark((function e(t){var r,n,o,i,a,s,c=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:M,n=T(t),o=Object.assign(Object.assign({},M),r),e.next=5,B(n,o);case 5:if(!Yt(i=e.sent)){e.next=13;break}return e.next=9,Bt(i,o);case 9:return a=e.sent,e.abrupt("return",Jt(i,a));case 13:return e.next=15,Kr(i,o);case 15:return s=e.sent,e.abrupt("return",Object.assign(Object.assign({},i),s));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mr(e){return Br.apply(this,arguments)}function Br(){return(Br=Object(l.a)(u.a.mark((function e(t){var r,n,o,i,a=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:M,n=$t(t),o=Object.assign(Object.assign({},M),r),e.next=5,kt(W(n),n,o);case 5:return i=e.sent,e.abrupt("return",Qt(t,i));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hr(e){return"object"===typeof e.internal_acp&&null!==e.internal_acp&&"object"===typeof e.internal_acp.acr&&null!==e.internal_acp.acr}function Kr(e,t){return Vr.apply(this,arguments)}function Vr(){return(Vr=Object(l.a)(u.a.mark((function e(t,r){var n,o,i,a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=void 0,!ur(t)){e.next=5;break}n=t.internal_resourceInfo.linkedResources[N.accessControl][0],e.next=10;break;case 5:if(!Yt(t)){e.next=10;break}return e.next=8,B(t.internal_resourceInfo.aclUrl,r);case 8:Mt(o=e.sent)&&(n=W(o));case 10:if("string"===typeof n){e.next=12;break}return e.abrupt("return",{internal_acp:{acr:null}});case 12:return e.prev=12,e.next=15,vt(n,r);case 15:i=e.sent,e.next=21;break;case 18:return e.prev=18,e.t0=e.catch(12),e.abrupt("return",{internal_acp:{acr:null}});case 21:return a=Object.assign(Object.assign({},i),{accessTo:W(t)}),s={internal_acp:{acr:a}},e.abrupt("return",s);case 24:case"end":return e.stop()}}),e,null,[[12,18]])})))).apply(this,arguments)}function Wr(e){var t=wr(e).map(ft).concat(Sr(e).map(ft)).concat(pr(e).map(ft)).concat(fr(e).map(ft));return Array.from(new Set(t))}function qr(e){return Ye(e,D).includes(N.Rule)}function zr(e,t){return It(e,N.allOf,t)}function Jr(e,t){return Ut(e,N.allOf,t)}function Gr(e,t){return Lt(e,N.allOf,t)}function Yr(e){return Ye(e,N.allOf)}function $r(e,t){return It(e,N.anyOf,t)}function Qr(e,t){return Ut(e,N.anyOf,t)}function Xr(e,t){return Lt(e,N.anyOf,t)}function Zr(e){return Ye(e,N.anyOf)}function en(e,t){return It(e,N.noneOf,t)}function tn(e,t){return Ut(e,N.noneOf,t)}function rn(e,t){return Lt(e,N.noneOf,t)}function nn(e){return Ye(e,N.noneOf)}function on(e){var t=nt({url:T(e)});return t=Nt(t,D,N.Rule)}function an(e,t){var r=$t(e),n=new URL(W(r));n.hash="#".concat(t);var o=nt({url:n.href});return o=Nt(o,D,N.Rule)}function sn(e,t){var r=Ze(e,t);return null===r||ze(r,D)!==N.Rule?null:r}function cn(e,t){var r=$t(e),n=W(r),o=new URL(n);o.hash="#".concat(t);var i=Ze(r,o.href);return null!==i&&qr(i)?i:null}function un(e){return et(e).filter(qr)}function ln(e,t){return rt(e,t)}function hn(e,t){return tt(e,t)}function pn(e,t){return Qt(e,tt($t(e),t))}function fn(e){return Ye(e,N.agent).filter((function(e){return e!==N.PublicAgent&&e!==N.AuthenticatedAgent&&e!==N.CreatorAgent}))}function dn(e,t){var r=Sn(e),n=En(e),o=Cn(e),i=Lt(e,N.agent,t);return r&&(i=_n(i)),n&&(i=xn(i)),o&&(i=Pn(i)),i}function gn(e,t){return It(e,N.agent,t)}function mn(e,t){return Ut(e,N.agent,t)}function vn(e){return Ye(e,N.group)}function yn(e,t){return Lt(e,N.group,t)}function bn(e,t){return It(e,N.group,t)}function wn(e,t){return Ut(e,N.group,t)}function Sn(e){return Ye(e,N.agent).filter((function(e){return e===N.PublicAgent})).length>0}function _n(e){if("object"===typeof arguments&&"boolean"===typeof arguments[1])throw new Error("The function `setPublic` no longer takes a second parameter. It is now used together with `removePublic` instead.");return It(e,N.agent,N.PublicAgent)}function kn(e){return Ut(e,N.agent,N.PublicAgent)}function En(e){return Ye(e,N.agent).filter((function(e){return e===N.AuthenticatedAgent})).length>0}function xn(e){if("object"===typeof arguments&&"boolean"===typeof arguments[1])throw new Error("The function `setAuthenticated` no longer takes a second parameter. It is now used together with `removeAuthenticated` instead.");return It(e,N.agent,N.AuthenticatedAgent)}function An(e){return Ut(e,N.agent,N.AuthenticatedAgent)}function Cn(e){return Ye(e,N.agent).filter((function(e){return e===N.CreatorAgent})).length>0}function Pn(e){if("object"===typeof arguments&&"boolean"===typeof arguments[1])throw new Error("The function `setCreator` no longer takes a second parameter. It is now used together with `removeCreator` instead.");return It(e,N.agent,N.CreatorAgent)}function Fn(e){return Ut(e,N.agent,N.CreatorAgent)}function Tn(e){return Ye(e,N.client).filter((function(e){return e!==L}))}function On(e){return Ye(e,N.client).filter((function(e){return e===L})).length>0}function Rn(e){return It(e,N.client,L)}function In(e){var t="## Rule: ".concat(it(e),"\n\n"),r="";Sn(e)&&(r+="- Everyone\n"),En(e)&&(r+="- All authenticated agents\n"),Cn(e)&&(r+="- The creator of this resource\n"),On(e)&&(r+="- Users of any client application\n");var n=fn(e);n.length>0&&(r+="- The following agents:\n  - ",r+=n.join("\n  - ")+"\n");var o=vn(e);o.length>0&&(r+="- Members of the following groups:\n  - ",r+=o.join("\n  - ")+"\n");var i=Tn(e);return i.length>0&&(r+="- Users of the following client applications:\n  - ",r+=i.join("\n  - ")+"\n"),t+=r.length>0?"This rule applies to:\n"+r:"<empty>\n"}function jn(e){return Ye(e,D).includes(N.Policy)}function Dn(e){var t=nt({url:T(e)});return t=Nt(t,D,N.Policy)}function Un(e,t){var r=Ze(e,t);return null!==r&&jn(r)?r:null}function Nn(e){return et(e).filter((function(e){return!st(e)&&jn(e)}))}function Ln(e,t){return rt(e,t)}function Mn(e,t){return tt(e,t)}function Bn(e,t){var r=jt(e,N.allow);return!0===t.read&&(r=It(r,N.allow,N.Read)),!0===t.append&&(r=It(r,N.allow,N.Append)),!0===t.write&&(r=It(r,N.allow,N.Write)),r}function Hn(e){var t=Ye(e,N.allow);return{read:t.includes(N.Read),append:t.includes(N.Append),write:t.includes(N.Write)}}function Kn(e,t){var r=jt(e,N.deny);return!0===t.read&&(r=It(r,N.deny,N.Read)),!0===t.append&&(r=It(r,N.deny,N.Append)),!0===t.write&&(r=It(r,N.deny,N.Write)),r}function Vn(e){var t=Ye(e,N.deny);return{read:t.includes(N.Read),append:t.includes(N.Append),write:t.includes(N.Write)}}function Wn(e,t){var r=$t(e),n=new URL(W(r));n.hash="#".concat(t);var o=nt({url:n.href});return o=Nt(o,D,N.Policy)}function qn(e,t){var r=$t(e),n=W(r),o=new URL(n);o.hash="#".concat(t);var i=Ze(r,o.href);return wr(e).includes(o.href)&&null!==i&&jn(i)?i:null}function zn(e,t){var r=$t(e),n=W(r),o=new URL(n);o.hash="#".concat(t);var i=Ze(r,o.href);return pr(e).includes(o.href)&&null!==i&&jn(i)?i:null}function Jn(e,t){var r=$t(e);return yr(Qt(e,tt(r,t)),it(t,W(r)))}function Gn(e,t){var r=$t(e);return lr(Qt(e,tt(r,t)),it(t,W(r)))}function Yn(e){function t(e,t){return t?"denied":e?"allowed":"unspecified"}var r=Hn(e),n=Vn(e),o="## Policy: ".concat(it(e),"\n\n");o+="- Read: ".concat(t(r.read,n.read),"\n"),o+="- Append: ".concat(t(r.append,n.append),"\n"),o+="- Write: ".concat(t(r.write,n.write),"\n");var i=Yr(e),a=Zr(e),s=nn(e);return 0===i.length&&0===a.length&&0===s.length&&(o+="\n<no rules specified yet>\n"),i.length>0&&(o+="\nAll of these rules should match:\n",o+="- "+i.join("\n- ")+"\n"),a.length>0&&(o+="\nAt least one of these rules should match:\n",o+="- "+a.join("\n- ")+"\n"),s.length>0&&(o+="\nNone of these rules should match:\n",o+="- "+s.join("\n- ")+"\n"),o}function $n(e){var t=new URL("access-control-resource",e).href;return Object.assign(Object.assign({},Ot(t)),{accessTo:e})}function Qn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$n(W(e)),r=Object.assign(I(e),{internal_acp:{acr:t,aprs:{}}});return r}var Xn={getFileWithAccessDatasets:Dr,getFileWithAcr:Fr,getReferencedPolicyUrlAll:Wr,getResourceInfoWithAccessDatasets:Nr,getResourceInfoWithAcr:Or,getSolidDatasetWithAccessDatasets:Ir,getSolidDatasetWithAcr:Cr,hasAccessibleAcr:Hr,saveAcrFor:Mr},Zn={acrAsMarkdown:Ar,addAcrPolicyUrl:lr,addMemberAcrPolicyUrl:hr,addMemberPolicyUrl:br,addPolicyUrl:yr,getAcrPolicyUrlAll:pr,getMemberAcrPolicyUrlAll:fr,getMemberPolicyUrlAll:Sr,getPolicyUrlAll:wr,hasLinkedAcr:ur,removeAcrPolicyUrl:dr,removeAcrPolicyUrlAll:mr,removeMemberAcrPolicyUrl:gr,removeMemberAcrPolicyUrlAll:vr,removeMemberPolicyUrl:kr,removeMemberPolicyUrlAll:xr,removePolicyUrl:_r,removePolicyUrlAll:Er},eo={createPolicy:Dn,getAllowModes:Hn,getDenyModes:Vn,getPolicy:Un,getPolicyAll:Nn,policyAsMarkdown:Yn,removePolicy:Ln,setAllowModes:Bn,setDenyModes:Kn,setPolicy:Mn},to={addAgent:gn,addForbiddenRuleUrl:en,addGroup:bn,addOptionalRuleUrl:$r,addRequiredRuleUrl:zr,createRule:on,getAgentAll:fn,getForbiddenRuleUrlAll:nn,getGroupAll:vn,getOptionalRuleUrlAll:Zr,getRequiredRuleUrlAll:Yr,getRule:sn,getRuleAll:un,hasAuthenticated:En,hasCreator:Cn,hasPublic:Sn,removeAgent:mn,removeForbiddenRuleUrl:tn,removeGroup:wn,removeOptionalRuleUrl:Qr,removeRequiredRuleUrl:Jr,removeRule:ln,ruleAsMarkdown:In,setAgent:dn,setForbiddenRuleUrl:rn,setGroup:yn,setOptionalRuleUrl:Xr,setRequiredRuleUrl:Gr,setRule:hn},ro={addMockAcrTo:Qn,mockAcrFor:$n};function no(e,t){return t?_n(e):kn(e)}function oo(e,t){return t?xn(e):An(e)}function io(e,t){return t?Pn(e):Fn(e)}var ao={getForbiddenRuleurlAll:nn,setPublic:no,setAuthenticated:oo,setCreator:io},so=(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Xn),Zn),eo),to),ro),ao),{getFileWithAccessDatasets:Dr,getFileWithAcr:Fr,getReferencedPolicyUrlAll:Wr,getResourceInfoWithAccessDatasets:Nr,getResourceInfoWithAcr:Or,getSolidDatasetWithAccessDatasets:Ir,getSolidDatasetWithAcr:Cr,hasAccessibleAcr:Hr,saveAcrFor:Mr}),co={createPolicy:Dn,getAllowModes:Hn,getDenyModes:Vn,getPolicy:Un,getPolicyAll:Nn,policyAsMarkdown:Yn,removePolicy:Ln,setAllowModes:Bn,setDenyModes:Kn,setPolicy:Mn},uo={addAgent:gn,addForbiddenRuleUrl:en,addGroup:bn,addOptionalRuleUrl:$r,addRequiredRuleUrl:zr,createRule:on,getAgentAll:fn,getForbiddenRuleUrlAll:nn,getGroupAll:vn,getOptionalRuleUrlAll:Zr,getRequiredRuleUrlAll:Yr,getRule:sn,getRuleAll:un,hasAuthenticated:En,hasCreator:Cn,hasPublic:Sn,removeAgent:mn,removeForbiddenRuleUrl:tn,removeGroup:wn,removeOptionalRuleUrl:Qr,removeRequiredRuleUrl:Jr,removeRule:ln,ruleAsMarkdown:In,setAgent:dn,setForbiddenRuleUrl:rn,setGroup:yn,setOptionalRuleUrl:Xr,setRequiredRuleUrl:Gr,setRule:hn},lo={addMockAcrTo:Qn,mockAcrFor:$n},ho={hasLinkedAcr:ur,addAcrPolicyUrl:lr,addMemberAcrPolicyUrl:hr,getAcrPolicyUrlAll:pr,getMemberAcrPolicyUrlAll:fr,removeAcrPolicyUrl:dr,removeAcrPolicyUrlAll:mr,removeMemberAcrPolicyUrl:gr,removeMemberAcrPolicyUrlAll:vr},po={createControl:Xt,getControl:function(e,t,r){var n=Ze($t(e),t,r);return null!==n&&Ye(n,D).includes(N.AccessControl)?n:null},getAllControl:Zt,getControlAll:Zt,setControl:er,removeControl:function(e,t){var r=rt($t(e),t);return Qt(e,r)},addPolicyUrl:tr,getPolicyUrlAll:rr,removePolicyUrl:nr,removePolicyUrlAll:or,addMemberPolicyUrl:ir,getMemberPolicyUrlAll:ar,removeMemberPolicyUrl:ar,removeMemberPolicyUrlAll:sr,getForbiddenRuleurlAll:nn,setPublic:no,setAuthenticated:oo,setCreator:io};Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},so),co),uo),lo),ho),po);var fo={getFileWithAccessDatasets:Dr,getFileWithAcr:Fr,getReferencedPolicyUrlAll:Wr,getResourceInfoWithAccessDatasets:Nr,getResourceInfoWithAcr:Or,getSolidDatasetWithAccessDatasets:Ir,getSolidDatasetWithAcr:Cr,hasAccessibleAcr:Hr,saveAcrFor:Mr},go={acrAsMarkdown:Ar,addAcrPolicyUrl:lr,addMemberAcrPolicyUrl:hr,addMemberPolicyUrl:br,addPolicyUrl:yr,getAcrPolicyUrlAll:pr,getMemberAcrPolicyUrlAll:fr,getMemberPolicyUrlAll:Sr,getPolicyUrlAll:wr,hasLinkedAcr:ur,removeAcrPolicyUrl:dr,removeAcrPolicyUrlAll:mr,removeMemberAcrPolicyUrl:gr,removeMemberAcrPolicyUrlAll:vr,removeMemberPolicyUrl:kr,removeMemberPolicyUrlAll:xr,removePolicyUrl:_r,removePolicyUrlAll:Er},mo={createPolicy:Dn,getAllowModes:Hn,getDenyModes:Vn,getPolicy:Un,getPolicyAll:Nn,policyAsMarkdown:Yn,removePolicy:Ln,setAllowModes:Bn,setDenyModes:Kn,setPolicy:Mn,createResourcePolicyFor:Wn,getResourceAcrPolicy:zn,getResourceAcrPolicyAll:function(e){var t=$t(e);return pr(e).map((function(e){return Ze(t,e)})).filter((function(e){return null!==e&&jn(e)}))},getResourcePolicy:qn,getResourcePolicyAll:function(e){var t=$t(e);return wr(e).map((function(e){return Ze(t,e)})).filter((function(e){return null!==e&&jn(e)}))},removeResourceAcrPolicy:function(e,t){var r,n=$t(e),o=t;if("string"===typeof o)try{new URL(o)}catch(a){var i=new URL(W(n));i.hash="#".concat(t),o=i.href}return r="string"===typeof o?o:ve(o)?T(o):it(o,W(n)),null===zn(e,new URL(r).hash.substring(1))?e:dr(Qt(e,rt(n,o)),r)},removeResourcePolicy:function(e,t){var r,n=$t(e),o=t;if("string"===typeof o)try{new URL(o)}catch(a){var i=new URL(W(n));i.hash="#".concat(t),o=i.href}return r="string"===typeof o?o:ve(o)?T(o):it(o,W(n)),null===qn(e,new URL(r).hash.substring(1))?e:_r(Qt(e,rt(n,o)),r)},setResourceAcrPolicy:Gn,setResourcePolicy:Jn},vo={addAgent:gn,addGroup:bn,createRule:on,getAgentAll:fn,getGroupAll:vn,getRule:sn,getRuleAll:un,removeAgent:mn,removeGroup:wn,removeRule:ln,ruleAsMarkdown:In,setAgent:dn,setGroup:yn,setRule:hn,addClient:function(e,t){return It(e,N.client,t)},getClientAll:Tn,hasAnyClient:On,removeClient:function(e,t){return Ut(e,N.client,t)},setAnyClient:Rn,setClient:function(e,t){var r=On(e),n=Lt(e,N.client,t);return r&&(n=Rn(n)),n},removeAnyClient:function(e){return Ut(e,N.client,L)},hasAuthenticated:En,hasCreator:Cn,hasPublic:Sn,setAuthenticated:xn,setCreator:Pn,setPublic:_n,removeAuthenticated:An,removeCreator:Fn,removePublic:kn,getAnyOfRuleUrlAll:Zr,addAnyOfRuleUrl:$r,removeAnyOfRuleUrl:Qr,setAnyOfRuleUrl:Xr,getAllOfRuleUrlAll:Yr,addAllOfRuleUrl:zr,removeAllOfRuleUrl:Jr,setAllOfRuleUrl:Gr,getNoneOfRuleUrlAll:nn,addNoneOfRuleUrl:en,removeNoneOfRuleUrl:tn,setNoneOfRuleUrl:rn,createResourceRuleFor:an,getResourceRule:cn,getResourceRuleAll:function(e){return et($t(e)).filter(qr)},removeResourceRule:function(e,t){var r,n=$t(e);if("string"===typeof t)try{new URL(t),r=t}catch(a){var o=new URL(W(n));o.hash="#".concat(t),r=o.href}else r=ve(t)?T(t):it(t);var i=cn(e,new URL(r).hash.substring(1));return null===i?e:Qt(e,rt(n,i))},setResourceRule:pn},yo={addMockAcrTo:Qn,mockAcrFor:$n};Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},fo),go),mo),vo),yo),N.agent,N.group},function(e,t){function r(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void r(u)}s.done?t(c):Promise.resolve(c).then(n,o)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function s(e){r(a,o,i,s,c,"next",e)}function c(e){r(a,o,i,s,c,"throw",e)}s(void 0)}))}}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StorageUtilityGetResponse=t.StorageUtilityMock=t.mockStorageUtility=t.mockStorage=t.buildDpopFetch=t.buildBearerFetch=t.buildAuthenticatedFetch=t.generateDpopKeyPair=t.createDpopHeader=t.NotImplementedError=t.ConfigurationError=t.InMemoryStorage=t.getSessionIdFromOauthState=t.saveSessionInfoToStorage=t.loadOidcContextFromStorage=t.StorageUtility=t.determineSigningAlg=t.handleRegistration=t.USER_SESSION_PREFIX=t.isSupportedTokenType=t.fetchJwks=t.getWebidFromTokenPayload=t.AggregateHandler=void 0,o(r(54),t);var a=r(86);Object.defineProperty(t,"AggregateHandler",{enumerable:!0,get:function(){return i(a).default}});var s=r(92);Object.defineProperty(t,"getWebidFromTokenPayload",{enumerable:!0,get:function(){return s.getWebidFromTokenPayload}}),Object.defineProperty(t,"fetchJwks",{enumerable:!0,get:function(){return s.fetchJwks}});var c=r(98);Object.defineProperty(t,"isSupportedTokenType",{enumerable:!0,get:function(){return c.isSupportedTokenType}});var u=r(99);Object.defineProperty(t,"USER_SESSION_PREFIX",{enumerable:!0,get:function(){return u.USER_SESSION_PREFIX}});var l=r(100);Object.defineProperty(t,"handleRegistration",{enumerable:!0,get:function(){return l.handleRegistration}}),Object.defineProperty(t,"determineSigningAlg",{enumerable:!0,get:function(){return l.determineSigningAlg}});var h=r(101);Object.defineProperty(t,"StorageUtility",{enumerable:!0,get:function(){return i(h).default}}),Object.defineProperty(t,"loadOidcContextFromStorage",{enumerable:!0,get:function(){return h.loadOidcContextFromStorage}}),Object.defineProperty(t,"saveSessionInfoToStorage",{enumerable:!0,get:function(){return h.saveSessionInfoToStorage}}),Object.defineProperty(t,"getSessionIdFromOauthState",{enumerable:!0,get:function(){return h.getSessionIdFromOauthState}});var p=r(102);Object.defineProperty(t,"InMemoryStorage",{enumerable:!0,get:function(){return i(p).default}});var f=r(103);Object.defineProperty(t,"ConfigurationError",{enumerable:!0,get:function(){return i(f).default}});var d=r(104);Object.defineProperty(t,"NotImplementedError",{enumerable:!0,get:function(){return i(d).default}});var g=r(58);Object.defineProperty(t,"createDpopHeader",{enumerable:!0,get:function(){return g.createDpopHeader}}),Object.defineProperty(t,"generateDpopKeyPair",{enumerable:!0,get:function(){return g.generateDpopKeyPair}});var m=r(105);Object.defineProperty(t,"buildAuthenticatedFetch",{enumerable:!0,get:function(){return m.buildAuthenticatedFetch}}),Object.defineProperty(t,"buildBearerFetch",{enumerable:!0,get:function(){return m.buildBearerFetch}}),Object.defineProperty(t,"buildDpopFetch",{enumerable:!0,get:function(){return m.buildDpopFetch}});var v=r(106);Object.defineProperty(t,"mockStorage",{enumerable:!0,get:function(){return v.mockStorage}}),Object.defineProperty(t,"mockStorageUtility",{enumerable:!0,get:function(){return v.mockStorageUtility}}),Object.defineProperty(t,"StorageUtilityMock",{enumerable:!0,get:function(){return v.StorageUtilityMock}}),Object.defineProperty(t,"StorageUtilityGetResponse",{enumerable:!0,get:function(){return v.StorageUtilityGetResponse}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(27);var o=r(23);function i(e){return function(e){if(Array.isArray(e))return Object(n.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(o.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,r){var n;n=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=22)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o={debug:function(){},info:function(){},warn:function(){},error:function(){}},i=void 0,a=void 0;(t.Log=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.reset=function(){a=3,i=o},e.debug=function(){if(a>=4){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];i.debug.apply(i,Array.from(t))}},e.info=function(){if(a>=3){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];i.info.apply(i,Array.from(t))}},e.warn=function(){if(a>=2){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];i.warn.apply(i,Array.from(t))}},e.error=function(){if(a>=1){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];i.error.apply(i,Array.from(t))}},n(e,null,[{key:"NONE",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARN",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"level",get:function(){return a},set:function(e){if(!(0<=e&&e<=4))throw new Error("Invalid log level");a=e}},{key:"logger",get:function(){return i},set:function(e){if(!e.debug&&e.info&&(e.debug=e.info),!(e.debug&&e.info&&e.warn&&e.error))throw new Error("Invalid logger");i=e}}]),e}()).reset()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o={setInterval:function(e){function t(t,r){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return setInterval(e,t)})),clearInterval:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return clearInterval(e)}))},i=!1,a=null;t.Global=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e._testing=function(){i=!0},e.setXMLHttpRequest=function(e){a=e},n(e,null,[{key:"location",get:function(){if(!i)return location}},{key:"localStorage",get:function(){if(!i&&"undefined"!=typeof window)return localStorage}},{key:"sessionStorage",get:function(){if(!i&&"undefined"!=typeof window)return sessionStorage}},{key:"XMLHttpRequest",get:function(){if(!i&&"undefined"!=typeof window)return a||XMLHttpRequest}},{key:"timer",get:function(){if(!i)return o}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetadataService=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0),i=r(7);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=".well-known/openid-configuration";t.MetadataService=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.JsonService;if(a(this,e),!t)throw o.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=t,this._jsonService=new r(["application/jwk-set+json"])}return e.prototype.resetSigningKeys=function(){this._settings=this._settings||{},this._settings.signingKeys=void 0},e.prototype.getMetadata=function(){var e=this;return this._settings.metadata?(o.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(o.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then((function(t){o.Log.debug("MetadataService.getMetadata: json received");var r=e._settings.metadataSeed||{};return e._settings.metadata=Object.assign({},r,t),e._settings.metadata}))):(o.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},e.prototype.getIssuer=function(){return this._getMetadataProperty("issuer")},e.prototype.getAuthorizationEndpoint=function(){return this._getMetadataProperty("authorization_endpoint")},e.prototype.getUserInfoEndpoint=function(){return this._getMetadataProperty("userinfo_endpoint")},e.prototype.getTokenEndpoint=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._getMetadataProperty("token_endpoint",e)},e.prototype.getCheckSessionIframe=function(){return this._getMetadataProperty("check_session_iframe",!0)},e.prototype.getEndSessionEndpoint=function(){return this._getMetadataProperty("end_session_endpoint",!0)},e.prototype.getRevocationEndpoint=function(){return this._getMetadataProperty("revocation_endpoint",!0)},e.prototype.getKeysEndpoint=function(){return this._getMetadataProperty("jwks_uri",!0)},e.prototype._getMetadataProperty=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o.Log.debug("MetadataService.getMetadataProperty for: "+e),this.getMetadata().then((function(r){if(o.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),void 0===r[e]){if(!0===t)return void o.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+e);throw o.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+e),new Error("Metadata does not contain property "+e)}return r[e]}))},e.prototype.getSigningKeys=function(){var e=this;return this._settings.signingKeys?(o.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then((function(t){return o.Log.debug("MetadataService.getSigningKeys: jwks_uri received",t),e._jsonService.getJson(t).then((function(t){if(o.Log.debug("MetadataService.getSigningKeys: key set received",t),!t.keys)throw o.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return e._settings.signingKeys=t.keys,e._settings.signingKeys}))}))},n(e,[{key:"metadataUrl",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(s)<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=s))),this._metadataUrl}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UrlUtility=void 0;var n=r(0),o=r(1);t.UrlUtility=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.addQueryParam=function(e,t,r){return e.indexOf("?")<0&&(e+="?"),"?"!==e[e.length-1]&&(e+="&"),e+=encodeURIComponent(t),(e+="=")+encodeURIComponent(r)},e.parseUrlFragment=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.Global;"string"!=typeof e&&(e=r.location.href);var i=e.lastIndexOf(t);i>=0&&(e=e.substr(i+1)),"?"===t&&(i=e.indexOf("#"))>=0&&(e=e.substr(0,i));for(var a,s={},c=/([^&=]+)=([^&]*)/g,u=0;a=c.exec(e);)if(s[decodeURIComponent(a[1])]=decodeURIComponent(a[2].replace(/\+/g," ")),u++>50)return n.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",e),{error:"Response exceeded expected number of parameters"};for(var l in s)return s;return{}},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JoseUtil=void 0;var n=r(26),o=function(e){return e&&e.__esModule?e:{default:e}}(r(33));t.JoseUtil=(0,o.default)({jws:n.jws,KeyUtil:n.KeyUtil,X509:n.X509,crypto:n.crypto,hextob64u:n.hextob64u,b64tohex:n.b64tohex,AllowedSigningAlgs:n.AllowedSigningAlgs})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OidcClientSettings=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0),a=r(23),s=r(6),c=r(24),u=r(2);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var h=".well-known/openid-configuration",p="id_token",f="openid",d="client_secret_post";t.OidcClientSettings=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.authority,o=t.metadataUrl,i=t.metadata,h=t.signingKeys,g=t.metadataSeed,m=t.client_id,v=t.client_secret,y=t.response_type,b=void 0===y?p:y,w=t.scope,S=void 0===w?f:w,_=t.redirect_uri,k=t.post_logout_redirect_uri,E=t.client_authentication,x=void 0===E?d:E,A=t.prompt,C=t.display,P=t.max_age,F=t.ui_locales,T=t.acr_values,O=t.resource,R=t.response_mode,I=t.filterProtocolClaims,j=void 0===I||I,D=t.loadUserInfo,U=void 0===D||D,N=t.staleStateAge,L=void 0===N?900:N,M=t.clockSkew,B=void 0===M?300:M,H=t.clockService,K=void 0===H?new a.ClockService:H,V=t.userInfoJwtIssuer,W=void 0===V?"OP":V,q=t.mergeClaims,z=void 0!==q&&q,J=t.stateStore,G=void 0===J?new s.WebStorageStateStore:J,Y=t.ResponseValidatorCtor,$=void 0===Y?c.ResponseValidator:Y,Q=t.MetadataServiceCtor,X=void 0===Q?u.MetadataService:Q,Z=t.extraQueryParams,ee=void 0===Z?{}:Z,te=t.extraTokenParams,re=void 0===te?{}:te;l(this,e),this._authority=r,this._metadataUrl=o,this._metadata=i,this._metadataSeed=g,this._signingKeys=h,this._client_id=m,this._client_secret=v,this._response_type=b,this._scope=S,this._redirect_uri=_,this._post_logout_redirect_uri=k,this._client_authentication=x,this._prompt=A,this._display=C,this._max_age=P,this._ui_locales=F,this._acr_values=T,this._resource=O,this._response_mode=R,this._filterProtocolClaims=!!j,this._loadUserInfo=!!U,this._staleStateAge=L,this._clockSkew=B,this._clockService=K,this._userInfoJwtIssuer=W,this._mergeClaims=!!z,this._stateStore=G,this._validator=new $(this),this._metadataService=new X(this),this._extraQueryParams="object"===(void 0===ee?"undefined":n(ee))?ee:{},this._extraTokenParams="object"===(void 0===re?"undefined":n(re))?re:{}}return e.prototype.getEpochTime=function(){return this._clockService.getEpochTime()},o(e,[{key:"client_id",get:function(){return this._client_id},set:function(e){if(this._client_id)throw i.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=e}},{key:"client_secret",get:function(){return this._client_secret}},{key:"response_type",get:function(){return this._response_type}},{key:"scope",get:function(){return this._scope}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function(){return this._post_logout_redirect_uri}},{key:"client_authentication",get:function(){return this._client_authentication}},{key:"prompt",get:function(){return this._prompt}},{key:"display",get:function(){return this._display}},{key:"max_age",get:function(){return this._max_age}},{key:"ui_locales",get:function(){return this._ui_locales}},{key:"acr_values",get:function(){return this._acr_values}},{key:"resource",get:function(){return this._resource}},{key:"response_mode",get:function(){return this._response_mode}},{key:"authority",get:function(){return this._authority},set:function(e){if(this._authority)throw i.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=e}},{key:"metadataUrl",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(h)<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=h)),this._metadataUrl}},{key:"metadata",get:function(){return this._metadata},set:function(e){this._metadata=e}},{key:"metadataSeed",get:function(){return this._metadataSeed},set:function(e){this._metadataSeed=e}},{key:"signingKeys",get:function(){return this._signingKeys},set:function(e){this._signingKeys=e}},{key:"filterProtocolClaims",get:function(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function(){return this._loadUserInfo}},{key:"staleStateAge",get:function(){return this._staleStateAge}},{key:"clockSkew",get:function(){return this._clockSkew}},{key:"userInfoJwtIssuer",get:function(){return this._userInfoJwtIssuer}},{key:"mergeClaims",get:function(){return this._mergeClaims}},{key:"stateStore",get:function(){return this._stateStore}},{key:"validator",get:function(){return this._validator}},{key:"metadataService",get:function(){return this._metadataService}},{key:"extraQueryParams",get:function(){return this._extraQueryParams},set:function(e){"object"===(void 0===e?"undefined":n(e))?this._extraQueryParams=e:this._extraQueryParams={}}},{key:"extraTokenParams",get:function(){return this._extraTokenParams},set:function(e){"object"===(void 0===e?"undefined":n(e))?this._extraTokenParams=e:this._extraTokenParams={}}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebStorageStateStore=void 0;var n=r(0),o=r(1);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.WebStorageStateStore=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.prefix,n=void 0===r?"oidc.":r,a=t.store,s=void 0===a?o.Global.localStorage:a;i(this,e),this._store=s,this._prefix=n}return e.prototype.set=function(e,t){return n.Log.debug("WebStorageStateStore.set",e),e=this._prefix+e,this._store.setItem(e,t),Promise.resolve()},e.prototype.get=function(e){n.Log.debug("WebStorageStateStore.get",e),e=this._prefix+e;var t=this._store.getItem(e);return Promise.resolve(t)},e.prototype.remove=function(e){n.Log.debug("WebStorageStateStore.remove",e),e=this._prefix+e;var t=this._store.getItem(e);return this._store.removeItem(e),Promise.resolve(t)},e.prototype.getAllKeys=function(){n.Log.debug("WebStorageStateStore.getAllKeys");for(var e=[],t=0;t<this._store.length;t++){var r=this._store.key(t);0===r.indexOf(this._prefix)&&e.push(r.substr(this._prefix.length))}return Promise.resolve(e)},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JsonService=void 0;var n=r(0),o=r(1);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.JsonService=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.Global.XMLHttpRequest,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;i(this,e),t&&Array.isArray(t)?this._contentTypes=t.slice():this._contentTypes=[],this._contentTypes.push("application/json"),n&&this._contentTypes.push("application/jwt"),this._XMLHttpRequest=r,this._jwtHandler=n}return e.prototype.getJson=function(e,t){var r=this;if(!e)throw n.Log.error("JsonService.getJson: No url passed"),new Error("url");return n.Log.debug("JsonService.getJson, url: ",e),new Promise((function(o,i){var a=new r._XMLHttpRequest;a.open("GET",e);var s=r._contentTypes,c=r._jwtHandler;a.onload=function(){if(n.Log.debug("JsonService.getJson: HTTP response received, status",a.status),200===a.status){var t=a.getResponseHeader("Content-Type");if(t){var r=s.find((function(e){if(t.startsWith(e))return!0}));if("application/jwt"==r)return void c(a).then(o,i);if(r)try{return void o(JSON.parse(a.responseText))}catch(o){return n.Log.error("JsonService.getJson: Error parsing JSON response",o.message),void i(o)}}i(Error("Invalid response Content-Type: "+t+", from URL: "+e))}else i(Error(a.statusText+" ("+a.status+")"))},a.onerror=function(){n.Log.error("JsonService.getJson: network error"),i(Error("Network Error"))},t&&(n.Log.debug("JsonService.getJson: token passed, setting Authorization header"),a.setRequestHeader("Authorization","Bearer "+t)),a.send()}))},e.prototype.postForm=function(e,t,r){var o=this;if(!e)throw n.Log.error("JsonService.postForm: No url passed"),new Error("url");return n.Log.debug("JsonService.postForm, url: ",e),new Promise((function(i,a){var s=new o._XMLHttpRequest;s.open("POST",e);var c=o._contentTypes;s.onload=function(){if(n.Log.debug("JsonService.postForm: HTTP response received, status",s.status),200!==s.status){if(400===s.status&&(r=s.getResponseHeader("Content-Type"))&&c.find((function(e){if(r.startsWith(e))return!0})))try{var t=JSON.parse(s.responseText);if(t&&t.error)return n.Log.error("JsonService.postForm: Error from server: ",t.error),void a(new Error(t.error))}catch(i){return n.Log.error("JsonService.postForm: Error parsing JSON response",i.message),void a(i)}a(Error(s.statusText+" ("+s.status+")"))}else{var r;if((r=s.getResponseHeader("Content-Type"))&&c.find((function(e){if(r.startsWith(e))return!0})))try{return void i(JSON.parse(s.responseText))}catch(i){return n.Log.error("JsonService.postForm: Error parsing JSON response",i.message),void a(i)}a(Error("Invalid response Content-Type: "+r+", from URL: "+e))}},s.onerror=function(){n.Log.error("JsonService.postForm: network error"),a(Error("Network Error"))};var u="";for(var l in t){var h=t[l];h&&(u.length>0&&(u+="&"),u+=encodeURIComponent(l),u+="=",u+=encodeURIComponent(h))}s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),void 0!==r&&s.setRequestHeader("Authorization","Basic "+btoa(r)),s.send(u)}))},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SigninRequest=void 0;var n=r(0),o=r(3),i=r(13);t.SigninRequest=function(){function e(t){var r=t.url,a=t.client_id,s=t.redirect_uri,c=t.response_type,u=t.scope,l=t.authority,h=t.data,p=t.prompt,f=t.display,d=t.max_age,g=t.ui_locales,m=t.id_token_hint,v=t.login_hint,y=t.acr_values,b=t.resource,w=t.response_mode,S=t.request,_=t.request_uri,k=t.extraQueryParams,E=t.request_type,x=t.client_secret,A=t.extraTokenParams,C=t.skipUserInfo;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!r)throw n.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!a)throw n.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!s)throw n.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!c)throw n.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!u)throw n.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!l)throw n.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var P=e.isOidc(c),F=e.isCode(c);w||(w=e.isCode(c)?"query":null),this.state=new i.SigninState({nonce:P,data:h,client_id:a,authority:l,redirect_uri:s,code_verifier:F,request_type:E,response_mode:w,client_secret:x,scope:u,extraTokenParams:A,skipUserInfo:C}),r=o.UrlUtility.addQueryParam(r,"client_id",a),r=o.UrlUtility.addQueryParam(r,"redirect_uri",s),r=o.UrlUtility.addQueryParam(r,"response_type",c),r=o.UrlUtility.addQueryParam(r,"scope",u),r=o.UrlUtility.addQueryParam(r,"state",this.state.id),P&&(r=o.UrlUtility.addQueryParam(r,"nonce",this.state.nonce)),F&&(r=o.UrlUtility.addQueryParam(r,"code_challenge",this.state.code_challenge),r=o.UrlUtility.addQueryParam(r,"code_challenge_method","S256"));var T={prompt:p,display:f,max_age:d,ui_locales:g,id_token_hint:m,login_hint:v,acr_values:y,resource:b,request:S,request_uri:_,response_mode:w};for(var O in T)T[O]&&(r=o.UrlUtility.addQueryParam(r,O,T[O]));for(var R in k)r=o.UrlUtility.addQueryParam(r,R,k[R]);this.url=r}return e.isOidc=function(e){return!!e.split(/\s+/g).filter((function(e){return"id_token"===e}))[0]},e.isOAuth=function(e){return!!e.split(/\s+/g).filter((function(e){return"token"===e}))[0]},e.isCode=function(e){return!!e.split(/\s+/g).filter((function(e){return"code"===e}))[0]},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.State=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0),i=function(e){return e&&e.__esModule?e:{default:e}}(r(14));function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.State=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.id,n=t.data,o=t.created,s=t.request_type;a(this,e),this._id=r||(0,i.default)(),this._data=n,this._created="number"==typeof o&&o>0?o:parseInt(Date.now()/1e3),this._request_type=s}return e.prototype.toStorageString=function(){return o.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},e.fromStorageString=function(t){return o.Log.debug("State.fromStorageString"),new e(JSON.parse(t))},e.clearStaleState=function(t,r){var n=Date.now()/1e3-r;return t.getAllKeys().then((function(r){o.Log.debug("State.clearStaleState: got keys",r);for(var i=[],a=function(a){var s=r[a];c=t.get(s).then((function(r){var i=!1;if(r)try{var a=e.fromStorageString(r);o.Log.debug("State.clearStaleState: got item from key: ",s,a.created),a.created<=n&&(i=!0)}catch(e){o.Log.error("State.clearStaleState: Error parsing state for key",s,e.message),i=!0}else o.Log.debug("State.clearStaleState: no item in storage for key: ",s),i=!0;if(i)return o.Log.debug("State.clearStaleState: removed item for key: ",s),t.remove(s)})),i.push(c)},s=0;s<r.length;s++){var c;a(s)}return o.Log.debug("State.clearStaleState: waiting on promise count:",i.length),Promise.all(i)}))},n(e,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"created",get:function(){return this._created}},{key:"request_type",get:function(){return this._request_type}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OidcClient=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0),i=r(5),a=r(12),s=r(8),c=r(34),u=r(35),l=r(36),h=r(13),p=r(9);function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.OidcClient=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f(this,e),t instanceof i.OidcClientSettings?this._settings=t:this._settings=new i.OidcClientSettings(t)}return e.prototype.createSigninRequest=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.response_type,n=t.scope,i=t.redirect_uri,a=t.data,c=t.state,u=t.prompt,l=t.display,h=t.max_age,p=t.ui_locales,f=t.id_token_hint,d=t.login_hint,g=t.acr_values,m=t.resource,v=t.request,y=t.request_uri,b=t.response_mode,w=t.extraQueryParams,S=t.extraTokenParams,_=t.request_type,k=t.skipUserInfo,E=arguments[1];o.Log.debug("OidcClient.createSigninRequest");var x=this._settings.client_id;r=r||this._settings.response_type,n=n||this._settings.scope,i=i||this._settings.redirect_uri,u=u||this._settings.prompt,l=l||this._settings.display,h=h||this._settings.max_age,p=p||this._settings.ui_locales,g=g||this._settings.acr_values,m=m||this._settings.resource,b=b||this._settings.response_mode,w=w||this._settings.extraQueryParams,S=S||this._settings.extraTokenParams;var A=this._settings.authority;return s.SigninRequest.isCode(r)&&"code"!==r?Promise.reject(new Error("OpenID Connect hybrid flow is not supported")):this._metadataService.getAuthorizationEndpoint().then((function(t){o.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",t);var C=new s.SigninRequest({url:t,client_id:x,redirect_uri:i,response_type:r,scope:n,data:a||c,authority:A,prompt:u,display:l,max_age:h,ui_locales:p,id_token_hint:f,login_hint:d,acr_values:g,resource:m,request:v,request_uri:y,extraQueryParams:w,extraTokenParams:S,request_type:_,response_mode:b,client_secret:e._settings.client_secret,skipUserInfo:k}),P=C.state;return(E=E||e._stateStore).set(P.id,P.toStorageString()).then((function(){return C}))}))},e.prototype.readSigninResponseState=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];o.Log.debug("OidcClient.readSigninResponseState");var n="query"===this._settings.response_mode||!this._settings.response_mode&&s.SigninRequest.isCode(this._settings.response_type),i=n?"?":"#",a=new c.SigninResponse(e,i);if(!a.state)return o.Log.error("OidcClient.readSigninResponseState: No state in response"),Promise.reject(new Error("No state in response"));t=t||this._stateStore;var u=r?t.remove.bind(t):t.get.bind(t);return u(a.state).then((function(e){if(!e)throw o.Log.error("OidcClient.readSigninResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:h.SigninState.fromStorageString(e),response:a}}))},e.prototype.processSigninResponse=function(e,t){var r=this;return o.Log.debug("OidcClient.processSigninResponse"),this.readSigninResponseState(e,t,!0).then((function(e){var t=e.state,n=e.response;return o.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),r._validator.validateSigninResponse(t,n)}))},e.prototype.createSignoutRequest=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.id_token_hint,n=t.data,i=t.state,a=t.post_logout_redirect_uri,s=t.extraQueryParams,c=t.request_type,l=arguments[1];return o.Log.debug("OidcClient.createSignoutRequest"),a=a||this._settings.post_logout_redirect_uri,s=s||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then((function(t){if(!t)throw o.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");o.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",t);var h=new u.SignoutRequest({url:t,id_token_hint:r,post_logout_redirect_uri:a,data:n||i,extraQueryParams:s,request_type:c}),p=h.state;return p&&(o.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),(l=l||e._stateStore).set(p.id,p.toStorageString())),h}))},e.prototype.readSignoutResponseState=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];o.Log.debug("OidcClient.readSignoutResponseState");var n=new l.SignoutResponse(e);if(!n.state)return o.Log.debug("OidcClient.readSignoutResponseState: No state in response"),n.error?(o.Log.warn("OidcClient.readSignoutResponseState: Response was error: ",n.error),Promise.reject(new a.ErrorResponse(n))):Promise.resolve({state:void 0,response:n});var i=n.state;t=t||this._stateStore;var s=r?t.remove.bind(t):t.get.bind(t);return s(i).then((function(e){if(!e)throw o.Log.error("OidcClient.readSignoutResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:p.State.fromStorageString(e),response:n}}))},e.prototype.processSignoutResponse=function(e,t){var r=this;return o.Log.debug("OidcClient.processSignoutResponse"),this.readSignoutResponseState(e,t,!0).then((function(e){var t=e.state,n=e.response;return t?(o.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),r._validator.validateSignoutResponse(t,n)):(o.Log.debug("OidcClient.processSignoutResponse: No state from storage; skipping validating response"),n)}))},e.prototype.clearStaleState=function(e){return o.Log.debug("OidcClient.clearStaleState"),e=e||this._stateStore,p.State.clearStaleState(e,this.settings.staleStateAge)},n(e,[{key:"_stateStore",get:function(){return this.settings.stateStore}},{key:"_validator",get:function(){return this.settings.validator}},{key:"_metadataService",get:function(){return this.settings.metadataService}},{key:"settings",get:function(){return this._settings}},{key:"metadataService",get:function(){return this._metadataService}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenClient=void 0;var n=r(7),o=r(2),i=r(0);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.TokenClient=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.JsonService,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.MetadataService;if(a(this,e),!t)throw i.Log.error("TokenClient.ctor: No settings passed"),new Error("settings");this._settings=t,this._jsonService=new r,this._metadataService=new s(this._settings)}return e.prototype.exchangeCode=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t=Object.assign({},t)).grant_type=t.grant_type||"authorization_code",t.client_id=t.client_id||this._settings.client_id,t.client_secret=t.client_secret||this._settings.client_secret,t.redirect_uri=t.redirect_uri||this._settings.redirect_uri;var r=void 0,n=t._client_authentication||this._settings._client_authentication;return delete t._client_authentication,t.code?t.redirect_uri?t.code_verifier?t.client_id?t.client_secret||"client_secret_basic"!=n?("client_secret_basic"==n&&(r=t.client_id+":"+t.client_secret,delete t.client_id,delete t.client_secret),this._metadataService.getTokenEndpoint(!1).then((function(n){return i.Log.debug("TokenClient.exchangeCode: Received token endpoint"),e._jsonService.postForm(n,t,r).then((function(e){return i.Log.debug("TokenClient.exchangeCode: response received"),e}))}))):(i.Log.error("TokenClient.exchangeCode: No client_secret passed"),Promise.reject(new Error("A client_secret is required"))):(i.Log.error("TokenClient.exchangeCode: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(i.Log.error("TokenClient.exchangeCode: No code_verifier passed"),Promise.reject(new Error("A code_verifier is required"))):(i.Log.error("TokenClient.exchangeCode: No redirect_uri passed"),Promise.reject(new Error("A redirect_uri is required"))):(i.Log.error("TokenClient.exchangeCode: No code passed"),Promise.reject(new Error("A code is required")))},e.prototype.exchangeRefreshToken=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t=Object.assign({},t)).grant_type=t.grant_type||"refresh_token",t.client_id=t.client_id||this._settings.client_id,t.client_secret=t.client_secret||this._settings.client_secret;var r=void 0,n=t._client_authentication||this._settings._client_authentication;return delete t._client_authentication,t.refresh_token?t.client_id?("client_secret_basic"==n&&(r=t.client_id+":"+t.client_secret,delete t.client_id,delete t.client_secret),this._metadataService.getTokenEndpoint(!1).then((function(n){return i.Log.debug("TokenClient.exchangeRefreshToken: Received token endpoint"),e._jsonService.postForm(n,t,r).then((function(e){return i.Log.debug("TokenClient.exchangeRefreshToken: response received"),e}))}))):(i.Log.error("TokenClient.exchangeRefreshToken: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(i.Log.error("TokenClient.exchangeRefreshToken: No refresh_token passed"),Promise.reject(new Error("A refresh_token is required")))},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorResponse=void 0;var n=r(0);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.ErrorResponse=function(e){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=r.error,s=r.error_description,c=r.error_uri,u=r.state,l=r.session_state;if(o(this,t),!a)throw n.Log.error("No error passed to ErrorResponse"),new Error("error");var h=i(this,e.call(this,s||a));return h.name="ErrorResponse",h.error=a,h.error_description=s,h.error_uri=c,h.state=u,h.session_state=l,h}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(Error)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SigninState=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0),i=r(9),a=r(4),s=function(e){return e&&e.__esModule?e:{default:e}}(r(14));function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.SigninState=function(e){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.nonce,o=r.authority,i=r.client_id,l=r.redirect_uri,h=r.code_verifier,p=r.response_mode,f=r.client_secret,d=r.scope,g=r.extraTokenParams,m=r.skipUserInfo;c(this,t);var v=u(this,e.call(this,arguments[0]));if(!0===n?v._nonce=(0,s.default)():n&&(v._nonce=n),!0===h?v._code_verifier=(0,s.default)()+(0,s.default)()+(0,s.default)():h&&(v._code_verifier=h),v.code_verifier){var y=a.JoseUtil.hashString(v.code_verifier,"SHA256");v._code_challenge=a.JoseUtil.hexToBase64Url(y)}return v._redirect_uri=l,v._authority=o,v._client_id=i,v._response_mode=p,v._client_secret=f,v._scope=d,v._extraTokenParams=g,v._skipUserInfo=m,v}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.toStorageString=function(){return o.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},t.fromStorageString=function(e){return o.Log.debug("SigninState.fromStorageString"),new t(JSON.parse(e))},n(t,[{key:"nonce",get:function(){return this._nonce}},{key:"authority",get:function(){return this._authority}},{key:"client_id",get:function(){return this._client_id}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"code_verifier",get:function(){return this._code_verifier}},{key:"code_challenge",get:function(){return this._code_challenge}},{key:"response_mode",get:function(){return this._response_mode}},{key:"client_secret",get:function(){return this._client_secret}},{key:"scope",get:function(){return this._scope}},{key:"extraTokenParams",get:function(){return this._extraTokenParams}},{key:"skipUserInfo",get:function(){return this._skipUserInfo}}]),t}(i.State)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return("undefined"!=n&&null!==n&&void 0!==n.getRandomValues?o:i)().replace(/-/g,"")};var n="undefined"!=typeof window?window.crypto||window.msCrypto:null;function o(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^n.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))}function i(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^16*Math.random()>>e/4).toString(16)}))}e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.User=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0);t.User=function(){function e(t){var r=t.id_token,n=t.session_state,o=t.access_token,i=t.refresh_token,a=t.token_type,s=t.scope,c=t.profile,u=t.expires_at,l=t.state;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id_token=r,this.session_state=n,this.access_token=o,this.refresh_token=i,this.token_type=a,this.scope=s,this.profile=c,this.expires_at=u,this.state=l}return e.prototype.toStorageString=function(){return o.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},e.fromStorageString=function(t){return o.Log.debug("User.fromStorageString"),new e(JSON.parse(t))},n(e,[{key:"expires_in",get:function(){if(this.expires_at){var e=parseInt(Date.now()/1e3);return this.expires_at-e}},set:function(e){var t=parseInt(e);if("number"==typeof t&&t>0){var r=parseInt(Date.now()/1e3);this.expires_at=r+t}}},{key:"expired",get:function(){var e=this.expires_in;if(void 0!==e)return e<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AccessTokenEvents=void 0;var n=r(0),o=r(46);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.AccessTokenEvents=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.accessTokenExpiringNotificationTime,n=void 0===r?60:r,a=t.accessTokenExpiringTimer,s=void 0===a?new o.Timer("Access token expiring"):a,c=t.accessTokenExpiredTimer,u=void 0===c?new o.Timer("Access token expired"):c;i(this,e),this._accessTokenExpiringNotificationTime=n,this._accessTokenExpiring=s,this._accessTokenExpired=u}return e.prototype.load=function(e){if(e.access_token&&void 0!==e.expires_in){var t=e.expires_in;if(n.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",t),t>0){var r=t-this._accessTokenExpiringNotificationTime;r<=0&&(r=1),n.Log.debug("AccessTokenEvents.load: registering expiring timer in:",r),this._accessTokenExpiring.init(r)}else n.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var o=t+1;n.Log.debug("AccessTokenEvents.load: registering expired timer in:",o),this._accessTokenExpired.init(o)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},e.prototype.unload=function(){n.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},e.prototype.addAccessTokenExpiring=function(e){this._accessTokenExpiring.addHandler(e)},e.prototype.removeAccessTokenExpiring=function(e){this._accessTokenExpiring.removeHandler(e)},e.prototype.addAccessTokenExpired=function(e){this._accessTokenExpired.addHandler(e)},e.prototype.removeAccessTokenExpired=function(e){this._accessTokenExpired.removeHandler(e)},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Event=void 0;var n=r(0);t.Event=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t,this._callbacks=[]}return e.prototype.addHandler=function(e){this._callbacks.push(e)},e.prototype.removeHandler=function(e){var t=this._callbacks.findIndex((function(t){return t===e}));t>=0&&this._callbacks.splice(t,1)},e.prototype.raise=function(){n.Log.debug("Event: Raising event: "+this._name);for(var e=0;e<this._callbacks.length;e++){var t;(t=this._callbacks)[e].apply(t,arguments)}},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionMonitor=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0),i=r(19),a=r(1);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.SessionMonitor=function(){function e(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.CheckSessionIFrame,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.Global.timer;if(s(this,e),!t)throw o.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=t,this._CheckSessionIFrameCtor=n,this._timer=c,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),Promise.resolve(this._userManager.getUser().then((function(e){e?r._start(e):r._settings.monitorAnonymousSession&&r._userManager.querySessionStatus().then((function(e){var t={session_state:e.session_state};e.sub&&e.sid&&(t.profile={sub:e.sub,sid:e.sid}),r._start(t)})).catch((function(e){o.Log.error("SessionMonitor ctor: error from querySessionStatus:",e.message)}))})).catch((function(e){o.Log.error("SessionMonitor ctor: error from getUser:",e.message)})))}return e.prototype._start=function(e){var t=this,r=e.session_state;r&&(e.profile?(this._sub=e.profile.sub,this._sid=e.profile.sid,o.Log.debug("SessionMonitor._start: session_state:",r,", sub:",this._sub)):(this._sub=void 0,this._sid=void 0,o.Log.debug("SessionMonitor._start: session_state:",r,", anonymous user")),this._checkSessionIFrame?this._checkSessionIFrame.start(r):this._metadataService.getCheckSessionIframe().then((function(e){if(e){o.Log.debug("SessionMonitor._start: Initializing check session iframe");var n=t._client_id,i=t._checkSessionInterval,a=t._stopCheckSessionOnError;t._checkSessionIFrame=new t._CheckSessionIFrameCtor(t._callback.bind(t),n,e,i,a),t._checkSessionIFrame.load().then((function(){t._checkSessionIFrame.start(r)}))}else o.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")})).catch((function(e){o.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",e.message)})))},e.prototype._stop=function(){var e=this;if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&(o.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop()),this._settings.monitorAnonymousSession)var t=this._timer.setInterval((function(){e._timer.clearInterval(t),e._userManager.querySessionStatus().then((function(t){var r={session_state:t.session_state};t.sub&&t.sid&&(r.profile={sub:t.sub,sid:t.sid}),e._start(r)})).catch((function(e){o.Log.error("SessionMonitor: error from querySessionStatus:",e.message)}))}),1e3)},e.prototype._callback=function(){var e=this;this._userManager.querySessionStatus().then((function(t){var r=!0;t?t.sub===e._sub?(r=!1,e._checkSessionIFrame.start(t.session_state),t.sid===e._sid?o.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",t.session_state):(o.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",t.session_state),e._userManager.events._raiseUserSessionChanged())):o.Log.debug("SessionMonitor._callback: Different subject signed into OP:",t.sub):o.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),r&&(e._sub?(o.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),e._userManager.events._raiseUserSignedOut()):(o.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed in event"),e._userManager.events._raiseUserSignedIn()))})).catch((function(t){e._sub&&(o.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",t.message),e._userManager.events._raiseUserSignedOut())}))},n(e,[{key:"_settings",get:function(){return this._userManager.settings}},{key:"_metadataService",get:function(){return this._userManager.metadataService}},{key:"_client_id",get:function(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function(){return this._settings.stopCheckSessionOnError}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CheckSessionIFrame=void 0;var n=r(0);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.CheckSessionIFrame=function(){function e(t,r,n,i){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];o(this,e),this._callback=t,this._client_id=r,this._url=n,this._interval=i||2e3,this._stopOnError=a;var s=n.indexOf("/",n.indexOf("//")+2);this._frame_origin=n.substr(0,s),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.width=0,this._frame.height=0,this._frame.src=n}return e.prototype.load=function(){var e=this;return new Promise((function(t){e._frame.onload=function(){t()},window.document.body.appendChild(e._frame),e._boundMessageEvent=e._message.bind(e),window.addEventListener("message",e._boundMessageEvent,!1)}))},e.prototype._message=function(e){e.origin===this._frame_origin&&e.source===this._frame.contentWindow&&("error"===e.data?(n.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):"changed"===e.data?(n.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):n.Log.debug("CheckSessionIFrame: "+e.data+" message from check session op iframe"))},e.prototype.start=function(e){var t=this;if(this._session_state!==e){n.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=e;var r=function(){t._frame.contentWindow.postMessage(t._client_id+" "+t._session_state,t._frame_origin)};r(),this._timer=window.setInterval(r,this._interval)}},e.prototype.stop=function(){this._session_state=null,this._timer&&(n.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenRevocationClient=void 0;var n=r(0),o=r(2),i=r(1);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s="access_token",c="refresh_token";t.TokenRevocationClient=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Global.XMLHttpRequest,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.MetadataService;if(a(this,e),!t)throw n.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=t,this._XMLHttpRequestCtor=r,this._metadataService=new s(this._settings)}return e.prototype.revoke=function(e,t){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"access_token";if(!e)throw n.Log.error("TokenRevocationClient.revoke: No token provided"),new Error("No token provided.");if(o!==s&&o!=c)throw n.Log.error("TokenRevocationClient.revoke: Invalid token type"),new Error("Invalid token type.");return this._metadataService.getRevocationEndpoint().then((function(i){if(i){n.Log.debug("TokenRevocationClient.revoke: Revoking "+o);var a=r._settings.client_id,s=r._settings.client_secret;return r._revoke(i,a,s,e,o)}if(t)throw n.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")}))},e.prototype._revoke=function(e,t,r,o,i){var a=this;return new Promise((function(s,c){var u=new a._XMLHttpRequestCtor;u.open("POST",e),u.onload=function(){n.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",u.status),200===u.status?s():c(Error(u.statusText+" ("+u.status+")"))},u.onerror=function(){n.Log.debug("TokenRevocationClient.revoke: Network Error."),c("Network Error")};var l="client_id="+encodeURIComponent(t);r&&(l+="&client_secret="+encodeURIComponent(r)),l+="&token_type_hint="+encodeURIComponent(i),l+="&token="+encodeURIComponent(o),u.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),u.send(l)}))},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CordovaPopupWindow=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0);t.CordovaPopupWindow=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t})),this.features=t.popupWindowFeatures||"location=no,toolbar=no,zoom=no",this.target=t.popupWindowTarget||"_blank",this.redirect_uri=t.startUrl,o.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return e.prototype._isInAppBrowserInstalled=function(e){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some((function(t){return e.hasOwnProperty(t)}))},e.prototype.navigate=function(e){if(e&&e.url){if(!window.cordova)return this._error("cordova is undefined");var t=window.cordova.require("cordova/plugin_list").metadata;if(!1===this._isInAppBrowserInstalled(t))return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(e.url,this.target,this.features),this._popup?(o.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},e.prototype._loadStartCallback=function(e){0===e.url.indexOf(this.redirect_uri)&&this._success({url:e.url})},e.prototype._exitCallback=function(e){this._error(e)},e.prototype._success=function(e){this._cleanup(),o.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(e)},e.prototype._error=function(e){this._cleanup(),o.Log.error(e),this._reject(new Error(e))},e.prototype.close=function(){this._cleanup()},e.prototype._cleanup=function(){this._popup&&(o.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},n(e,[{key:"promise",get:function(){return this._promise}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(10),i=r(5),a=r(6),s=r(37),c=r(38),u=r(16),l=r(2),h=r(48),p=r(49),f=r(19),d=r(20),g=r(18),m=r(1),v=r(15),y=r(50);t.default={Version:y.Version,Log:n.Log,OidcClient:o.OidcClient,OidcClientSettings:i.OidcClientSettings,WebStorageStateStore:a.WebStorageStateStore,InMemoryWebStorage:s.InMemoryWebStorage,UserManager:c.UserManager,AccessTokenEvents:u.AccessTokenEvents,MetadataService:l.MetadataService,CordovaPopupNavigator:h.CordovaPopupNavigator,CordovaIFrameNavigator:p.CordovaIFrameNavigator,CheckSessionIFrame:f.CheckSessionIFrame,TokenRevocationClient:d.TokenRevocationClient,SessionMonitor:g.SessionMonitor,Global:m.Global,User:v.User},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClockService=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.getEpochTime=function(){return Promise.resolve(Date.now()/1e3|0)},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResponseValidator=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=r(0),i=r(2),a=r(25),s=r(11),c=r(12),u=r(4);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var h=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];t.ResponseValidator=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.MetadataService,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.UserInfoService,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u.JoseUtil,h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:s.TokenClient;if(l(this,e),!t)throw o.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=t,this._metadataService=new r(this._settings),this._userInfoService=new n(this._settings),this._joseUtil=c,this._tokenClient=new h(this._settings)}return e.prototype.validateSigninResponse=function(e,t){var r=this;return o.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams(e,t).then((function(t){return o.Log.debug("ResponseValidator.validateSigninResponse: state processed"),r._validateTokens(e,t).then((function(t){return o.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),r._processClaims(e,t).then((function(e){return o.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),e}))}))}))},e.prototype.validateSignoutResponse=function(e,t){return e.id!==t.state?(o.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(o.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),t.state=e.data,t.error?(o.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",t.error),Promise.reject(new c.ErrorResponse(t))):Promise.resolve(t))},e.prototype._processSigninParams=function(e,t){if(e.id!==t.state)return o.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!e.client_id)return o.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!e.authority)return o.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==e.authority)return o.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=e.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==e.client_id)return o.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=e.client_id;return o.Log.debug("ResponseValidator._processSigninParams: state validated"),t.state=e.data,t.error?(o.Log.warn("ResponseValidator._processSigninParams: Response was error",t.error),Promise.reject(new c.ErrorResponse(t))):e.nonce&&!t.id_token?(o.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!e.nonce&&t.id_token?(o.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):e.code_verifier&&!t.code?(o.Log.error("ResponseValidator._processSigninParams: Expecting code in response"),Promise.reject(new Error("No code in response"))):!e.code_verifier&&t.code?(o.Log.error("ResponseValidator._processSigninParams: Not expecting code in response"),Promise.reject(new Error("Unexpected code in response"))):(t.scope||(t.scope=e.scope),Promise.resolve(t))},e.prototype._processClaims=function(e,t){var r=this;if(t.isOpenIdConnect){if(o.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),t.profile=this._filterProtocolClaims(t.profile),!0!==e.skipUserInfo&&this._settings.loadUserInfo&&t.access_token)return o.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(t.access_token).then((function(e){return o.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),e.sub!==t.profile.sub?(o.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in id_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in id_token"))):(t.profile=r._mergeClaims(t.profile,e),o.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",t.profile),t)}));o.Log.debug("ResponseValidator._processClaims: not loading user info")}else o.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(t)},e.prototype._mergeClaims=function(e,t){var r=Object.assign({},e);for(var o in t){var i=t[o];Array.isArray(i)||(i=[i]);for(var a=0;a<i.length;a++){var s=i[a];r[o]?Array.isArray(r[o])?r[o].indexOf(s)<0&&r[o].push(s):r[o]!==s&&("object"===(void 0===s?"undefined":n(s))&&this._settings.mergeClaims?r[o]=this._mergeClaims(r[o],s):r[o]=[r[o],s]):r[o]=s}}return r},e.prototype._filterProtocolClaims=function(e){o.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",e);var t=Object.assign({},e);return this._settings._filterProtocolClaims?(h.forEach((function(e){delete t[e]})),o.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",t)):o.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),t},e.prototype._validateTokens=function(e,t){return t.code?(o.Log.debug("ResponseValidator._validateTokens: Validating code"),this._processCode(e,t)):t.id_token?t.access_token?(o.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken(e,t)):(o.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken(e,t)):(o.Log.debug("ResponseValidator._validateTokens: No code to process or id_token to validate"),Promise.resolve(t))},e.prototype._processCode=function(e,t){var r=this,i={client_id:e.client_id,client_secret:e.client_secret,code:t.code,redirect_uri:e.redirect_uri,code_verifier:e.code_verifier};return e.extraTokenParams&&"object"===n(e.extraTokenParams)&&Object.assign(i,e.extraTokenParams),this._tokenClient.exchangeCode(i).then((function(n){for(var i in n)t[i]=n[i];return t.id_token?(o.Log.debug("ResponseValidator._processCode: token response successful, processing id_token"),r._validateIdTokenAttributes(e,t)):(o.Log.debug("ResponseValidator._processCode: token response successful, returning response"),t)}))},e.prototype._validateIdTokenAttributes=function(e,t){var r=this;return this._metadataService.getIssuer().then((function(n){var i=e.client_id,a=r._settings.clockSkew;return o.Log.debug("ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: ",a),r._settings.getEpochTime().then((function(s){return r._joseUtil.validateJwtAttributes(t.id_token,n,i,a,s).then((function(r){return e.nonce&&e.nonce!==r.nonce?(o.Log.error("ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):r.sub?(t.profile=r,t):(o.Log.error("ResponseValidator._validateIdTokenAttributes: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))}))}))}))},e.prototype._validateIdTokenAndAccessToken=function(e,t){var r=this;return this._validateIdToken(e,t).then((function(e){return r._validateAccessToken(e)}))},e.prototype._getSigningKeyForJwt=function(e){var t=this;return this._metadataService.getSigningKeys().then((function(r){var n=e.header.kid;if(!r)return o.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));o.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var i=void 0;if(n)i=r.filter((function(e){return e.kid===n}))[0];else{if((r=t._filterByAlg(r,e.header.alg)).length>1)return o.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));i=r[0]}return Promise.resolve(i)}))},e.prototype._getSigningKeyForJwtWithSingleRetry=function(e){var t=this;return this._getSigningKeyForJwt(e).then((function(r){return r?Promise.resolve(r):(t._metadataService.resetSigningKeys(),t._getSigningKeyForJwt(e))}))},e.prototype._validateIdToken=function(e,t){var r=this;if(!e.nonce)return o.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var n=this._joseUtil.parseJwt(t.id_token);return n&&n.header&&n.payload?e.nonce!==n.payload.nonce?(o.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):this._metadataService.getIssuer().then((function(i){return o.Log.debug("ResponseValidator._validateIdToken: Received issuer"),r._getSigningKeyForJwtWithSingleRetry(n).then((function(a){if(!a)return o.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var s=e.client_id,c=r._settings.clockSkew;return o.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",c),r._joseUtil.validateJwt(t.id_token,a,i,s,c).then((function(){return o.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),n.payload.sub?(t.profile=n.payload,t):(o.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))}))}))})):(o.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",n),Promise.reject(new Error("Failed to parse id_token")))},e.prototype._filterByAlg=function(e,t){var r=null;if(t.startsWith("RS"))r="RSA";else if(t.startsWith("PS"))r="PS";else{if(!t.startsWith("ES"))return o.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",t),[];r="EC"}return o.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",r),e=e.filter((function(e){return e.kty===r})),o.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",r,e.length),e},e.prototype._validateAccessToken=function(e){if(!e.profile)return o.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!e.profile.at_hash)return o.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!e.id_token)return o.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var t=this._joseUtil.parseJwt(e.id_token);if(!t||!t.header)return o.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",t),Promise.reject(new Error("Failed to parse id_token"));var r=t.header.alg;if(!r||5!==r.length)return o.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",r),Promise.reject(new Error("Unsupported alg: "+r));var n=r.substr(2,3);if(!n)return o.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",r,n),Promise.reject(new Error("Unsupported alg: "+r));if(256!==(n=parseInt(n))&&384!==n&&512!==n)return o.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",r,n),Promise.reject(new Error("Unsupported alg: "+r));var i="sha"+n,a=this._joseUtil.hashString(e.access_token,i);if(!a)return o.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",i),Promise.reject(new Error("Failed to validate at_hash"));var s=a.substr(0,a.length/2),c=this._joseUtil.hexToBase64Url(s);return c!==e.profile.at_hash?(o.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",c,e.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(o.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve(e))},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserInfoService=void 0;var n=r(7),o=r(2),i=r(0),a=r(4);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.UserInfoService=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.JsonService,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.MetadataService,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a.JoseUtil;if(s(this,e),!t)throw i.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=t,this._jsonService=new r(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new c(this._settings),this._joseUtil=u}return e.prototype.getClaims=function(e){var t=this;return e?this._metadataService.getUserInfoEndpoint().then((function(r){return i.Log.debug("UserInfoService.getClaims: received userinfo url",r),t._jsonService.getJson(r,e).then((function(e){return i.Log.debug("UserInfoService.getClaims: claims received",e),e}))})):(i.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},e.prototype._getClaimsFromJwt=function e(t){var r=this;try{var n=this._joseUtil.parseJwt(t.responseText);if(!n||!n.header||!n.payload)return i.Log.error("UserInfoService._getClaimsFromJwt: Failed to parse JWT",n),Promise.reject(new Error("Failed to parse id_token"));var o=n.header.kid,a=void 0;switch(this._settings.userInfoJwtIssuer){case"OP":a=this._metadataService.getIssuer();break;case"ANY":a=Promise.resolve(n.payload.iss);break;default:a=Promise.resolve(this._settings.userInfoJwtIssuer)}return a.then((function(e){return i.Log.debug("UserInfoService._getClaimsFromJwt: Received issuer:"+e),r._metadataService.getSigningKeys().then((function(a){if(!a)return i.Log.error("UserInfoService._getClaimsFromJwt: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));i.Log.debug("UserInfoService._getClaimsFromJwt: Received signing keys");var s=void 0;if(o)s=a.filter((function(e){return e.kid===o}))[0];else{if((a=r._filterByAlg(a,n.header.alg)).length>1)return i.Log.error("UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));s=a[0]}if(!s)return i.Log.error("UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var c=r._settings.client_id,u=r._settings.clockSkew;return i.Log.debug("UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: ",u),r._joseUtil.validateJwt(t.responseText,s,e,c,u,void 0,!0).then((function(){return i.Log.debug("UserInfoService._getClaimsFromJwt: JWT validation successful"),n.payload}))}))}))}catch(e){return i.Log.error("UserInfoService._getClaimsFromJwt: Error parsing JWT response",e.message),void reject(e)}},e.prototype._filterByAlg=function(e,t){var r=null;if(t.startsWith("RS"))r="RSA";else if(t.startsWith("PS"))r="PS";else{if(!t.startsWith("ES"))return i.Log.debug("UserInfoService._filterByAlg: alg not supported: ",t),[];r="EC"}return i.Log.debug("UserInfoService._filterByAlg: Looking for keys that match kty: ",r),e=e.filter((function(e){return e.kty===r})),i.Log.debug("UserInfoService._filterByAlg: Number of keys that match kty: ",r,e.length),e},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AllowedSigningAlgs=t.b64tohex=t.hextob64u=t.crypto=t.X509=t.KeyUtil=t.jws=void 0;var n=r(27);t.jws=n.jws,t.KeyUtil=n.KEYUTIL,t.X509=n.X509,t.crypto=n.crypto,t.hextob64u=n.hextob64u,t.b64tohex=n.b64tohex,t.AllowedSigningAlgs=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"]},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n={userAgent:!1},o={};if(void 0===i)var i={};i.lang={extend:function(t,r,o){if(!r||!t)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var i=function(){};if(i.prototype=r.prototype,t.prototype=new i,t.prototype.constructor=t,t.superclass=r.prototype,r.prototype.constructor==Object.prototype.constructor&&(r.prototype.constructor=r),o){var a;for(a in o)t.prototype[a]=o[a];var s=function(){},c=["toString","valueOf"];try{/MSIE/.test(n.userAgent)&&(s=function(e,t){for(a=0;a<c.length;a+=1){var r=c[a],n=t[r];"function"==typeof n&&n!=Object.prototype[r]&&(e[r]=n)}})}catch(e){}s(t.prototype,o)}}};var a,s,c,u,l,h,p,f,d,g,m,v=v||(a=Math,c=(s={}).lib={},u=c.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var r=new e;return t&&r.mixIn(t),r.hasOwnProperty("init")||(r.init=function(){r.$super.init.apply(this,arguments)}),r.init.prototype=r,r.$super=this,r},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),l=c.WordArray=u.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||p).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,o=e.sigBytes;if(this.clamp(),n%4)for(var i=0;i<o;i++){var a=r[i>>>2]>>>24-i%4*8&255;t[n+i>>>2]|=a<<24-(n+i)%4*8}else for(i=0;i<o;i+=4)t[n+i>>>2]=r[i>>>2];return this.sigBytes+=o,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=a.ceil(t/4)},clone:function(){var e=u.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],r=0;r<e;r+=4)t.push(4294967296*a.random()|0);return new l.init(t,e)}}),h=s.enc={},p=h.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],o=0;o<r;o++){var i=t[o>>>2]>>>24-o%4*8&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new l.init(r,t/2)}},f=h.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],o=0;o<r;o++){var i=t[o>>>2]>>>24-o%4*8&255;n.push(String.fromCharCode(i))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new l.init(r,t)}},d=h.Utf8={stringify:function(t){try{return decodeURIComponent(escape(f.stringify(t)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return f.parse(unescape(encodeURIComponent(e)))}},g=c.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=d.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=this._data,r=t.words,n=t.sigBytes,o=this.blockSize,i=n/(4*o),s=(i=e?a.ceil(i):a.max((0|i)-this._minBufferSize,0))*o,c=a.min(4*s,n);if(s){for(var u=0;u<s;u+=o)this._doProcessBlock(r,u);var h=r.splice(0,s);t.sigBytes-=c}return new l.init(h,c)},clone:function(){var e=u.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),c.Hasher=g.extend({cfg:u.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new m.HMAC.init(e,r).finalize(t)}}}),m=s.algo={},s);!function(e){var t,r=(t=v).lib,n=r.Base,o=r.WordArray;(t=t.x64={}).Word=n.extend({init:function(e,t){this.high=e,this.low=t}}),t.WordArray=n.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,r=[],n=0;n<t;n++){var i=e[n];r.push(i.high),r.push(i.low)}return o.create(r,this.sigBytes)},clone:function(){for(var e=n.clone.call(this),t=e.words=this.words.slice(0),r=t.length,o=0;o<r;o++)t[o]=t[o].clone();return e}})}(),function(){var e=v,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp(),e=[];for(var o=0;o<r;o+=3)for(var i=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;4>a&&o+.75*a<r;a++)e.push(n.charAt(i>>>6*(3-a)&63));if(t=n.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var r=e.length,n=this._map;(o=n.charAt(64))&&-1!=(o=e.indexOf(o))&&(r=o);for(var o=[],i=0,a=0;a<r;a++)if(a%4){var s=n.indexOf(e.charAt(a-1))<<a%4*2,c=n.indexOf(e.charAt(a))>>>6-a%4*2;o[i>>>2]|=(s|c)<<24-i%4*8,i++}return t.create(o,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){for(var t=v,r=(o=t.lib).WordArray,n=o.Hasher,o=t.algo,i=[],a=[],s=function(e){return 4294967296*(e-(0|e))|0},c=2,u=0;64>u;){var l;e:{l=c;for(var h=e.sqrt(l),p=2;p<=h;p++)if(!(l%p)){l=!1;break e}l=!0}l&&(8>u&&(i[u]=s(e.pow(c,.5))),a[u]=s(e.pow(c,1/3)),u++),c++}var f=[];o=o.SHA256=n.extend({_doReset:function(){this._hash=new r.init(i.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],o=r[1],i=r[2],s=r[3],c=r[4],u=r[5],l=r[6],h=r[7],p=0;64>p;p++){if(16>p)f[p]=0|e[t+p];else{var d=f[p-15],g=f[p-2];f[p]=((d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3)+f[p-7]+((g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10)+f[p-16]}d=h+((c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25))+(c&u^~c&l)+a[p]+f[p],g=((n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22))+(n&o^n&i^o&i),h=l,l=u,u=c,c=s+d|0,s=i,i=o,o=n,n=d+g|0}r[0]=r[0]+n|0,r[1]=r[1]+o|0,r[2]=r[2]+i|0,r[3]=r[3]+s|0,r[4]=r[4]+c|0,r[5]=r[5]+u|0,r[6]=r[6]+l|0,r[7]=r[7]+h|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,o=8*t.sigBytes;return r[o>>>5]|=128<<24-o%32,r[14+(o+64>>>9<<4)]=e.floor(n/4294967296),r[15+(o+64>>>9<<4)]=n,t.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA256=n._createHelper(o),t.HmacSHA256=n._createHmacHelper(o)}(Math),function(){function e(){return n.create.apply(n,arguments)}for(var t=v,r=t.lib.Hasher,n=(i=t.x64).Word,o=i.WordArray,i=t.algo,a=[e(1116352408,3609767458),e(1899447441,602891725),e(3049323471,3964484399),e(3921009573,2173295548),e(961987163,4081628472),e(1508970993,3053834265),e(2453635748,2937671579),e(2870763221,3664609560),e(3624381080,2734883394),e(310598401,1164996542),e(607225278,1323610764),e(1426881987,3590304994),e(1925078388,4068182383),e(2162078206,991336113),e(2614888103,633803317),e(3248222580,3479774868),e(3835390401,2666613458),e(4022224774,944711139),e(264347078,2341262773),e(604807628,2007800933),e(770255983,1495990901),e(1249150122,1856431235),e(1555081692,3175218132),e(1996064986,2198950837),e(2554220882,3999719339),e(2821834349,766784016),e(2952996808,2566594879),e(3210313671,3203337956),e(3336571891,1034457026),e(3584528711,2466948901),e(113926993,3758326383),e(338241895,168717936),e(666307205,1188179964),e(773529912,1546045734),e(1294757372,1522805485),e(1396182291,2643833823),e(1695183700,2343527390),e(1986661051,1014477480),e(2177026350,1206759142),e(2456956037,344077627),e(2730485921,1290863460),e(2820302411,3158454273),e(3259730800,3505952657),e(3345764771,106217008),e(3516065817,3606008344),e(3600352804,1432725776),e(4094571909,1467031594),e(275423344,851169720),e(430227734,3100823752),e(506948616,1363258195),e(659060556,3750685593),e(883997877,3785050280),e(958139571,3318307427),e(1322822218,3812723403),e(1537002063,2003034995),e(1747873779,3602036899),e(1955562222,1575990012),e(2024104815,1125592928),e(2227730452,2716904306),e(2361852424,442776044),e(2428436474,593698344),e(2756734187,3733110249),e(3204031479,2999351573),e(3329325298,3815920427),e(3391569614,3928383900),e(3515267271,566280711),e(3940187606,3454069534),e(4118630271,4000239992),e(116418474,1914138554),e(174292421,2731055270),e(289380356,3203993006),e(460393269,320620315),e(685471733,587496836),e(852142971,1086792851),e(1017036298,365543100),e(1126000580,2618297676),e(1288033470,3409855158),e(1501505948,4234509866),e(1607167915,987167468),e(1816402316,1246189591)],s=[],c=0;80>c;c++)s[c]=e();i=i.SHA512=r.extend({_doReset:function(){this._hash=new o.init([new n.init(1779033703,4089235720),new n.init(3144134277,2227873595),new n.init(1013904242,4271175723),new n.init(2773480762,1595750129),new n.init(1359893119,2917565137),new n.init(2600822924,725511199),new n.init(528734635,4215389547),new n.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var r=(h=this._hash.words)[0],n=h[1],o=h[2],i=h[3],c=h[4],u=h[5],l=h[6],h=h[7],p=r.high,f=r.low,d=n.high,g=n.low,m=o.high,v=o.low,y=i.high,b=i.low,w=c.high,S=c.low,_=u.high,k=u.low,E=l.high,x=l.low,A=h.high,C=h.low,P=p,F=f,T=d,O=g,R=m,I=v,j=y,D=b,U=w,N=S,L=_,M=k,B=E,H=x,K=A,V=C,W=0;80>W;W++){var q=s[W];if(16>W)var z=q.high=0|e[t+2*W],J=q.low=0|e[t+2*W+1];else{z=((J=(z=s[W-15]).high)>>>1|(G=z.low)<<31)^(J>>>8|G<<24)^J>>>7;var G=(G>>>1|J<<31)^(G>>>8|J<<24)^(G>>>7|J<<25),Y=((J=(Y=s[W-2]).high)>>>19|($=Y.low)<<13)^(J<<3|$>>>29)^J>>>6,$=($>>>19|J<<13)^($<<3|J>>>29)^($>>>6|J<<26),Q=(J=s[W-7]).high,X=(Z=s[W-16]).high,Z=Z.low;z=(z=(z=z+Q+((J=G+J.low)>>>0<G>>>0?1:0))+Y+((J+=$)>>>0<$>>>0?1:0))+X+((J+=Z)>>>0<Z>>>0?1:0),q.high=z,q.low=J}Q=U&L^~U&B,Z=N&M^~N&H,q=P&T^P&R^T&R;var ee=F&O^F&I^O&I,te=(G=(P>>>28|F<<4)^(P<<30|F>>>2)^(P<<25|F>>>7),Y=(F>>>28|P<<4)^(F<<30|P>>>2)^(F<<25|P>>>7),($=a[W]).high),re=$.low;X=K+((U>>>14|N<<18)^(U>>>18|N<<14)^(U<<23|N>>>9))+(($=V+((N>>>14|U<<18)^(N>>>18|U<<14)^(N<<23|U>>>9)))>>>0<V>>>0?1:0),K=B,V=H,B=L,H=M,L=U,M=N,U=j+(X=(X=(X=X+Q+(($+=Z)>>>0<Z>>>0?1:0))+te+(($+=re)>>>0<re>>>0?1:0))+z+(($+=J)>>>0<J>>>0?1:0))+((N=D+$|0)>>>0<D>>>0?1:0)|0,j=R,D=I,R=T,I=O,T=P,O=F,P=X+(q=G+q+((J=Y+ee)>>>0<Y>>>0?1:0))+((F=$+J|0)>>>0<$>>>0?1:0)|0}f=r.low=f+F,r.high=p+P+(f>>>0<F>>>0?1:0),g=n.low=g+O,n.high=d+T+(g>>>0<O>>>0?1:0),v=o.low=v+I,o.high=m+R+(v>>>0<I>>>0?1:0),b=i.low=b+D,i.high=y+j+(b>>>0<D>>>0?1:0),S=c.low=S+N,c.high=w+U+(S>>>0<N>>>0?1:0),k=u.low=k+M,u.high=_+L+(k>>>0<M>>>0?1:0),x=l.low=x+H,l.high=E+B+(x>>>0<H>>>0?1:0),C=h.low=C+V,h.high=A+K+(C>>>0<V>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[30+(n+128>>>10<<5)]=Math.floor(r/4294967296),t[31+(n+128>>>10<<5)]=r,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32}),t.SHA512=r._createHelper(i),t.HmacSHA512=r._createHmacHelper(i)}(),function(){var e=v,t=(o=e.x64).Word,r=o.WordArray,n=(o=e.algo).SHA512,o=o.SHA384=n.extend({_doReset:function(){this._hash=new r.init([new t.init(3418070365,3238371032),new t.init(1654270250,914150663),new t.init(2438529370,812702999),new t.init(355462360,4144912697),new t.init(1731405415,4290775857),new t.init(2394180231,1750603025),new t.init(3675008525,1694076839),new t.init(1203062813,3204075428)])},_doFinalize:function(){var e=n._doFinalize.call(this);return e.sigBytes-=16,e}});e.SHA384=n._createHelper(o),e.HmacSHA384=n._createHmacHelper(o)}();var y,b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function w(e){var t,r,n="";for(t=0;t+3<=e.length;t+=3)r=parseInt(e.substring(t,t+3),16),n+=b.charAt(r>>6)+b.charAt(63&r);for(t+1==e.length?(r=parseInt(e.substring(t,t+1),16),n+=b.charAt(r<<2)):t+2==e.length&&(r=parseInt(e.substring(t,t+2),16),n+=b.charAt(r>>2)+b.charAt((3&r)<<4));(3&n.length)>0;)n+="=";return n}function S(e){var t,r,n,o="",i=0;for(t=0;t<e.length&&"="!=e.charAt(t);++t)(n=b.indexOf(e.charAt(t)))<0||(0==i?(o+=P(n>>2),r=3&n,i=1):1==i?(o+=P(r<<2|n>>4),r=15&n,i=2):2==i?(o+=P(r),o+=P(n>>2),r=3&n,i=3):(o+=P(r<<2|n>>4),o+=P(15&n),i=0));return 1==i&&(o+=P(r<<2)),o}function _(e){var t,r=S(e),n=new Array;for(t=0;2*t<r.length;++t)n[t]=parseInt(r.substring(2*t,2*t+2),16);return n}function k(e,t,r){null!=e&&("number"==typeof e?this.fromNumber(e,t,r):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function E(){return new k(null)}"Microsoft Internet Explorer"==n.appName?(k.prototype.am=function(e,t,r,n,o,i){for(var a=32767&t,s=t>>15;--i>=0;){var c=32767&this[e],u=this[e++]>>15,l=s*c+u*a;o=((c=a*c+((32767&l)<<15)+r[n]+(1073741823&o))>>>30)+(l>>>15)+s*u+(o>>>30),r[n++]=1073741823&c}return o},y=30):"Netscape"!=n.appName?(k.prototype.am=function(e,t,r,n,o,i){for(;--i>=0;){var a=t*this[e++]+r[n]+o;o=Math.floor(a/67108864),r[n++]=67108863&a}return o},y=26):(k.prototype.am=function(e,t,r,n,o,i){for(var a=16383&t,s=t>>14;--i>=0;){var c=16383&this[e],u=this[e++]>>14,l=s*c+u*a;o=((c=a*c+((16383&l)<<14)+r[n]+o)>>28)+(l>>14)+s*u,r[n++]=268435455&c}return o},y=28),k.prototype.DB=y,k.prototype.DM=(1<<y)-1,k.prototype.DV=1<<y,k.prototype.FV=Math.pow(2,52),k.prototype.F1=52-y,k.prototype.F2=2*y-52;var x,A,C=new Array;for(x="0".charCodeAt(0),A=0;A<=9;++A)C[x++]=A;for(x="a".charCodeAt(0),A=10;A<36;++A)C[x++]=A;for(x="A".charCodeAt(0),A=10;A<36;++A)C[x++]=A;function P(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function F(e,t){var r=C[e.charCodeAt(t)];return null==r?-1:r}function T(e){var t=E();return t.fromInt(e),t}function O(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}function R(e){this.m=e}function I(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function j(e,t){return e&t}function D(e,t){return e|t}function U(e,t){return e^t}function N(e,t){return e&~t}function L(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function M(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function B(){}function H(e){return e}function K(e){this.r2=E(),this.q3=E(),k.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}R.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},R.prototype.revert=function(e){return e},R.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},R.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},R.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},I.prototype.convert=function(e){var t=E();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(k.ZERO)>0&&this.m.subTo(t,t),t},I.prototype.revert=function(e){var t=E();return e.copyTo(t),this.reduce(t),t},I.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e[t],n=r*this.mpl+((r*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[r=t+this.m.t]+=this.m.am(0,n,e,t,0,this.m.t);e[r]>=e.DV;)e[r]-=e.DV,e[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},I.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},I.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},k.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},k.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},k.prototype.fromString=function(e,t){var r;if(16==t)r=4;else if(8==t)r=3;else if(256==t)r=8;else if(2==t)r=1;else if(32==t)r=5;else{if(4!=t)return void this.fromRadix(e,t);r=2}this.t=0,this.s=0;for(var n=e.length,o=!1,i=0;--n>=0;){var a=8==r?255&e[n]:F(e,n);a<0?"-"==e.charAt(n)&&(o=!0):(o=!1,0==i?this[this.t++]=a:i+r>this.DB?(this[this.t-1]|=(a&(1<<this.DB-i)-1)<<i,this[this.t++]=a>>this.DB-i):this[this.t-1]|=a<<i,(i+=r)>=this.DB&&(i-=this.DB))}8==r&&0!=(128&e[0])&&(this.s=-1,i>0&&(this[this.t-1]|=(1<<this.DB-i)-1<<i)),this.clamp(),o&&k.ZERO.subTo(this,this)},k.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},k.prototype.dlShiftTo=function(e,t){var r;for(r=this.t-1;r>=0;--r)t[r+e]=this[r];for(r=e-1;r>=0;--r)t[r]=0;t.t=this.t+e,t.s=this.s},k.prototype.drShiftTo=function(e,t){for(var r=e;r<this.t;++r)t[r-e]=this[r];t.t=Math.max(this.t-e,0),t.s=this.s},k.prototype.lShiftTo=function(e,t){var r,n=e%this.DB,o=this.DB-n,i=(1<<o)-1,a=Math.floor(e/this.DB),s=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)t[r+a+1]=this[r]>>o|s,s=(this[r]&i)<<n;for(r=a-1;r>=0;--r)t[r]=0;t[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()},k.prototype.rShiftTo=function(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t)t.t=0;else{var n=e%this.DB,o=this.DB-n,i=(1<<n)-1;t[0]=this[r]>>n;for(var a=r+1;a<this.t;++a)t[a-r-1]|=(this[a]&i)<<o,t[a-r]=this[a]>>n;n>0&&(t[this.t-r-1]|=(this.s&i)<<o),t.t=this.t-r,t.clamp()}},k.prototype.subTo=function(e,t){for(var r=0,n=0,o=Math.min(e.t,this.t);r<o;)n+=this[r]-e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e[r],t[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t[r++]=this.DV+n:n>0&&(t[r++]=n),t.t=r,t.clamp()},k.prototype.multiplyTo=function(e,t){var r=this.abs(),n=e.abs(),o=r.t;for(t.t=o+n.t;--o>=0;)t[o]=0;for(o=0;o<n.t;++o)t[o+r.t]=r.am(0,n[o],t,o,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&k.ZERO.subTo(t,t)},k.prototype.squareTo=function(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t[r],e,2*r,0,1);(e[r+t.t]+=t.am(r+1,2*t[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e[r+t.t]-=t.DV,e[r+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(r,t[r],e,2*r,0,1)),e.s=0,e.clamp()},k.prototype.divRemTo=function(e,t,r){var n=e.abs();if(!(n.t<=0)){var o=this.abs();if(o.t<n.t)return null!=t&&t.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=E());var i=E(),a=this.s,s=e.s,c=this.DB-O(n[n.t-1]);c>0?(n.lShiftTo(c,i),o.lShiftTo(c,r)):(n.copyTo(i),o.copyTo(r));var u=i.t,l=i[u-1];if(0!=l){var h=l*(1<<this.F1)+(u>1?i[u-2]>>this.F2:0),p=this.FV/h,f=(1<<this.F1)/h,d=1<<this.F2,g=r.t,m=g-u,v=null==t?E():t;for(i.dlShiftTo(m,v),r.compareTo(v)>=0&&(r[r.t++]=1,r.subTo(v,r)),k.ONE.dlShiftTo(u,v),v.subTo(i,i);i.t<u;)i[i.t++]=0;for(;--m>=0;){var y=r[--g]==l?this.DM:Math.floor(r[g]*p+(r[g-1]+d)*f);if((r[g]+=i.am(0,y,r,m,0,u))<y)for(i.dlShiftTo(m,v),r.subTo(v,r);r[g]<--y;)r.subTo(v,r)}null!=t&&(r.drShiftTo(u,t),a!=s&&k.ZERO.subTo(t,t)),r.t=u,r.clamp(),c>0&&r.rShiftTo(c,r),a<0&&k.ZERO.subTo(r,r)}}},k.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},k.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},k.prototype.exp=function(e,t){if(e>4294967295||e<1)return k.ONE;var r=E(),n=E(),o=t.convert(this),i=O(e)-1;for(o.copyTo(r);--i>=0;)if(t.sqrTo(r,n),(e&1<<i)>0)t.mulTo(n,o,r);else{var a=r;r=n,n=a}return t.revert(r)},k.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var r,n=(1<<t)-1,o=!1,i="",a=this.t,s=this.DB-a*this.DB%t;if(a-- >0)for(s<this.DB&&(r=this[a]>>s)>0&&(o=!0,i=P(r));a>=0;)s<t?(r=(this[a]&(1<<s)-1)<<t-s,r|=this[--a]>>(s+=this.DB-t)):(r=this[a]>>(s-=t)&n,s<=0&&(s+=this.DB,--a)),r>0&&(o=!0),o&&(i+=P(r));return o?i:"0"},k.prototype.negate=function(){var e=E();return k.ZERO.subTo(this,e),e},k.prototype.abs=function(){return this.s<0?this.negate():this},k.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.s<0?-t:t;for(;--r>=0;)if(0!=(t=this[r]-e[r]))return t;return 0},k.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+O(this[this.t-1]^this.s&this.DM)},k.prototype.mod=function(e){var t=E();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(k.ZERO)>0&&e.subTo(t,t),t},k.prototype.modPowInt=function(e,t){var r;return r=e<256||t.isEven()?new R(t):new I(t),this.exp(e,r)},k.ZERO=T(0),k.ONE=T(1),B.prototype.convert=H,B.prototype.revert=H,B.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r)},B.prototype.sqrTo=function(e,t){e.squareTo(t)},K.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=E();return e.copyTo(t),this.reduce(t),t},K.prototype.revert=function(e){return e},K.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},K.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},K.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var V,W,q,z=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],J=(1<<26)/z[z.length-1];function G(){this.i=0,this.j=0,this.S=new Array}function Y(){!function(e){W[q++]^=255&e,W[q++]^=e>>8&255,W[q++]^=e>>16&255,W[q++]^=e>>24&255,q>=256&&(q-=256)}((new Date).getTime())}if(k.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},k.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=T(r),o=E(),i=E(),a="";for(this.divRemTo(n,o,i);o.signum()>0;)a=(r+i.intValue()).toString(e).substr(1)+a,o.divRemTo(n,o,i);return i.intValue().toString(e)+a},k.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),o=!1,i=0,a=0,s=0;s<e.length;++s){var c=F(e,s);c<0?"-"==e.charAt(s)&&0==this.signum()&&(o=!0):(a=t*a+c,++i>=r&&(this.dMultiply(n),this.dAddOffset(a,0),i=0,a=0))}i>0&&(this.dMultiply(Math.pow(t,i)),this.dAddOffset(a,0)),o&&k.ZERO.subTo(this,this)},k.prototype.fromNumber=function(e,t,r){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(k.ONE.shiftLeft(e-1),D,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(k.ONE.shiftLeft(e-1),this);else{var n=new Array,o=7&e;n.length=1+(e>>3),t.nextBytes(n),o>0?n[0]&=(1<<o)-1:n[0]=0,this.fromString(n,256)}},k.prototype.bitwiseTo=function(e,t,r){var n,o,i=Math.min(e.t,this.t);for(n=0;n<i;++n)r[n]=t(this[n],e[n]);if(e.t<this.t){for(o=e.s&this.DM,n=i;n<this.t;++n)r[n]=t(this[n],o);r.t=this.t}else{for(o=this.s&this.DM,n=i;n<e.t;++n)r[n]=t(o,e[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()},k.prototype.changeBit=function(e,t){var r=k.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r},k.prototype.addTo=function(e,t){for(var r=0,n=0,o=Math.min(e.t,this.t);r<o;)n+=this[r]+e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e[r],t[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t[r++]=n:n<-1&&(t[r++]=this.DV+n),t.t=r,t.clamp()},k.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},k.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},k.prototype.multiplyLowerTo=function(e,t,r){var n,o=Math.min(this.t+e.t,t);for(r.s=0,r.t=o;o>0;)r[--o]=0;for(n=r.t-this.t;o<n;++o)r[o+this.t]=this.am(0,e[o],r,o,0,this.t);for(n=Math.min(e.t,t);o<n;++o)this.am(0,e[o],r,o,0,t-o);r.clamp()},k.prototype.multiplyUpperTo=function(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r[this.t+n-t]=this.am(t-n,e[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)},k.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(0==t)r=this[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this[n])%e;return r},k.prototype.millerRabin=function(e){var t=this.subtract(k.ONE),r=t.getLowestSetBit();if(r<=0)return!1;var n=t.shiftRight(r);(e=e+1>>1)>z.length&&(e=z.length);for(var o=E(),i=0;i<e;++i){o.fromInt(z[Math.floor(Math.random()*z.length)]);var a=o.modPow(n,this);if(0!=a.compareTo(k.ONE)&&0!=a.compareTo(t)){for(var s=1;s++<r&&0!=a.compareTo(t);)if(0==(a=a.modPowInt(2,this)).compareTo(k.ONE))return!1;if(0!=a.compareTo(t))return!1}}return!0},k.prototype.clone=function(){var e=E();return this.copyTo(e),e},k.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},k.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},k.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},k.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},k.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var r,n=this.DB-e*this.DB%8,o=0;if(e-- >0)for(n<this.DB&&(r=this[e]>>n)!=(this.s&this.DM)>>n&&(t[o++]=r|this.s<<this.DB-n);e>=0;)n<8?(r=(this[e]&(1<<n)-1)<<8-n,r|=this[--e]>>(n+=this.DB-8)):(r=this[e]>>(n-=8)&255,n<=0&&(n+=this.DB,--e)),0!=(128&r)&&(r|=-256),0==o&&(128&this.s)!=(128&r)&&++o,(o>0||r!=this.s)&&(t[o++]=r);return t},k.prototype.equals=function(e){return 0==this.compareTo(e)},k.prototype.min=function(e){return this.compareTo(e)<0?this:e},k.prototype.max=function(e){return this.compareTo(e)>0?this:e},k.prototype.and=function(e){var t=E();return this.bitwiseTo(e,j,t),t},k.prototype.or=function(e){var t=E();return this.bitwiseTo(e,D,t),t},k.prototype.xor=function(e){var t=E();return this.bitwiseTo(e,U,t),t},k.prototype.andNot=function(e){var t=E();return this.bitwiseTo(e,N,t),t},k.prototype.not=function(){for(var e=E(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},k.prototype.shiftLeft=function(e){var t=E();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},k.prototype.shiftRight=function(e){var t=E();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},k.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+L(this[e]);return this.s<0?this.t*this.DB:-1},k.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=M(this[r]^t);return e},k.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)},k.prototype.setBit=function(e){return this.changeBit(e,D)},k.prototype.clearBit=function(e){return this.changeBit(e,N)},k.prototype.flipBit=function(e){return this.changeBit(e,U)},k.prototype.add=function(e){var t=E();return this.addTo(e,t),t},k.prototype.subtract=function(e){var t=E();return this.subTo(e,t),t},k.prototype.multiply=function(e){var t=E();return this.multiplyTo(e,t),t},k.prototype.divide=function(e){var t=E();return this.divRemTo(e,t,null),t},k.prototype.remainder=function(e){var t=E();return this.divRemTo(e,null,t),t},k.prototype.divideAndRemainder=function(e){var t=E(),r=E();return this.divRemTo(e,t,r),new Array(t,r)},k.prototype.modPow=function(e,t){var r,n,o=e.bitLength(),i=T(1);if(o<=0)return i;r=o<18?1:o<48?3:o<144?4:o<768?5:6,n=o<8?new R(t):t.isEven()?new K(t):new I(t);var a=new Array,s=3,c=r-1,u=(1<<r)-1;if(a[1]=n.convert(this),r>1){var l=E();for(n.sqrTo(a[1],l);s<=u;)a[s]=E(),n.mulTo(l,a[s-2],a[s]),s+=2}var h,p,f=e.t-1,d=!0,g=E();for(o=O(e[f])-1;f>=0;){for(o>=c?h=e[f]>>o-c&u:(h=(e[f]&(1<<o+1)-1)<<c-o,f>0&&(h|=e[f-1]>>this.DB+o-c)),s=r;0==(1&h);)h>>=1,--s;if((o-=s)<0&&(o+=this.DB,--f),d)a[h].copyTo(i),d=!1;else{for(;s>1;)n.sqrTo(i,g),n.sqrTo(g,i),s-=2;s>0?n.sqrTo(i,g):(p=i,i=g,g=p),n.mulTo(g,a[h],i)}for(;f>=0&&0==(e[f]&1<<o);)n.sqrTo(i,g),p=i,i=g,g=p,--o<0&&(o=this.DB-1,--f)}return n.revert(i)},k.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return k.ZERO;for(var r=e.clone(),n=this.clone(),o=T(1),i=T(0),a=T(0),s=T(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),t?(o.isEven()&&i.isEven()||(o.addTo(this,o),i.subTo(e,i)),o.rShiftTo(1,o)):i.isEven()||i.subTo(e,i),i.rShiftTo(1,i);for(;n.isEven();)n.rShiftTo(1,n),t?(a.isEven()&&s.isEven()||(a.addTo(this,a),s.subTo(e,s)),a.rShiftTo(1,a)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);r.compareTo(n)>=0?(r.subTo(n,r),t&&o.subTo(a,o),i.subTo(s,i)):(n.subTo(r,n),t&&a.subTo(o,a),s.subTo(i,s))}return 0!=n.compareTo(k.ONE)?k.ZERO:s.compareTo(e)>=0?s.subtract(e):s.signum()<0?(s.addTo(e,s),s.signum()<0?s.add(e):s):s},k.prototype.pow=function(e){return this.exp(e,new B)},k.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var o=t.getLowestSetBit(),i=r.getLowestSetBit();if(i<0)return t;for(o<i&&(i=o),i>0&&(t.rShiftTo(i,t),r.rShiftTo(i,r));t.signum()>0;)(o=t.getLowestSetBit())>0&&t.rShiftTo(o,t),(o=r.getLowestSetBit())>0&&r.rShiftTo(o,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return i>0&&r.lShiftTo(i,r),r},k.prototype.isProbablePrime=function(e){var t,r=this.abs();if(1==r.t&&r[0]<=z[z.length-1]){for(t=0;t<z.length;++t)if(r[0]==z[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<z.length;){for(var n=z[t],o=t+1;o<z.length&&n<J;)n*=z[o++];for(n=r.modInt(n);t<o;)if(n%z[t++]==0)return!1}return r.millerRabin(e)},k.prototype.square=function(){var e=E();return this.squareTo(e),e},G.prototype.init=function(e){var t,r,n;for(t=0;t<256;++t)this.S[t]=t;for(r=0,t=0;t<256;++t)r=r+this.S[t]+e[t%e.length]&255,n=this.S[t],this.S[t]=this.S[r],this.S[r]=n;this.i=0,this.j=0},G.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]},null==W){var $;if(W=new Array,q=0,void 0!==o&&(void 0!==o.crypto||void 0!==o.msCrypto)){var Q=o.crypto||o.msCrypto;if(Q.getRandomValues){var X=new Uint8Array(32);for(Q.getRandomValues(X),$=0;$<32;++$)W[q++]=X[$]}else if("Netscape"==n.appName&&n.appVersion<"5"){var Z=o.crypto.random(32);for($=0;$<Z.length;++$)W[q++]=255&Z.charCodeAt($)}}for(;q<256;)$=Math.floor(65536*Math.random()),W[q++]=$>>>8,W[q++]=255&$;q=0,Y()}function ee(){if(null==V){for(Y(),(V=new G).init(W),q=0;q<W.length;++q)W[q]=0;q=0}return V.next()}function te(){}function re(e,t){return new k(e,t)}function ne(e,t,r){for(var n="",o=0;n.length<t;)n+=r(String.fromCharCode.apply(String,e.concat([(4278190080&o)>>24,(16711680&o)>>16,(65280&o)>>8,255&o]))),o+=1;return n}function oe(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function ie(e,t){this.x=t,this.q=e}function ae(e,t,r,n){this.curve=e,this.x=t,this.y=r,this.z=null==n?k.ONE:n,this.zinv=null}function se(e,t,r){this.q=e,this.a=this.fromBigInteger(t),this.b=this.fromBigInteger(r),this.infinity=new ae(this,null,null)}te.prototype.nextBytes=function(e){var t;for(t=0;t<e.length;++t)e[t]=ee()},oe.prototype.doPublic=function(e){return e.modPowInt(this.e,this.n)},oe.prototype.setPublic=function(e,t){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof e)this.n=e,this.e=t;else{if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA public key";this.n=re(e,16),this.e=parseInt(t,16)}},oe.prototype.encrypt=function(e){var t=function(e,t){if(t<e.length+11)throw"Message too long for RSA";for(var r=new Array,n=e.length-1;n>=0&&t>0;){var o=e.charCodeAt(n--);o<128?r[--t]=o:o>127&&o<2048?(r[--t]=63&o|128,r[--t]=o>>6|192):(r[--t]=63&o|128,r[--t]=o>>6&63|128,r[--t]=o>>12|224)}r[--t]=0;for(var i=new te,a=new Array;t>2;){for(a[0]=0;0==a[0];)i.nextBytes(a);r[--t]=a[0]}return r[--t]=2,r[--t]=0,new k(r)}(e,this.n.bitLength()+7>>3);if(null==t)return null;var r=this.doPublic(t);if(null==r)return null;var n=r.toString(16);return 0==(1&n.length)?n:"0"+n},oe.prototype.encryptOAEP=function(e,t,r){var n=function(e,t,r,n){var o=ue.crypto.MessageDigest,i=ue.crypto.Util,a=null;if(r||(r="sha1"),"string"==typeof r&&(a=o.getCanonicalAlgName(r),n=o.getHashLength(a),r=function(e){return ke(i.hashHex(Ee(e),a))}),e.length+2*n+2>t)throw"Message too long for RSA";var s,c="";for(s=0;s<t-e.length-2*n-2;s+=1)c+="\0";var u=r("")+c+"\x01"+e,l=new Array(n);(new te).nextBytes(l);var h=ne(l,u.length,r),p=[];for(s=0;s<u.length;s+=1)p[s]=u.charCodeAt(s)^h.charCodeAt(s);var f=ne(p,l.length,r),d=[0];for(s=0;s<l.length;s+=1)d[s+1]=l[s]^f.charCodeAt(s);return new k(d.concat(p))}(e,this.n.bitLength()+7>>3,t,r);if(null==n)return null;var o=this.doPublic(n);if(null==o)return null;var i=o.toString(16);return 0==(1&i.length)?i:"0"+i},oe.prototype.type="RSA",ie.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.x.equals(e.x)},ie.prototype.toBigInteger=function(){return this.x},ie.prototype.negate=function(){return new ie(this.q,this.x.negate().mod(this.q))},ie.prototype.add=function(e){return new ie(this.q,this.x.add(e.toBigInteger()).mod(this.q))},ie.prototype.subtract=function(e){return new ie(this.q,this.x.subtract(e.toBigInteger()).mod(this.q))},ie.prototype.multiply=function(e){return new ie(this.q,this.x.multiply(e.toBigInteger()).mod(this.q))},ie.prototype.square=function(){return new ie(this.q,this.x.square().mod(this.q))},ie.prototype.divide=function(e){return new ie(this.q,this.x.multiply(e.toBigInteger().modInverse(this.q)).mod(this.q))},ae.prototype.getX=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},ae.prototype.getY=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},ae.prototype.equals=function(e){return e==this||(this.isInfinity()?e.isInfinity():e.isInfinity()?this.isInfinity():!!e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(k.ZERO)&&e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(k.ZERO))},ae.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(k.ZERO)&&!this.y.toBigInteger().equals(k.ZERO)},ae.prototype.negate=function(){return new ae(this.curve,this.x,this.y.negate(),this.z)},ae.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q),r=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q);if(k.ZERO.equals(r))return k.ZERO.equals(t)?this.twice():this.curve.getInfinity();var n=new k("3"),o=this.x.toBigInteger(),i=this.y.toBigInteger(),a=(e.x.toBigInteger(),e.y.toBigInteger(),r.square()),s=a.multiply(r),c=o.multiply(a),u=t.square().multiply(this.z),l=u.subtract(c.shiftLeft(1)).multiply(e.z).subtract(s).multiply(r).mod(this.curve.q),h=c.multiply(n).multiply(t).subtract(i.multiply(s)).subtract(u.multiply(t)).multiply(e.z).add(t.multiply(s)).mod(this.curve.q),p=s.multiply(this.z).multiply(e.z).mod(this.curve.q);return new ae(this.curve,this.curve.fromBigInteger(l),this.curve.fromBigInteger(h),p)},ae.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=new k("3"),t=this.x.toBigInteger(),r=this.y.toBigInteger(),n=r.multiply(this.z),o=n.multiply(r).mod(this.curve.q),i=this.curve.a.toBigInteger(),a=t.square().multiply(e);k.ZERO.equals(i)||(a=a.add(this.z.square().multiply(i)));var s=(a=a.mod(this.curve.q)).square().subtract(t.shiftLeft(3).multiply(o)).shiftLeft(1).multiply(n).mod(this.curve.q),c=a.multiply(e).multiply(t).subtract(o.shiftLeft(1)).shiftLeft(2).multiply(o).subtract(a.square().multiply(a)).mod(this.curve.q),u=n.square().multiply(n).shiftLeft(3).mod(this.curve.q);return new ae(this.curve,this.curve.fromBigInteger(s),this.curve.fromBigInteger(c),u)},ae.prototype.multiply=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,r=e,n=r.multiply(new k("3")),o=this.negate(),i=this,a=this.curve.q.subtract(e),s=a.multiply(new k("3")),c=new ae(this.curve,this.x,this.y),u=c.negate();for(t=n.bitLength()-2;t>0;--t){i=i.twice();var l=n.testBit(t);l!=r.testBit(t)&&(i=i.add(l?this:o))}for(t=s.bitLength()-2;t>0;--t){c=c.twice();var h=s.testBit(t);h!=a.testBit(t)&&(c=c.add(h?c:u))}return i},ae.prototype.multiplyTwo=function(e,t,r){var n;n=e.bitLength()>r.bitLength()?e.bitLength()-1:r.bitLength()-1;for(var o=this.curve.getInfinity(),i=this.add(t);n>=0;)o=o.twice(),e.testBit(n)?o=r.testBit(n)?o.add(i):o.add(this):r.testBit(n)&&(o=o.add(t)),--n;return o},se.prototype.getQ=function(){return this.q},se.prototype.getA=function(){return this.a},se.prototype.getB=function(){return this.b},se.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.a.equals(e.a)&&this.b.equals(e.b)},se.prototype.getInfinity=function(){return this.infinity},se.prototype.fromBigInteger=function(e){return new ie(this.q,e)},se.prototype.decodePointHex=function(e){switch(parseInt(e.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var t=(e.length-2)/2,r=e.substr(2,t),n=e.substr(t+2,t);return new ae(this,this.fromBigInteger(new k(r,16)),this.fromBigInteger(new k(n,16)));default:return null}},ie.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},ae.prototype.getEncoded=function(e){var t=function(e,t){var r=e.toByteArrayUnsigned();if(t<r.length)r=r.slice(r.length-t);else for(;t>r.length;)r.unshift(0);return r},r=this.getX().toBigInteger(),n=this.getY().toBigInteger(),o=t(r,32);return e?n.isEven()?o.unshift(2):o.unshift(3):(o.unshift(4),o=o.concat(t(n,32))),o},ae.decodeFrom=function(e,t){t[0];var r=t.length-1,n=t.slice(1,1+r/2),o=t.slice(1+r/2,1+r);n.unshift(0),o.unshift(0);var i=new k(n),a=new k(o);return new ae(e,e.fromBigInteger(i),e.fromBigInteger(a))},ae.decodeFromHex=function(e,t){t.substr(0,2);var r=t.length-2,n=t.substr(2,r/2),o=t.substr(2+r/2,r/2),i=new k(n,16),a=new k(o,16);return new ae(e,e.fromBigInteger(i),e.fromBigInteger(a))},ae.prototype.add2D=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;if(this.x.equals(e.x))return this.y.equals(e.y)?this.twice():this.curve.getInfinity();var t=e.x.subtract(this.x),r=e.y.subtract(this.y).divide(t),n=r.square().subtract(this.x).subtract(e.x),o=r.multiply(this.x.subtract(n)).subtract(this.y);return new ae(this.curve,n,o)},ae.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=this.curve.fromBigInteger(k.valueOf(2)),t=this.curve.fromBigInteger(k.valueOf(3)),r=this.x.square().multiply(t).add(this.curve.a).divide(this.y.multiply(e)),n=r.square().subtract(this.x.multiply(e)),o=r.multiply(this.x.subtract(n)).subtract(this.y);return new ae(this.curve,n,o)},ae.prototype.multiply2D=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,r=e,n=r.multiply(new k("3")),o=this.negate(),i=this;for(t=n.bitLength()-2;t>0;--t){i=i.twice();var a=n.testBit(t);a!=r.testBit(t)&&(i=i.add2D(a?this:o))}return i},ae.prototype.isOnCurve=function(){var e=this.getX().toBigInteger(),t=this.getY().toBigInteger(),r=this.curve.getA().toBigInteger(),n=this.curve.getB().toBigInteger(),o=this.curve.getQ(),i=t.multiply(t).mod(o),a=e.multiply(e).multiply(e).add(r.multiply(e)).add(n).mod(o);return i.equals(a)},ae.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},ae.prototype.validate=function(){var e=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var t=this.getX().toBigInteger(),r=this.getY().toBigInteger();if(t.compareTo(k.ONE)<0||t.compareTo(e.subtract(k.ONE))>0)throw new Error("x coordinate out of bounds");if(r.compareTo(k.ONE)<0||r.compareTo(e.subtract(k.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(e).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var ce=function(){var e=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),t=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),n={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function o(e,t,r){return t?n[t]:String.fromCharCode(parseInt(r,16))}var i=new String(""),a=Object.hasOwnProperty;return function(n,s){var c,u,l=n.match(e),h=l[0],p=!1;"{"===h?c={}:"["===h?c=[]:(c=[],p=!0);for(var f=[c],d=1-p,g=l.length;d<g;++d){var m;switch((h=l[d]).charCodeAt(0)){default:(m=f[0])[u||m.length]=+h,u=void 0;break;case 34:if(-1!==(h=h.substring(1,h.length-1)).indexOf("\\")&&(h=h.replace(t,o)),m=f[0],!u){if(!(m instanceof Array)){u=h||i;break}u=m.length}m[u]=h,u=void 0;break;case 91:m=f[0],f.unshift(m[u||m.length]=[]),u=void 0;break;case 93:f.shift();break;case 102:(m=f[0])[u||m.length]=!1,u=void 0;break;case 110:(m=f[0])[u||m.length]=null,u=void 0;break;case 116:(m=f[0])[u||m.length]=!0,u=void 0;break;case 123:m=f[0],f.unshift(m[u||m.length]={}),u=void 0;break;case 125:f.shift()}}if(p){if(1!==f.length)throw new Error;c=c[0]}else if(f.length)throw new Error;return s&&(c=function e(t,n){var o=t[n];if(o&&"object"===(void 0===o?"undefined":r(o))){var i=null;for(var c in o)if(a.call(o,c)&&o!==t){var u=e(o,c);void 0!==u?o[c]=u:(i||(i=[]),i.push(c))}if(i)for(var l=i.length;--l>=0;)delete o[i[l]]}return s.call(t,n,o)}({"":c},"")),c}}();void 0!==ue&&ue||(t.KJUR=ue={}),void 0!==ue.asn1&&ue.asn1||(ue.asn1={}),ue.asn1.ASN1Util=new function(){this.integerToByteHex=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.bigIntToMinTwosComplementsHex=function(e){var t=e.toString(16);if("-"!=t.substr(0,1))t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t);else{var r=t.substr(1).length;r%2==1?r+=1:t.match(/^[0-7]/)||(r+=2);for(var n="",o=0;o<r;o++)n+="f";t=new k(n,16).xor(e).add(k.ONE).toString(16).replace(/^-/,"")}return t},this.getPEMStringFromHex=function(e,t){return Pe(e,t)},this.newObject=function(e){var t=ue.asn1,r=t.ASN1Object,n=t.DERBoolean,o=t.DERInteger,i=t.DERBitString,a=t.DEROctetString,s=t.DERNull,c=t.DERObjectIdentifier,u=t.DEREnumerated,l=t.DERUTF8String,h=t.DERNumericString,p=t.DERPrintableString,f=t.DERTeletexString,d=t.DERIA5String,g=t.DERUTCTime,m=t.DERGeneralizedTime,v=t.DERVisibleString,y=t.DERBMPString,b=t.DERSequence,w=t.DERSet,S=t.DERTaggedObject,_=t.ASN1Util.newObject;if(e instanceof t.ASN1Object)return e;var k=Object.keys(e);if(1!=k.length)throw new Error("key of param shall be only one.");var E=k[0];if(-1==":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+E+":"))throw new Error("undefined key: "+E);if("bool"==E)return new n(e[E]);if("int"==E)return new o(e[E]);if("bitstr"==E)return new i(e[E]);if("octstr"==E)return new a(e[E]);if("null"==E)return new s(e[E]);if("oid"==E)return new c(e[E]);if("enum"==E)return new u(e[E]);if("utf8str"==E)return new l(e[E]);if("numstr"==E)return new h(e[E]);if("prnstr"==E)return new p(e[E]);if("telstr"==E)return new f(e[E]);if("ia5str"==E)return new d(e[E]);if("utctime"==E)return new g(e[E]);if("gentime"==E)return new m(e[E]);if("visstr"==E)return new v(e[E]);if("bmpstr"==E)return new y(e[E]);if("asn1"==E)return new r(e[E]);if("seq"==E){for(var x=e[E],A=[],C=0;C<x.length;C++){var P=_(x[C]);A.push(P)}return new b({array:A})}if("set"==E){for(x=e[E],A=[],C=0;C<x.length;C++)P=_(x[C]),A.push(P);return new w({array:A})}if("tag"==E){var F=e[E];if("[object Array]"===Object.prototype.toString.call(F)&&3==F.length){var T=_(F[2]);return new S({tag:F[0],explicit:F[1],obj:T})}return new S(F)}},this.jsonToASN1HEX=function(e){return this.newObject(e).getEncodedHex()}},ue.asn1.ASN1Util.oidHexToInt=function(e){for(var t="",r=parseInt(e.substr(0,2),16),n=(t=Math.floor(r/40)+"."+r%40,""),o=2;o<e.length;o+=2){var i=("00000000"+parseInt(e.substr(o,2),16).toString(2)).slice(-8);n+=i.substr(1,7),"0"==i.substr(0,1)&&(t=t+"."+new k(n,2).toString(10),n="")}return t},ue.asn1.ASN1Util.oidIntToHex=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},r=function(e){var r="",n=new k(e,10).toString(2),o=7-n.length%7;7==o&&(o=0);for(var i="",a=0;a<o;a++)i+="0";for(n=i+n,a=0;a<n.length-1;a+=7){var s=n.substr(a,7);a!=n.length-7&&(s="1"+s),r+=t(parseInt(s,2))}return r};if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var n="",o=e.split("."),i=40*parseInt(o[0])+parseInt(o[1]);n+=t(i),o.splice(0,2);for(var a=0;a<o.length;a++)n+=r(o[a]);return n},ue.asn1.ASN1Object=function(e){this.params=null,this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n="+"".length+",v="+this.hV);var e=this.hV.length/2,t=e.toString(16);if(t.length%2==1&&(t="0"+t),e<128)return t;var r=t.length/2;if(r>15)throw"ASN.1 length too long to represent by 8x: n = "+e.toString(16);return(128+r).toString(16)+t},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(e){this.params=e},null!=e&&null!=e.tlv&&(this.hTLV=e.tlv,this.isModified=!1)},ue.asn1.DERAbstractString=function(e){ue.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=Se(this.s).toLowerCase()},this.setStringHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?this.setString(e):void 0!==e.str?this.setString(e.str):void 0!==e.hex&&this.setStringHex(e.hex))},i.lang.extend(ue.asn1.DERAbstractString,ue.asn1.ASN1Object),ue.asn1.DERAbstractTime=function(e){ue.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(e){var t=e.getTime()+6e4*e.getTimezoneOffset();return new Date(t)},this.formatDate=function(e,t,r){var n=this.zeroPadding,o=this.localDateToUTC(e),i=String(o.getFullYear());"utc"==t&&(i=i.substr(2,2));var a=i+n(String(o.getMonth()+1),2)+n(String(o.getDate()),2)+n(String(o.getHours()),2)+n(String(o.getMinutes()),2)+n(String(o.getSeconds()),2);if(!0===r){var s=o.getMilliseconds();if(0!=s){var c=n(String(s),3);a=a+"."+(c=c.replace(/[0]+$/,""))}}return a+"Z"},this.zeroPadding=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=me(e)},this.setByDateValue=function(e,t,r,n,o,i){var a=new Date(Date.UTC(e,t-1,r,n,o,i,0));this.setByDate(a)},this.getFreshValueHex=function(){return this.hV}},i.lang.extend(ue.asn1.DERAbstractTime,ue.asn1.ASN1Object),ue.asn1.DERAbstractStructured=function(e){ue.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array=e},this.appendASN1Object=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array.push(e)},this.asn1Array=new Array,void 0!==e&&void 0!==e.array&&(this.asn1Array=e.array)},i.lang.extend(ue.asn1.DERAbstractStructured,ue.asn1.ASN1Object),ue.asn1.DERBoolean=function(e){ue.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=0==e?"010100":"0101ff"},i.lang.extend(ue.asn1.DERBoolean,ue.asn1.ASN1Object),ue.asn1.DERInteger=function(e){ue.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=ue.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new k(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.bigint?this.setByBigInteger(e.bigint):void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},i.lang.extend(ue.asn1.DERInteger,ue.asn1.ASN1Object),ue.asn1.DERBitString=function(e){if(void 0!==e&&void 0!==e.obj){var t=ue.asn1.ASN1Util.newObject(e.obj);e.hex="00"+t.getEncodedHex()}ue.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(e){this.hTLV=null,this.isModified=!0,this.hV=e},this.setUnusedBitsAndHexValue=function(e,t){if(e<0||7<e)throw"unused bits shall be from 0 to 7: u = "+e;var r="0"+e;this.hTLV=null,this.isModified=!0,this.hV=r+t},this.setByBinaryString=function(e){var t=8-(e=e.replace(/0+$/,"")).length%8;8==t&&(t=0);for(var r=0;r<=t;r++)e+="0";var n="";for(r=0;r<e.length-1;r+=8){var o=e.substr(r,8),i=parseInt(o,2).toString(16);1==i.length&&(i="0"+i),n+=i}this.hTLV=null,this.isModified=!0,this.hV="0"+t+n},this.setByBooleanArray=function(e){for(var t="",r=0;r<e.length;r++)1==e[r]?t+="1":t+="0";this.setByBinaryString(t)},this.newFalseArray=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=!1;return t},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e&&e.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(e):void 0!==e.hex?this.setHexValueIncludingUnusedBits(e.hex):void 0!==e.bin?this.setByBinaryString(e.bin):void 0!==e.array&&this.setByBooleanArray(e.array))},i.lang.extend(ue.asn1.DERBitString,ue.asn1.ASN1Object),ue.asn1.DEROctetString=function(e){if(void 0!==e&&void 0!==e.obj){var t=ue.asn1.ASN1Util.newObject(e.obj);e.hex=t.getEncodedHex()}ue.asn1.DEROctetString.superclass.constructor.call(this,e),this.hT="04"},i.lang.extend(ue.asn1.DEROctetString,ue.asn1.DERAbstractString),ue.asn1.DERNull=function(){ue.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},i.lang.extend(ue.asn1.DERNull,ue.asn1.ASN1Object),ue.asn1.DERObjectIdentifier=function(e){ue.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueOidString=function(e){var t=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},r=function(e){var r="",n=parseInt(e,10).toString(2),o=7-n.length%7;7==o&&(o=0);for(var i="",a=0;a<o;a++)i+="0";for(n=i+n,a=0;a<n.length-1;a+=7){var s=n.substr(a,7);a!=n.length-7&&(s="1"+s),r+=t(parseInt(s,2))}return r};try{if(!e.match(/^[0-9.]+$/))return null;var n="",o=e.split("."),i=40*parseInt(o[0],10)+parseInt(o[1],10);n+=t(i),o.splice(0,2);for(var a=0;a<o.length;a++)n+=r(o[a]);return n}catch(e){return null}}(e);if(null==t)throw new Error("malformed oid string: "+e);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueName=function(e){var t=ue.asn1.x509.OID.name2oid(e);if(""===t)throw new Error("DERObjectIdentifier oidName undefined: "+e);this.setValueOidString(t)},this.setValueNameOrOid=function(e){e.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(e):this.setValueName(e)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(e){"string"==typeof e?this.setValueNameOrOid(e):void 0!==e.oid?this.setValueNameOrOid(e.oid):void 0!==e.name?this.setValueNameOrOid(e.name):void 0!==e.hex&&this.setValueHex(e.hex)},void 0!==e&&this.setByParam(e)},i.lang.extend(ue.asn1.DERObjectIdentifier,ue.asn1.ASN1Object),ue.asn1.DEREnumerated=function(e){ue.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=ue.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new k(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},i.lang.extend(ue.asn1.DEREnumerated,ue.asn1.ASN1Object),ue.asn1.DERUTF8String=function(e){ue.asn1.DERUTF8String.superclass.constructor.call(this,e),this.hT="0c"},i.lang.extend(ue.asn1.DERUTF8String,ue.asn1.DERAbstractString),ue.asn1.DERNumericString=function(e){ue.asn1.DERNumericString.superclass.constructor.call(this,e),this.hT="12"},i.lang.extend(ue.asn1.DERNumericString,ue.asn1.DERAbstractString),ue.asn1.DERPrintableString=function(e){ue.asn1.DERPrintableString.superclass.constructor.call(this,e),this.hT="13"},i.lang.extend(ue.asn1.DERPrintableString,ue.asn1.DERAbstractString),ue.asn1.DERTeletexString=function(e){ue.asn1.DERTeletexString.superclass.constructor.call(this,e),this.hT="14"},i.lang.extend(ue.asn1.DERTeletexString,ue.asn1.DERAbstractString),ue.asn1.DERIA5String=function(e){ue.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="16"},i.lang.extend(ue.asn1.DERIA5String,ue.asn1.DERAbstractString),ue.asn1.DERVisibleString=function(e){ue.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="1a"},i.lang.extend(ue.asn1.DERVisibleString,ue.asn1.DERAbstractString),ue.asn1.DERBMPString=function(e){ue.asn1.DERBMPString.superclass.constructor.call(this,e),this.hT="1e"},i.lang.extend(ue.asn1.DERBMPString,ue.asn1.DERAbstractString),ue.asn1.DERUTCTime=function(e){ue.asn1.DERUTCTime.superclass.constructor.call(this,e),this.hT="17",this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"utc"),this.hV=me(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=me(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{12}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date))},i.lang.extend(ue.asn1.DERUTCTime,ue.asn1.DERAbstractTime),ue.asn1.DERGeneralizedTime=function(e){ue.asn1.DERGeneralizedTime.superclass.constructor.call(this,e),this.hT="18",this.withMillis=!1,this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=me(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=me(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{14}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date),!0===e.millis&&(this.withMillis=!0))},i.lang.extend(ue.asn1.DERGeneralizedTime,ue.asn1.DERAbstractTime),ue.asn1.DERSequence=function(e){ue.asn1.DERSequence.superclass.constructor.call(this,e),this.hT="30",this.getFreshValueHex=function(){for(var e="",t=0;t<this.asn1Array.length;t++)e+=this.asn1Array[t].getEncodedHex();return this.hV=e,this.hV}},i.lang.extend(ue.asn1.DERSequence,ue.asn1.DERAbstractStructured),ue.asn1.DERSet=function(e){ue.asn1.DERSet.superclass.constructor.call(this,e),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var e=new Array,t=0;t<this.asn1Array.length;t++){var r=this.asn1Array[t];e.push(r.getEncodedHex())}return 1==this.sortFlag&&e.sort(),this.hV=e.join(""),this.hV},void 0!==e&&void 0!==e.sortflag&&0==e.sortflag&&(this.sortFlag=!1)},i.lang.extend(ue.asn1.DERSet,ue.asn1.DERAbstractStructured),ue.asn1.DERTaggedObject=function(e){ue.asn1.DERTaggedObject.superclass.constructor.call(this);var t=ue.asn1;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(e,t,r){this.hT=t,this.isExplicit=e,this.asn1Object=r,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=r.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,t),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(e){null!=e.tag&&(this.hT=e.tag),null!=e.explicit&&(this.isExplicit=e.explicit),null!=e.tage&&(this.hT=e.tage,this.isExplicit=!0),null!=e.tagi&&(this.hT=e.tagi,this.isExplicit=!1),null!=e.obj&&(e.obj instanceof t.ASN1Object?(this.asn1Object=e.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)):"object"==r(e.obj)&&(this.asn1Object=t.ASN1Util.newObject(e.obj),this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},null!=e&&this.setByParam(e)},i.lang.extend(ue.asn1.DERTaggedObject,ue.asn1.ASN1Object);var ue,le,he,pe=new function(){};function fe(e){for(var t=new Array,r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}function de(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}function ge(e){for(var t="",r=0;r<e.length;r++){var n=e[r].toString(16);1==n.length&&(n="0"+n),t+=n}return t}function me(e){return ge(fe(e))}function ve(e){return(e=(e=e.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function ye(e){return e.length%4==2?e+="==":e.length%4==3&&(e+="="),(e=e.replace(/-/g,"+")).replace(/_/g,"/")}function be(e){return e.length%2==1&&(e="0"+e),ve(w(e))}function we(e){return S(ye(e))}function Se(e){return Re(Ne(e))}function _e(e){return decodeURIComponent(Ie(e))}function ke(e){for(var t="",r=0;r<e.length-1;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t}function Ee(e){for(var t="",r=0;r<e.length;r++)t+=("0"+e.charCodeAt(r).toString(16)).slice(-2);return t}function xe(e){return w(e)}function Ae(e){var t=xe(e).replace(/(.{64})/g,"$1\r\n");return t.replace(/\r\n$/,"")}function Ce(e){return S(e.replace(/[^0-9A-Za-z\/+=]*/g,""))}function Pe(e,t){return"-----BEGIN "+t+"-----\r\n"+Ae(e)+"\r\n-----END "+t+"-----\r\n"}function Fe(e,t){if(-1==e.indexOf("-----BEGIN "))throw"can't find PEM header: "+t;return Ce(e=void 0!==t?(e=e.replace(new RegExp("^[^]*-----BEGIN "+t+"-----"),"")).replace(new RegExp("-----END "+t+"-----[^]*$"),""):(e=e.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function Te(e){var t,r,n,o,i,a,s,c,u,l,h;if(h=e.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return c=h[1],t=parseInt(c),2===c.length&&(50<=t&&t<100?t=1900+t:0<=t&&t<50&&(t=2e3+t)),r=parseInt(h[2])-1,n=parseInt(h[3]),o=parseInt(h[4]),i=parseInt(h[5]),a=parseInt(h[6]),s=0,""!==(u=h[7])&&(l=(u.substr(1)+"00").substr(0,3),s=parseInt(l)),Date.UTC(t,r,n,o,i,a,s);throw"unsupported zulu format: "+e}function Oe(e){return~~(Te(e)/1e3)}function Re(e){return e.replace(/%/g,"")}function Ie(e){return e.replace(/(..)/g,"%$1")}function je(e){var t="malformed IPv6 address";if(!e.match(/^[0-9A-Fa-f:]+$/))throw t;var r=(e=e.toLowerCase()).split(":").length-1;if(r<2)throw t;var n=":".repeat(7-r+2),o=(e=e.replace("::",n)).split(":");if(8!=o.length)throw t;for(var i=0;i<8;i++)o[i]=("0000"+o[i]).slice(-4);return o.join("")}function De(e){if(!e.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var t=(e=e.toLowerCase()).match(/.{1,4}/g),r=0;r<8;r++)t[r]=t[r].replace(/^0+/,""),""==t[r]&&(t[r]="0");var n=(e=":"+t.join(":")+":").match(/:(0:){2,}/g);if(null===n)return e.slice(1,-1);var o="";for(r=0;r<n.length;r++)n[r].length>o.length&&(o=n[r]);return(e=e.replace(o,"::")).slice(1,-1)}function Ue(e){var t="malformed hex value";if(!e.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw t;if(8!=e.length)return 32==e.length?De(e):e;try{return parseInt(e.substr(0,2),16)+"."+parseInt(e.substr(2,2),16)+"."+parseInt(e.substr(4,2),16)+"."+parseInt(e.substr(6,2),16)}catch(e){throw t}}function Ne(e){for(var t=encodeURIComponent(e),r="",n=0;n<t.length;n++)"%"==t[n]?(r+=t.substr(n,3),n+=2):r=r+"%"+me(t[n]);return r}function Le(e){return!(e.length%2!=0||!e.match(/^[0-9a-f]+$/)&&!e.match(/^[0-9A-F]+$/))}function Me(e){return e.length%2==1?"0"+e:e.substr(0,1)>"7"?"00"+e:e}pe.getLblen=function(e,t){if("8"!=e.substr(t+2,1))return 1;var r=parseInt(e.substr(t+3,1));return 0==r?-1:0<r&&r<10?r+1:-2},pe.getL=function(e,t){var r=pe.getLblen(e,t);return r<1?"":e.substr(t+2,2*r)},pe.getVblen=function(e,t){var r;return""==(r=pe.getL(e,t))?-1:("8"===r.substr(0,1)?new k(r.substr(2),16):new k(r,16)).intValue()},pe.getVidx=function(e,t){var r=pe.getLblen(e,t);return r<0?r:t+2*(r+1)},pe.getV=function(e,t){var r=pe.getVidx(e,t),n=pe.getVblen(e,t);return e.substr(r,2*n)},pe.getTLV=function(e,t){return e.substr(t,2)+pe.getL(e,t)+pe.getV(e,t)},pe.getTLVblen=function(e,t){return 2+2*pe.getLblen(e,t)+2*pe.getVblen(e,t)},pe.getNextSiblingIdx=function(e,t){return pe.getVidx(e,t)+2*pe.getVblen(e,t)},pe.getChildIdx=function(e,t){var r,n,o,i=pe,a=[];r=i.getVidx(e,t),n=2*i.getVblen(e,t),"03"==e.substr(t,2)&&(r+=2,n-=2),o=0;for(var s=r;o<=n;){var c=i.getTLVblen(e,s);if((o+=c)<=n&&a.push(s),s+=c,o>=n)break}return a},pe.getNthChildIdx=function(e,t,r){return pe.getChildIdx(e,t)[r]},pe.getIdxbyList=function(e,t,r,n){var o,i,a=pe;return 0==r.length?void 0!==n&&e.substr(t,2)!==n?-1:t:(o=r.shift())>=(i=a.getChildIdx(e,t)).length?-1:a.getIdxbyList(e,i[o],r,n)},pe.getIdxbyListEx=function(e,t,r,n){var o,i,a=pe;if(0==r.length)return void 0!==n&&e.substr(t,2)!==n?-1:t;o=r.shift(),i=a.getChildIdx(e,t);for(var s=0,c=0;c<i.length;c++){var u=e.substr(i[c],2);if("number"==typeof o&&!a.isContextTag(u)&&s==o||"string"==typeof o&&a.isContextTag(u,o))return a.getIdxbyListEx(e,i[c],r,n);a.isContextTag(u)||s++}return-1},pe.getTLVbyList=function(e,t,r,n){var o=pe,i=o.getIdxbyList(e,t,r,n);return-1==i||i>=e.length?null:o.getTLV(e,i)},pe.getTLVbyListEx=function(e,t,r,n){var o=pe,i=o.getIdxbyListEx(e,t,r,n);return-1==i?null:o.getTLV(e,i)},pe.getVbyList=function(e,t,r,n,o){var i,a,s=pe;return-1==(i=s.getIdxbyList(e,t,r,n))||i>=e.length?null:(a=s.getV(e,i),!0===o&&(a=a.substr(2)),a)},pe.getVbyListEx=function(e,t,r,n,o){var i,a,s=pe;return-1==(i=s.getIdxbyListEx(e,t,r,n))?null:(a=s.getV(e,i),"03"==e.substr(i,2)&&!1!==o&&(a=a.substr(2)),a)},pe.getInt=function(e,t,r){null==r&&(r=-1);try{var n=e.substr(t,2);if("02"!=n&&"03"!=n)return r;var o=pe.getV(e,t);return"02"==n?parseInt(o,16):function(e){try{var t=e.substr(0,2);if("00"==t)return parseInt(e.substr(2),16);var r=parseInt(t,16),n=e.substr(2),o=parseInt(n,16).toString(2);return"0"==o&&(o="00000000"),o=o.slice(0,0-r),parseInt(o,2)}catch(e){return-1}}(o)}catch(e){return r}},pe.getOID=function(e,t,r){null==r&&(r=null);try{return"06"!=e.substr(t,2)?r:function(e){if(!Le(e))return null;try{var t=[],r=e.substr(0,2),n=parseInt(r,16);t[0]=new String(Math.floor(n/40)),t[1]=new String(n%40);for(var o=e.substr(2),i=[],a=0;a<o.length/2;a++)i.push(parseInt(o.substr(2*a,2),16));var s=[],c="";for(a=0;a<i.length;a++)128&i[a]?c+=Be((127&i[a]).toString(2),7):(c+=Be((127&i[a]).toString(2),7),s.push(new String(parseInt(c,2))),c="");var u=t.join(".");return s.length>0&&(u=u+"."+s.join(".")),u}catch(e){return null}}(pe.getV(e,t))}catch(e){return r}},pe.getOIDName=function(e,t,r){null==r&&(r=null);try{var n=pe.getOID(e,t,r);if(n==r)return r;var o=ue.asn1.x509.OID.oid2name(n);return""==o?n:o}catch(e){return r}},pe.getString=function(e,t,r){null==r&&(r=null);try{return ke(pe.getV(e,t))}catch(e){return r}},pe.hextooidstr=function(e){var t=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},r=[],n=e.substr(0,2),o=parseInt(n,16);r[0]=new String(Math.floor(o/40)),r[1]=new String(o%40);for(var i=e.substr(2),a=[],s=0;s<i.length/2;s++)a.push(parseInt(i.substr(2*s,2),16));var c=[],u="";for(s=0;s<a.length;s++)128&a[s]?u+=t((127&a[s]).toString(2),7):(u+=t((127&a[s]).toString(2),7),c.push(new String(parseInt(u,2))),u="");var l=r.join(".");return c.length>0&&(l=l+"."+c.join(".")),l},pe.dump=function(e,t,r,n){var o=pe,i=o.getV,a=o.dump,s=o.getChildIdx,c=e;e instanceof ue.asn1.ASN1Object&&(c=e.getEncodedHex());var u=function(e,t){return e.length<=2*t?e:e.substr(0,t)+"..(total "+e.length/2+"bytes).."+e.substr(e.length-t,t)};void 0===t&&(t={ommit_long_octet:32}),void 0===r&&(r=0),void 0===n&&(n="");var l,h=t.ommit_long_octet;if("01"==(l=c.substr(r,2)))return"00"==(p=i(c,r))?n+"BOOLEAN FALSE\n":n+"BOOLEAN TRUE\n";if("02"==l)return n+"INTEGER "+u(p=i(c,r),h)+"\n";if("03"==l){var p=i(c,r);return o.isASN1HEX(p.substr(2))?(S=n+"BITSTRING, encapsulates\n")+a(p.substr(2),t,0,n+"  "):n+"BITSTRING "+u(p,h)+"\n"}if("04"==l)return p=i(c,r),o.isASN1HEX(p)?(S=n+"OCTETSTRING, encapsulates\n")+a(p,t,0,n+"  "):n+"OCTETSTRING "+u(p,h)+"\n";if("05"==l)return n+"NULL\n";if("06"==l){var f=i(c,r),d=ue.asn1.ASN1Util.oidHexToInt(f),g=ue.asn1.x509.OID.oid2name(d),m=d.replace(/\./g," ");return""!=g?n+"ObjectIdentifier "+g+" ("+m+")\n":n+"ObjectIdentifier ("+m+")\n"}if("0a"==l)return n+"ENUMERATED "+parseInt(i(c,r))+"\n";if("0c"==l)return n+"UTF8String '"+_e(i(c,r))+"'\n";if("13"==l)return n+"PrintableString '"+_e(i(c,r))+"'\n";if("14"==l)return n+"TeletexString '"+_e(i(c,r))+"'\n";if("16"==l)return n+"IA5String '"+_e(i(c,r))+"'\n";if("17"==l)return n+"UTCTime "+_e(i(c,r))+"\n";if("18"==l)return n+"GeneralizedTime "+_e(i(c,r))+"\n";if("1a"==l)return n+"VisualString '"+_e(i(c,r))+"'\n";if("1e"==l)return n+"BMPString '"+_e(i(c,r))+"'\n";if("30"==l){if("3000"==c.substr(r,4))return n+"SEQUENCE {}\n";S=n+"SEQUENCE\n";var v=t;if((2==(w=s(c,r)).length||3==w.length)&&"06"==c.substr(w[0],2)&&"04"==c.substr(w[w.length-1],2)){g=o.oidname(i(c,w[0]));var y=JSON.parse(JSON.stringify(t));y.x509ExtName=g,v=y}for(var b=0;b<w.length;b++)S+=a(c,v,w[b],n+"  ");return S}if("31"==l){S=n+"SET\n";var w=s(c,r);for(b=0;b<w.length;b++)S+=a(c,t,w[b],n+"  ");return S}if(0!=(128&(l=parseInt(l,16)))){var S,_=31&l;if(0!=(32&l)){for(S=n+"["+_+"]\n",w=s(c,r),b=0;b<w.length;b++)S+=a(c,t,w[b],n+"  ");return S}return p=i(c,r),pe.isASN1HEX(p)?(S=n+"["+_+"]\n")+a(p,t,0,n+"  "):(("68747470"==p.substr(0,8)||"subjectAltName"===t.x509ExtName&&2==_)&&(p=_e(p)),n+"["+_+"] "+p+"\n")}return n+"UNKNOWN("+l+") "+i(c,r)+"\n"},pe.isContextTag=function(e,t){var r,n;e=e.toLowerCase();try{r=parseInt(e,16)}catch(e){return-1}if(void 0===t)return 128==(192&r);try{return null!=t.match(/^\[[0-9]+\]$/)&&!((n=parseInt(t.substr(1,t.length-1),10))>31)&&128==(192&r)&&(31&r)==n}catch(e){return!1}},pe.isASN1HEX=function(e){var t=pe;if(e.length%2==1)return!1;var r=t.getVblen(e,0),n=e.substr(0,2),o=t.getL(e,0);return e.length-n.length-o.length==2*r},pe.checkStrictDER=function(e,t,r,n,o){var i=pe;if(void 0===r){if("string"!=typeof e)throw new Error("not hex string");if(e=e.toLowerCase(),!ue.lang.String.isHex(e))throw new Error("not hex string");r=e.length,o=(n=e.length/2)<128?1:Math.ceil(n.toString(16))+1}if(i.getL(e,t).length>2*o)throw new Error("L of TLV too long: idx="+t);var a=i.getVblen(e,t);if(a>n)throw new Error("value of L too long than hex: idx="+t);var s=i.getTLV(e,t),c=s.length-2-i.getL(e,t).length;if(c!==2*a)throw new Error("V string length and L's value not the same:"+c+"/"+2*a);if(0===t&&e.length!=s.length)throw new Error("total length and TLV length unmatch:"+e.length+"!="+s.length);var u=e.substr(t,2);if("02"===u){var l=i.getVidx(e,t);if("00"==e.substr(l,2)&&e.charCodeAt(l+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(u,16)){for(var h=i.getVblen(e,t),p=0,f=i.getChildIdx(e,t),d=0;d<f.length;d++)p+=i.getTLV(e,f[d]).length,i.checkStrictDER(e,f[d],r,n,o);if(2*h!=p)throw new Error("sum of children's TLV length and L unmatch: "+2*h+"!="+p)}},pe.oidname=function(e){var t=ue.asn1;ue.lang.String.isHex(e)&&(e=t.ASN1Util.oidHexToInt(e));var r=t.x509.OID.oid2name(e);return""===r&&(r=e),r},void 0!==ue&&ue||(t.KJUR=ue={}),void 0!==ue.lang&&ue.lang||(ue.lang={}),ue.lang.String=function(){},"function"==typeof e?(t.utf8tob64u=le=function(t){return ve(e.from(t,"utf8").toString("base64"))},t.b64utoutf8=he=function(t){return e.from(ye(t),"base64").toString("utf8")}):(t.utf8tob64u=le=function(e){return be(Re(Ne(e)))},t.b64utoutf8=he=function(e){return decodeURIComponent(Ie(we(e)))}),ue.lang.String.isInteger=function(e){return!!e.match(/^[0-9]+$/)||!!e.match(/^-[0-9]+$/)},ue.lang.String.isHex=function(e){return Le(e)},ue.lang.String.isBase64=function(e){return!(!(e=e.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||e.length%4!=0)},ue.lang.String.isBase64URL=function(e){return!e.match(/[+/=]/)&&(e=ye(e),ue.lang.String.isBase64(e))},ue.lang.String.isIntegerArray=function(e){return!!(e=e.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},ue.lang.String.isPrintable=function(e){return null!==e.match(/^[0-9A-Za-z '()+,-./:=?]*$/)},ue.lang.String.isIA5=function(e){return null!==e.match(/^[\x20-\x21\x23-\x7f]*$/)},ue.lang.String.isMail=function(e){return null!==e.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)};var Be=function(e,t,r){return null==r&&(r="0"),e.length>=t?e:new Array(t-e.length+1).join(r)+e};void 0!==ue&&ue||(t.KJUR=ue={}),void 0!==ue.crypto&&ue.crypto||(ue.crypto={}),ue.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:v.algo.MD5,sha1:v.algo.SHA1,sha224:v.algo.SHA224,sha256:v.algo.SHA256,sha384:v.algo.SHA384,sha512:v.algo.SHA512,ripemd160:v.algo.RIPEMD160},this.getDigestInfoHex=function(e,t){if(void 0===this.DIGESTINFOHEAD[t])throw"alg not supported in Util.DIGESTINFOHEAD: "+t;return this.DIGESTINFOHEAD[t]+e},this.getPaddedDigestInfoHex=function(e,t,r){var n=this.getDigestInfoHex(e,t),o=r/4;if(n.length+22>o)throw"key is too short for SigAlg: keylen="+r+","+t;for(var i="0001",a="00"+n,s="",c=o-i.length-a.length,u=0;u<c;u+=2)s+="ff";return i+s+a},this.hashString=function(e,t){return new ue.crypto.MessageDigest({alg:t}).digestString(e)},this.hashHex=function(e,t){return new ue.crypto.MessageDigest({alg:t}).digestHex(e)},this.sha1=function(e){return this.hashString(e,"sha1")},this.sha256=function(e){return this.hashString(e,"sha256")},this.sha256Hex=function(e){return this.hashHex(e,"sha256")},this.sha512=function(e){return this.hashString(e,"sha512")},this.sha512Hex=function(e){return this.hashHex(e,"sha512")},this.isKey=function(e){return e instanceof oe||e instanceof ue.crypto.DSA||e instanceof ue.crypto.ECDSA}},ue.crypto.Util.md5=function(e){return new ue.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(e)},ue.crypto.Util.ripemd160=function(e){return new ue.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(e)},ue.crypto.Util.SECURERANDOMGEN=new te,ue.crypto.Util.getRandomHexOfNbytes=function(e){var t=new Array(e);return ue.crypto.Util.SECURERANDOMGEN.nextBytes(t),ge(t)},ue.crypto.Util.getRandomBigIntegerOfNbytes=function(e){return new k(ue.crypto.Util.getRandomHexOfNbytes(e),16)},ue.crypto.Util.getRandomHexOfNbits=function(e){var t=e%8,r=new Array((e-t)/8+1);return ue.crypto.Util.SECURERANDOMGEN.nextBytes(r),r[0]=(255<<t&255^255)&r[0],ge(r)},ue.crypto.Util.getRandomBigIntegerOfNbits=function(e){return new k(ue.crypto.Util.getRandomHexOfNbits(e),16)},ue.crypto.Util.getRandomBigIntegerZeroToMax=function(e){for(var t=e.bitLength();;){var r=ue.crypto.Util.getRandomBigIntegerOfNbits(t);if(-1!=e.compareTo(r))return r}},ue.crypto.Util.getRandomBigIntegerMinToMax=function(e,t){var r=e.compareTo(t);if(1==r)throw"biMin is greater than biMax";if(0==r)return e;var n=t.subtract(e);return ue.crypto.Util.getRandomBigIntegerZeroToMax(n).add(e)},ue.crypto.MessageDigest=function(e){this.setAlgAndProvider=function(e,t){if(null!==(e=ue.crypto.MessageDigest.getCanonicalAlgName(e))&&void 0===t&&(t=ue.crypto.Util.DEFAULTPROVIDER[e]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(e)&&"cryptojs"==t){try{this.md=ue.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[e].create()}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=v.enc.Hex.parse(e);this.md.update(t)},this.digest=function(){return this.md.finalize().toString(v.enc.Hex)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}if(-1!=":sha256:".indexOf(e)&&"sjcl"==t){try{this.md=new sjcl.hash.sha256}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=sjcl.codec.hex.toBits(e);this.md.update(t)},this.digest=function(){var e=this.md.finalize();return sjcl.codec.hex.fromBits(e)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==e&&void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=ue.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},ue.crypto.MessageDigest.getCanonicalAlgName=function(e){return"string"==typeof e&&(e=(e=e.toLowerCase()).replace(/-/,"")),e},ue.crypto.MessageDigest.getHashLength=function(e){var t=ue.crypto.MessageDigest,r=t.getCanonicalAlgName(e);if(void 0===t.HASHLENGTH[r])throw"not supported algorithm: "+e;return t.HASHLENGTH[r]},ue.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},ue.crypto.Mac=function(e){this.setAlgAndProvider=function(e,t){if(null==(e=e.toLowerCase())&&(e="hmacsha1"),"hmac"!=(e=e.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+e;void 0===t&&(t=ue.crypto.Util.DEFAULTPROVIDER[e]),this.algProv=e+"/"+t;var r=e.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(r)&&"cryptojs"==t){try{var n=ue.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[r];this.mac=v.algo.HMAC.create(n,this.pass)}catch(e){throw"setAlgAndProvider hash alg set fail hashAlg="+r+"/"+e}this.updateString=function(e){this.mac.update(e)},this.updateHex=function(e){var t=v.enc.Hex.parse(e);this.mac.update(t)},this.doFinal=function(){return this.mac.finalize().toString(v.enc.Hex)},this.doFinalString=function(e){return this.updateString(e),this.doFinal()},this.doFinalHex=function(e){return this.updateHex(e),this.doFinal()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(e){if("string"==typeof e){var t=e;return e.length%2!=1&&e.match(/^[0-9A-Fa-f]+$/)||(t=Ee(e)),void(this.pass=v.enc.Hex.parse(t))}if("object"!=(void 0===e?"undefined":r(e)))throw"KJUR.crypto.Mac unsupported password type: "+e;if(t=null,void 0!==e.hex){if(e.hex.length%2!=0||!e.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+e.hex;t=e.hex}if(void 0!==e.utf8&&(t=Se(e.utf8)),void 0!==e.rstr&&(t=Ee(e.rstr)),void 0!==e.b64&&(t=S(e.b64)),void 0!==e.b64u&&(t=we(e.b64u)),null==t)throw"KJUR.crypto.Mac unsupported password type: "+e;this.pass=v.enc.Hex.parse(t)},void 0!==e&&(void 0!==e.pass&&this.setPassword(e.pass),void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=ue.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},ue.crypto.Signature=function(e){var t=null;if(this._setAlgNames=function(){var e=this.algName.match(/^(.+)with(.+)$/);e&&(this.mdAlgName=e[1].toLowerCase(),this.pubkeyAlgName=e[2].toLowerCase(),"rsaandmgf1"==this.pubkeyAlgName&&"sha"==this.mdAlgName&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(e,t){for(var r="",n=t/4-e.length,o=0;o<n;o++)r+="0";return r+e},this.setAlgAndProvider=function(e,t){if(this._setAlgNames(),"cryptojs/jsrsa"!=t)throw new Error("provider not supported: "+t);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new ue.crypto.MessageDigest({alg:this.mdAlgName})}catch(e){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+e)}this.init=function(e,t){var r=null;try{r=void 0===t?He.getKey(e):He.getKey(e,t)}catch(e){throw"init failed:"+e}if(!0===r.isPrivate)this.prvKey=r,this.state="SIGN";else{if(!0!==r.isPublic)throw"init failed.:"+r;this.pubKey=r,this.state="VERIFY"}},this.updateString=function(e){this.md.updateString(e)},this.updateHex=function(e){this.md.updateHex(e)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==ue.crypto.ECDSA&&(this.prvKey=new ue.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof oe&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof oe&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof ue.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof ue.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(e){return this.updateString(e),this.sign()},this.signHex=function(e){return this.updateHex(e),this.sign()},this.verify=function(e){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==ue.crypto.ECDSA&&(this.pubKey=new ue.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof oe&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,e,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof oe&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==ue.crypto.ECDSA&&this.pubKey instanceof ue.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==ue.crypto.DSA&&this.pubKey instanceof ue.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(e,t){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(e){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(e){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(e){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(e){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=e,void 0!==e&&(void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov?this.provName=ue.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=e.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==e.psssaltlen&&(this.pssSaltLen=e.psssaltlen),void 0!==e.prvkeypem)){if(void 0!==e.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{t=He.getKey(e.prvkeypem),this.init(t)}catch(e){throw"fatal error to load pem private key: "+e}}},ue.crypto.Cipher=function(e){},ue.crypto.Cipher.encrypt=function(e,t,r){if(t instanceof oe&&t.isPublic){var n=ue.crypto.Cipher.getAlgByKeyAndName(t,r);if("RSA"===n)return t.encrypt(e);if("RSAOAEP"===n)return t.encryptOAEP(e,"sha1");var o=n.match(/^RSAOAEP(\d+)$/);if(null!==o)return t.encryptOAEP(e,"sha"+o[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+r}throw"Cipher.encrypt: unsupported key or algorithm"},ue.crypto.Cipher.decrypt=function(e,t,r){if(t instanceof oe&&t.isPrivate){var n=ue.crypto.Cipher.getAlgByKeyAndName(t,r);if("RSA"===n)return t.decrypt(e);if("RSAOAEP"===n)return t.decryptOAEP(e,"sha1");var o=n.match(/^RSAOAEP(\d+)$/);if(null!==o)return t.decryptOAEP(e,"sha"+o[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+r}throw"Cipher.decrypt: unsupported key or algorithm"},ue.crypto.Cipher.getAlgByKeyAndName=function(e,t){if(e instanceof oe){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(t))return t;if(null==t)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+t}throw"getAlgByKeyAndName: not supported algorithm name: "+t},ue.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==ue&&ue||(t.KJUR=ue={}),void 0!==ue.crypto&&ue.crypto||(ue.crypto={}),ue.crypto.ECDSA=function(e){var t=Error,n=k,o=ae,i=ue.crypto.ECDSA,a=ue.crypto.ECParameterDB,s=i.getName,c=pe,u=c.getVbyListEx,l=c.isASN1HEX,h=new te;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(e){return new n(e.bitLength(),h).mod(e.subtract(n.ONE)).add(n.ONE)},this.setNamedCurve=function(e){this.ecparams=a.getByName(e),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=e},this.setPrivateKeyHex=function(e){this.isPrivate=!0,this.prvKeyHex=e},this.setPublicKeyHex=function(e){this.isPublic=!0,this.pubKeyHex=e},this.getPublicKeyXYHex=function(){var e=this.pubKeyHex;if("04"!==e.substr(0,2))throw"this method supports uncompressed format(04) only";var t=this.ecparams.keylen/4;if(e.length!==2+2*t)throw"malformed public key hex length";var r={};return r.x=e.substr(2,t),r.y=e.substr(2+t),r},this.getShortNISTPCurveName=function(){var e=this.curveName;return"secp256r1"===e||"NIST P-256"===e||"P-256"===e||"prime256v1"===e?"P-256":"secp384r1"===e||"NIST P-384"===e||"P-384"===e?"P-384":null},this.generateKeyPairHex=function(){var e=this.ecparams.n,t=this.getBigRandom(e),r=this.ecparams.G.multiply(t),n=r.getX().toBigInteger(),o=r.getY().toBigInteger(),i=this.ecparams.keylen/4,a=("0000000000"+t.toString(16)).slice(-i),s="04"+("0000000000"+n.toString(16)).slice(-i)+("0000000000"+o.toString(16)).slice(-i);return this.setPrivateKeyHex(a),this.setPublicKeyHex(s),{ecprvhex:a,ecpubhex:s}},this.signWithMessageHash=function(e){return this.signHex(e,this.prvKeyHex)},this.signHex=function(e,t){var r=new n(t,16),o=this.ecparams.n,a=new n(e.substring(0,this.ecparams.keylen/4),16);do{var s=this.getBigRandom(o),c=this.ecparams.G.multiply(s).getX().toBigInteger().mod(o)}while(c.compareTo(n.ZERO)<=0);var u=s.modInverse(o).multiply(a.add(r.multiply(c))).mod(o);return i.biRSSigToASN1Sig(c,u)},this.sign=function(e,t){var r=t,o=this.ecparams.n,i=n.fromByteArrayUnsigned(e);do{var a=this.getBigRandom(o),s=this.ecparams.G.multiply(a).getX().toBigInteger().mod(o)}while(s.compareTo(k.ZERO)<=0);var c=a.modInverse(o).multiply(i.add(r.multiply(s))).mod(o);return this.serializeSig(s,c)},this.verifyWithMessageHash=function(e,t){return this.verifyHex(e,t,this.pubKeyHex)},this.verifyHex=function(e,t,r){try{var a,s,c=i.parseSigHex(t);a=c.r,s=c.s;var u=o.decodeFromHex(this.ecparams.curve,r),l=new n(e.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(l,a,s,u)}catch(e){return!1}},this.verify=function(e,t,i){var a,s,c;if(Bitcoin.Util.isArray(t)){var u=this.parseSig(t);a=u.r,s=u.s}else{if("object"!==(void 0===t?"undefined":r(t))||!t.r||!t.s)throw"Invalid value for signature";a=t.r,s=t.s}if(i instanceof ae)c=i;else{if(!Bitcoin.Util.isArray(i))throw"Invalid format for pubkey value, must be byte array or ECPointFp";c=o.decodeFrom(this.ecparams.curve,i)}var l=n.fromByteArrayUnsigned(e);return this.verifyRaw(l,a,s,c)},this.verifyRaw=function(e,t,r,o){var i=this.ecparams.n,a=this.ecparams.G;if(t.compareTo(n.ONE)<0||t.compareTo(i)>=0)return!1;if(r.compareTo(n.ONE)<0||r.compareTo(i)>=0)return!1;var s=r.modInverse(i),c=e.multiply(s).mod(i),u=t.multiply(s).mod(i);return a.multiply(c).add(o.multiply(u)).getX().toBigInteger().mod(i).equals(t)},this.serializeSig=function(e,t){var r=e.toByteArraySigned(),n=t.toByteArraySigned(),o=[];return o.push(2),o.push(r.length),(o=o.concat(r)).push(2),o.push(n.length),(o=o.concat(n)).unshift(o.length),o.unshift(48),o},this.parseSig=function(e){var t;if(48!=e[0])throw new Error("Signature not a valid DERSequence");if(2!=e[t=2])throw new Error("First element in signature must be a DERInteger");var r=e.slice(t+2,t+2+e[t+1]);if(2!=e[t+=2+e[t+1]])throw new Error("Second element in signature must be a DERInteger");var o=e.slice(t+2,t+2+e[t+1]);return t+=2+e[t+1],{r:n.fromByteArrayUnsigned(r),s:n.fromByteArrayUnsigned(o)}},this.parseSigCompact=function(e){if(65!==e.length)throw"Signature has the wrong length";var t=e[0]-27;if(t<0||t>7)throw"Invalid signature type";var r=this.ecparams.n;return{r:n.fromByteArrayUnsigned(e.slice(1,33)).mod(r),s:n.fromByteArrayUnsigned(e.slice(33,65)).mod(r),i:t}},this.readPKCS5PrvKeyHex=function(e){if(!1===l(e))throw new Error("not ASN.1 hex string");var t,r,n;try{t=u(e,0,["[0]",0],"06"),r=u(e,0,[1],"04");try{n=u(e,0,["[1]",0],"03")}catch(e){}}catch(e){throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=s(t),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(n),this.setPrivateKeyHex(r),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(e){if(!1===l(e))throw new t("not ASN.1 hex string");var r,n,o;try{u(e,0,[1,0],"06"),r=u(e,0,[1,1],"06"),n=u(e,0,[2,0,1],"04");try{o=u(e,0,[2,0,"[1]",0],"03")}catch(e){}}catch(e){throw new t("malformed PKCS#8 plain ECC private key")}if(this.curveName=s(r),void 0===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(o),this.setPrivateKeyHex(n),this.isPublic=!1},this.readPKCS8PubKeyHex=function(e){if(!1===l(e))throw new t("not ASN.1 hex string");var r,n;try{u(e,0,[0,0],"06"),r=u(e,0,[0,1],"06"),n=u(e,0,[1],"03")}catch(e){throw new t("malformed PKCS#8 ECC public key")}if(this.curveName=s(r),null===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(n)},this.readCertPubKeyHex=function(e,r){if(!1===l(e))throw new t("not ASN.1 hex string");var n,o;try{n=u(e,0,[0,5,0,1],"06"),o=u(e,0,[0,5,1],"03")}catch(e){throw new t("malformed X.509 certificate ECC public key")}if(this.curveName=s(n),null===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(o)},void 0!==e&&void 0!==e.curve&&(this.curveName=e.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==e&&(void 0!==e.prv&&this.setPrivateKeyHex(e.prv),void 0!==e.pub&&this.setPublicKeyHex(e.pub))},ue.crypto.ECDSA.parseSigHex=function(e){var t=ue.crypto.ECDSA.parseSigHexInHexRS(e);return{r:new k(t.r,16),s:new k(t.s,16)}},ue.crypto.ECDSA.parseSigHexInHexRS=function(e){var t=pe,r=t.getChildIdx,n=t.getV;if(t.checkStrictDER(e,0),"30"!=e.substr(0,2))throw new Error("signature is not a ASN.1 sequence");var o=r(e,0);if(2!=o.length)throw new Error("signature shall have two elements");var i=o[0],a=o[1];if("02"!=e.substr(i,2))throw new Error("1st item not ASN.1 integer");if("02"!=e.substr(a,2))throw new Error("2nd item not ASN.1 integer");return{r:n(e,i),s:n(e,a)}},ue.crypto.ECDSA.asn1SigToConcatSig=function(e){var t=ue.crypto.ECDSA.parseSigHexInHexRS(e),r=t.r,n=t.s;if("00"==r.substr(0,2)&&r.length%32==2&&(r=r.substr(2)),"00"==n.substr(0,2)&&n.length%32==2&&(n=n.substr(2)),r.length%32==30&&(r="00"+r),n.length%32==30&&(n="00"+n),r.length%32!=0)throw"unknown ECDSA sig r length error";if(n.length%32!=0)throw"unknown ECDSA sig s length error";return r+n},ue.crypto.ECDSA.concatSigToASN1Sig=function(e){if(e.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var t=e.substr(0,e.length/2),r=e.substr(e.length/2);return ue.crypto.ECDSA.hexRSSigToASN1Sig(t,r)},ue.crypto.ECDSA.hexRSSigToASN1Sig=function(e,t){var r=new k(e,16),n=new k(t,16);return ue.crypto.ECDSA.biRSSigToASN1Sig(r,n)},ue.crypto.ECDSA.biRSSigToASN1Sig=function(e,t){var r=ue.asn1,n=new r.DERInteger({bigint:e}),o=new r.DERInteger({bigint:t});return new r.DERSequence({array:[n,o]}).getEncodedHex()},ue.crypto.ECDSA.getName=function(e){return"2b8104001f"===e?"secp192k1":"2a8648ce3d030107"===e?"secp256r1":"2b8104000a"===e?"secp256k1":"2b81040021"===e?"secp224r1":"2b81040022"===e?"secp384r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(e)?"secp256r1":-1!=="|secp256k1|".indexOf(e)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(e)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(e)?"secp384r1":null},void 0!==ue&&ue||(t.KJUR=ue={}),void 0!==ue.crypto&&ue.crypto||(ue.crypto={}),ue.crypto.ECParameterDB=new function(){var e={},t={};function r(e){return new k(e,16)}this.getByName=function(r){var n=r;if(void 0!==t[n]&&(n=t[r]),void 0!==e[n])return e[n];throw"unregistered EC curve name: "+n},this.regist=function(n,o,i,a,s,c,u,l,h,p,f,d){e[n]={};var g=r(i),m=r(a),v=r(s),y=r(c),b=r(u),w=new se(g,m,v),S=w.decodePointHex("04"+l+h);e[n].name=n,e[n].keylen=o,e[n].curve=w,e[n].G=S,e[n].n=y,e[n].h=b,e[n].oid=f,e[n].info=d;for(var _=0;_<p.length;_++)t[p[_]]=n}},ue.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),ue.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),ue.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),ue.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),ue.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),ue.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),ue.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),ue.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),ue.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),ue.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var He=function(){var e=function(e,r,n){return t(v.AES,e,r,n)},t=function(e,t,r,n){var o=v.enc.Hex.parse(t),i=v.enc.Hex.parse(r),a=v.enc.Hex.parse(n),s={};s.key=i,s.iv=a,s.ciphertext=o;var c=e.decrypt(s,i,{iv:a});return v.enc.Hex.stringify(c)},r=function(e,t,r){return n(v.AES,e,t,r)},n=function(e,t,r,n){var o=v.enc.Hex.parse(t),i=v.enc.Hex.parse(r),a=v.enc.Hex.parse(n),s=e.encrypt(o,i,{iv:a}),c=v.enc.Hex.parse(s.toString());return v.enc.Base64.stringify(c)},o={"AES-256-CBC":{proc:e,eproc:r,keylen:32,ivlen:16},"AES-192-CBC":{proc:e,eproc:r,keylen:24,ivlen:16},"AES-128-CBC":{proc:e,eproc:r,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(e,r,n){return t(v.TripleDES,e,r,n)},eproc:function(e,t,r){return n(v.TripleDES,e,t,r)},keylen:24,ivlen:8},"DES-CBC":{proc:function(e,r,n){return t(v.DES,e,r,n)},eproc:function(e,t,r){return n(v.DES,e,t,r)},keylen:8,ivlen:8}},i=function(e){var t={},r=e.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));r&&(t.cipher=r[1],t.ivsalt=r[2]);var n=e.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));n&&(t.type=n[1]);var o=-1,i=0;-1!=e.indexOf("\r\n\r\n")&&(o=e.indexOf("\r\n\r\n"),i=2),-1!=e.indexOf("\n\n")&&(o=e.indexOf("\n\n"),i=1);var a=e.indexOf("-----END");if(-1!=o&&-1!=a){var s=e.substring(o+2*i,a-i);s=s.replace(/\s+/g,""),t.data=s}return t},a=function(e,t,r){for(var n=r.substring(0,16),i=v.enc.Hex.parse(n),a=v.enc.Utf8.parse(t),s=o[e].keylen+o[e].ivlen,c="",u=null;;){var l=v.algo.MD5.create();if(null!=u&&l.update(u),l.update(a),l.update(i),u=l.finalize(),(c+=v.enc.Hex.stringify(u)).length>=2*s)break}var h={};return h.keyhex=c.substr(0,2*o[e].keylen),h.ivhex=c.substr(2*o[e].keylen,2*o[e].ivlen),h},s=function(e,t,r,n){var i=v.enc.Base64.parse(e),a=v.enc.Hex.stringify(i);return(0,o[t].proc)(a,r,n)};return{version:"1.0.0",parsePKCS5PEM:function(e){return i(e)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(e,t,r){return a(e,t,r)},decryptKeyB64:function(e,t,r,n){return s(e,t,r,n)},getDecryptedKeyHex:function(e,t){var r=i(e),n=(r.type,r.cipher),o=r.ivsalt,c=r.data,u=a(n,t,o).keyhex;return s(c,n,u,o)},getEncryptedPKCS5PEMFromPrvKeyHex:function(e,t,r,n,i){var s="";if(void 0!==n&&null!=n||(n="AES-256-CBC"),void 0===o[n])throw"KEYUTIL unsupported algorithm: "+n;return void 0!==i&&null!=i||(i=function(e){var t=v.lib.WordArray.random(e);return v.enc.Hex.stringify(t)}(o[n].ivlen).toUpperCase()),s="-----BEGIN "+e+" PRIVATE KEY-----\r\n",s+="Proc-Type: 4,ENCRYPTED\r\n",s+="DEK-Info: "+n+","+i+"\r\n",s+="\r\n",(s+=function(e,t,r,n){return(0,o[t].eproc)(e,r,n)}(t,n,a(n,r,i).keyhex,i).replace(/(.{64})/g,"$1\r\n"))+"\r\n-----END "+e+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(t){var r=pe,n=r.getChildIdx,o=r.getV,i={},a=n(t,0);if(2!=a.length)throw"malformed format: SEQUENCE(0).items != 2: "+a.length;i.ciphertext=o(t,a[1]);var s=n(t,a[0]);if(2!=s.length)throw"malformed format: SEQUENCE(0.0).items != 2: "+s.length;if("2a864886f70d01050d"!=o(t,s[0]))throw"this only supports pkcs5PBES2";var c=n(t,s[1]);if(2!=s.length)throw"malformed format: SEQUENCE(0.0.1).items != 2: "+c.length;var u=n(t,c[1]);if(2!=u.length)throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+u.length;if("2a864886f70d0307"!=o(t,u[0]))throw"this only supports TripleDES";i.encryptionSchemeAlg="TripleDES",i.encryptionSchemeIV=o(t,u[1]);var l=n(t,c[0]);if(2!=l.length)throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+l.length;if("2a864886f70d01050c"!=o(t,l[0]))throw"this only supports pkcs5PBKDF2";var h=n(t,l[1]);if(h.length<2)throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+h.length;i.pbkdf2Salt=o(t,h[0]);var p=o(t,h[1]);try{i.pbkdf2Iter=parseInt(p,16)}catch(e){throw"malformed format pbkdf2Iter: "+p}return i},getPBKDF2KeyHexFromParam:function(e,t){var r=v.enc.Hex.parse(e.pbkdf2Salt),n=e.pbkdf2Iter,o=v.PBKDF2(t,r,{keySize:6,iterations:n});return v.enc.Hex.stringify(o)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(e,t){var r=Fe(e,"ENCRYPTED PRIVATE KEY"),n=this.parseHexOfEncryptedPKCS8(r),o=He.getPBKDF2KeyHexFromParam(n,t),i={};i.ciphertext=v.enc.Hex.parse(n.ciphertext);var a=v.enc.Hex.parse(o),s=v.enc.Hex.parse(n.encryptionSchemeIV),c=v.TripleDES.decrypt(i,a,{iv:s});return v.enc.Hex.stringify(c)},getKeyFromEncryptedPKCS8PEM:function(e,t){var r=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(e,t);return this.getKeyFromPlainPrivatePKCS8Hex(r)},parsePlainPrivatePKCS8Hex:function(e){var t=pe,r=t.getChildIdx,n=t.getV,o={algparam:null};if("30"!=e.substr(0,2))throw"malformed plain PKCS8 private key(code:001)";var i=r(e,0);if(3!=i.length)throw"malformed plain PKCS8 private key(code:002)";if("30"!=e.substr(i[1],2))throw"malformed PKCS8 private key(code:003)";var a=r(e,i[1]);if(2!=a.length)throw"malformed PKCS8 private key(code:004)";if("06"!=e.substr(a[0],2))throw"malformed PKCS8 private key(code:005)";if(o.algoid=n(e,a[0]),"06"==e.substr(a[1],2)&&(o.algparam=n(e,a[1])),"04"!=e.substr(i[2],2))throw"malformed PKCS8 private key(code:006)";return o.keyidx=t.getVidx(e,i[2]),o},getKeyFromPlainPrivatePKCS8PEM:function(e){var t=Fe(e,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(t)},getKeyFromPlainPrivatePKCS8Hex:function(e){var t,r=this.parsePlainPrivatePKCS8Hex(e);if("2a864886f70d010101"==r.algoid)t=new oe;else if("2a8648ce380401"==r.algoid)t=new ue.crypto.DSA;else{if("2a8648ce3d0201"!=r.algoid)throw"unsupported private key algorithm";t=new ue.crypto.ECDSA}return t.readPKCS8PrvKeyHex(e),t},_getKeyFromPublicPKCS8Hex:function(e){var t,r=pe.getVbyList(e,0,[0,0],"06");if("2a864886f70d010101"===r)t=new oe;else if("2a8648ce380401"===r)t=new ue.crypto.DSA;else{if("2a8648ce3d0201"!==r)throw"unsupported PKCS#8 public key hex";t=new ue.crypto.ECDSA}return t.readPKCS8PubKeyHex(e),t},parsePublicRawRSAKeyHex:function(e){var t=pe,r=t.getChildIdx,n=t.getV,o={};if("30"!=e.substr(0,2))throw"malformed RSA key(code:001)";var i=r(e,0);if(2!=i.length)throw"malformed RSA key(code:002)";if("02"!=e.substr(i[0],2))throw"malformed RSA key(code:003)";if(o.n=n(e,i[0]),"02"!=e.substr(i[1],2))throw"malformed RSA key(code:004)";return o.e=n(e,i[1]),o},parsePublicPKCS8Hex:function(e){var t=pe,r=t.getChildIdx,n=t.getV,o={algparam:null},i=r(e,0);if(2!=i.length)throw"outer DERSequence shall have 2 elements: "+i.length;var a=i[0];if("30"!=e.substr(a,2))throw"malformed PKCS8 public key(code:001)";var s=r(e,a);if(2!=s.length)throw"malformed PKCS8 public key(code:002)";if("06"!=e.substr(s[0],2))throw"malformed PKCS8 public key(code:003)";if(o.algoid=n(e,s[0]),"06"==e.substr(s[1],2)?o.algparam=n(e,s[1]):"30"==e.substr(s[1],2)&&(o.algparam={},o.algparam.p=t.getVbyList(e,s[1],[0],"02"),o.algparam.q=t.getVbyList(e,s[1],[1],"02"),o.algparam.g=t.getVbyList(e,s[1],[2],"02")),"03"!=e.substr(i[1],2))throw"malformed PKCS8 public key(code:004)";return o.key=n(e,i[1]).substr(2),o}}}();He.getKey=function(e,t,r){var n,o=(v=pe).getChildIdx,i=(v.getV,v.getVbyList),a=ue.crypto,s=a.ECDSA,c=a.DSA,u=oe,l=Fe,h=He;if(void 0!==u&&e instanceof u)return e;if(void 0!==s&&e instanceof s)return e;if(void 0!==c&&e instanceof c)return e;if(void 0!==e.curve&&void 0!==e.xy&&void 0===e.d)return new s({pub:e.xy,curve:e.curve});if(void 0!==e.curve&&void 0!==e.d)return new s({prv:e.d,curve:e.curve});if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(F=new u).setPublic(e.n,e.e),F;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.co&&void 0===e.qi)return(F=new u).setPrivateEx(e.n,e.e,e.d,e.p,e.q,e.dp,e.dq,e.co),F;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0===e.p)return(F=new u).setPrivate(e.n,e.e,e.d),F;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0===e.x)return(F=new c).setPublic(e.p,e.q,e.g,e.y),F;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0!==e.x)return(F=new c).setPrivate(e.p,e.q,e.g,e.y,e.x),F;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(F=new u).setPublic(we(e.n),we(e.e)),F;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.qi)return(F=new u).setPrivateEx(we(e.n),we(e.e),we(e.d),we(e.p),we(e.q),we(e.dp),we(e.dq),we(e.qi)),F;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d)return(F=new u).setPrivate(we(e.n),we(e.e),we(e.d)),F;if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0===e.d){var p=(P=new s({curve:e.crv})).ecparams.keylen/4,f="04"+("0000000000"+we(e.x)).slice(-p)+("0000000000"+we(e.y)).slice(-p);return P.setPublicKeyHex(f),P}if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0!==e.d){p=(P=new s({curve:e.crv})).ecparams.keylen/4,f="04"+("0000000000"+we(e.x)).slice(-p)+("0000000000"+we(e.y)).slice(-p);var d=("0000000000"+we(e.d)).slice(-p);return P.setPublicKeyHex(f),P.setPrivateKeyHex(d),P}if("pkcs5prv"===r){var g,m=e,v=pe;if(9===(g=o(m,0)).length)(F=new u).readPKCS5PrvKeyHex(m);else if(6===g.length)(F=new c).readPKCS5PrvKeyHex(m);else{if(!(g.length>2&&"04"===m.substr(g[1],2)))throw"unsupported PKCS#1/5 hexadecimal key";(F=new s).readPKCS5PrvKeyHex(m)}return F}if("pkcs8prv"===r)return h.getKeyFromPlainPrivatePKCS8Hex(e);if("pkcs8pub"===r)return h._getKeyFromPublicPKCS8Hex(e);if("x509pub"===r)return ze.getPublicKeyFromCertHex(e);if(-1!=e.indexOf("-END CERTIFICATE-",0)||-1!=e.indexOf("-END X509 CERTIFICATE-",0)||-1!=e.indexOf("-END TRUSTED CERTIFICATE-",0))return ze.getPublicKeyFromCertPEM(e);if(-1!=e.indexOf("-END PUBLIC KEY-")){var y=Fe(e,"PUBLIC KEY");return h._getKeyFromPublicPKCS8Hex(y)}if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var b=l(e,"RSA PRIVATE KEY");return h.getKey(b,null,"pkcs5prv")}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var w=i(n=l(e,"DSA PRIVATE KEY"),0,[1],"02"),S=i(n,0,[2],"02"),_=i(n,0,[3],"02"),E=i(n,0,[4],"02"),x=i(n,0,[5],"02");return(F=new c).setPrivate(new k(w,16),new k(S,16),new k(_,16),new k(E,16),new k(x,16)),F}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED"))return b=l(e,"EC PRIVATE KEY"),h.getKey(b,null,"pkcs5prv");if(-1!=e.indexOf("-END PRIVATE KEY-"))return h.getKeyFromPlainPrivatePKCS8PEM(e);if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var A=h.getDecryptedKeyHex(e,t),C=new oe;return C.readPKCS5PrvKeyHex(A),C}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var P,F=i(n=h.getDecryptedKeyHex(e,t),0,[1],"04"),T=i(n,0,[2,0],"06"),O=i(n,0,[3,0],"03").substr(2);if(void 0===ue.crypto.OID.oidhex2name[T])throw"undefined OID(hex) in KJUR.crypto.OID: "+T;return(P=new s({curve:ue.crypto.OID.oidhex2name[T]})).setPublicKeyHex(O),P.setPrivateKeyHex(F),P.isPublic=!1,P}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED"))return w=i(n=h.getDecryptedKeyHex(e,t),0,[1],"02"),S=i(n,0,[2],"02"),_=i(n,0,[3],"02"),E=i(n,0,[4],"02"),x=i(n,0,[5],"02"),(F=new c).setPrivate(new k(w,16),new k(S,16),new k(_,16),new k(E,16),new k(x,16)),F;if(-1!=e.indexOf("-END ENCRYPTED PRIVATE KEY-"))return h.getKeyFromEncryptedPKCS8PEM(e,t);throw new Error("not supported argument")},He.generateKeypair=function(e,t){if("RSA"==e){var r=t;(a=new oe).generate(r,"10001"),a.isPrivate=!0,a.isPublic=!0;var n=new oe,o=a.n.toString(16),i=a.e.toString(16);return n.setPublic(o,i),n.isPrivate=!1,n.isPublic=!0,(s={}).prvKeyObj=a,s.pubKeyObj=n,s}if("EC"==e){var a,s,c=t,u=new ue.crypto.ECDSA({curve:c}).generateKeyPairHex();return(a=new ue.crypto.ECDSA({curve:c})).setPublicKeyHex(u.ecpubhex),a.setPrivateKeyHex(u.ecprvhex),a.isPrivate=!0,a.isPublic=!1,(n=new ue.crypto.ECDSA({curve:c})).setPublicKeyHex(u.ecpubhex),n.isPrivate=!1,n.isPublic=!0,(s={}).prvKeyObj=a,s.pubKeyObj=n,s}throw"unknown algorithm: "+e},He.getPEM=function(e,t,r,n,o,i){var a=ue,s=a.asn1,c=s.DERObjectIdentifier,u=s.DERInteger,l=s.ASN1Util.newObject,h=s.x509.SubjectPublicKeyInfo,p=a.crypto,f=p.DSA,d=p.ECDSA,g=oe;function m(e){return l({seq:[{int:0},{int:{bigint:e.n}},{int:e.e},{int:{bigint:e.d}},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.dmp1}},{int:{bigint:e.dmq1}},{int:{bigint:e.coeff}}]})}function y(e){return l({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a0",!0,{oid:{name:e.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]})}function b(e){return l({seq:[{int:0},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}},{int:{bigint:e.y}},{int:{bigint:e.x}}]})}if((void 0!==g&&e instanceof g||void 0!==f&&e instanceof f||void 0!==d&&e instanceof d)&&1==e.isPublic&&(void 0===t||"PKCS8PUB"==t))return Pe(k=new h(e).getEncodedHex(),"PUBLIC KEY");if("PKCS1PRV"==t&&void 0!==g&&e instanceof g&&(void 0===r||null==r)&&1==e.isPrivate)return Pe(k=m(e).getEncodedHex(),"RSA PRIVATE KEY");if("PKCS1PRV"==t&&void 0!==d&&e instanceof d&&(void 0===r||null==r)&&1==e.isPrivate){var w=new c({name:e.curveName}).getEncodedHex(),S=y(e).getEncodedHex(),_="";return(_+=Pe(w,"EC PARAMETERS"))+Pe(S,"EC PRIVATE KEY")}if("PKCS1PRV"==t&&void 0!==f&&e instanceof f&&(void 0===r||null==r)&&1==e.isPrivate)return Pe(k=b(e).getEncodedHex(),"DSA PRIVATE KEY");if("PKCS5PRV"==t&&void 0!==g&&e instanceof g&&void 0!==r&&null!=r&&1==e.isPrivate){var k=m(e).getEncodedHex();return void 0===n&&(n="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",k,r,n,i)}if("PKCS5PRV"==t&&void 0!==d&&e instanceof d&&void 0!==r&&null!=r&&1==e.isPrivate)return k=y(e).getEncodedHex(),void 0===n&&(n="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",k,r,n,i);if("PKCS5PRV"==t&&void 0!==f&&e instanceof f&&void 0!==r&&null!=r&&1==e.isPrivate)return k=b(e).getEncodedHex(),void 0===n&&(n="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",k,r,n,i);var E=function(e,t){var r=x(e,t);return new l({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:r.pbkdf2Salt}},{int:r.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:r.encryptionSchemeIV}}]}]}]},{octstr:{hex:r.ciphertext}}]}).getEncodedHex()},x=function(e,t){var r=v.lib.WordArray.random(8),n=v.lib.WordArray.random(8),o=v.PBKDF2(t,r,{keySize:6,iterations:100}),i=v.enc.Hex.parse(e),a=v.TripleDES.encrypt(i,o,{iv:n})+"",s={};return s.ciphertext=a,s.pbkdf2Salt=v.enc.Hex.stringify(r),s.pbkdf2Iter=100,s.encryptionSchemeAlg="DES-EDE3-CBC",s.encryptionSchemeIV=v.enc.Hex.stringify(n),s};if("PKCS8PRV"==t&&null!=g&&e instanceof g&&1==e.isPrivate){var A=m(e).getEncodedHex();return k=l({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:A}}]}).getEncodedHex(),void 0===r||null==r?Pe(k,"PRIVATE KEY"):Pe(S=E(k,r),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==t&&void 0!==d&&e instanceof d&&1==e.isPrivate)return A=new l({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]}).getEncodedHex(),k=l({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:e.curveName}}]},{octstr:{hex:A}}]}).getEncodedHex(),void 0===r||null==r?Pe(k,"PRIVATE KEY"):Pe(S=E(k,r),"ENCRYPTED PRIVATE KEY");if("PKCS8PRV"==t&&void 0!==f&&e instanceof f&&1==e.isPrivate)return A=new u({bigint:e.x}).getEncodedHex(),k=l({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]}]},{octstr:{hex:A}}]}).getEncodedHex(),void 0===r||null==r?Pe(k,"PRIVATE KEY"):Pe(S=E(k,r),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},He.getKeyFromCSRPEM=function(e){var t=Fe(e,"CERTIFICATE REQUEST");return He.getKeyFromCSRHex(t)},He.getKeyFromCSRHex=function(e){var t=He.parseCSRHex(e);return He.getKey(t.p8pubkeyhex,null,"pkcs8pub")},He.parseCSRHex=function(e){var t=pe,r=t.getChildIdx,n=t.getTLV,o={},i=e;if("30"!=i.substr(0,2))throw"malformed CSR(code:001)";var a=r(i,0);if(a.length<1)throw"malformed CSR(code:002)";if("30"!=i.substr(a[0],2))throw"malformed CSR(code:003)";var s=r(i,a[0]);if(s.length<3)throw"malformed CSR(code:004)";return o.p8pubkeyhex=n(i,s[2]),o},He.getKeyID=function(e){var t=He,r=pe;"string"==typeof e&&-1!=e.indexOf("BEGIN ")&&(e=t.getKey(e));var n=Fe(t.getPEM(e)),o=r.getIdxbyList(n,0,[1]),i=r.getV(n,o).substring(2);return ue.crypto.Util.hashHex(i,"sha1")},He.getJWKFromKey=function(e){var t={};if(e instanceof oe&&e.isPrivate)return t.kty="RSA",t.n=be(e.n.toString(16)),t.e=be(e.e.toString(16)),t.d=be(e.d.toString(16)),t.p=be(e.p.toString(16)),t.q=be(e.q.toString(16)),t.dp=be(e.dmp1.toString(16)),t.dq=be(e.dmq1.toString(16)),t.qi=be(e.coeff.toString(16)),t;if(e instanceof oe&&e.isPublic)return t.kty="RSA",t.n=be(e.n.toString(16)),t.e=be(e.e.toString(16)),t;if(e instanceof ue.crypto.ECDSA&&e.isPrivate){if("P-256"!==(n=e.getShortNISTPCurveName())&&"P-384"!==n)throw"unsupported curve name for JWT: "+n;var r=e.getPublicKeyXYHex();return t.kty="EC",t.crv=n,t.x=be(r.x),t.y=be(r.y),t.d=be(e.prvKeyHex),t}if(e instanceof ue.crypto.ECDSA&&e.isPublic){var n;if("P-256"!==(n=e.getShortNISTPCurveName())&&"P-384"!==n)throw"unsupported curve name for JWT: "+n;return r=e.getPublicKeyXYHex(),t.kty="EC",t.crv=n,t.x=be(r.x),t.y=be(r.y),t}throw"not supported key object"},oe.getPosArrayOfChildrenFromHex=function(e){return pe.getChildIdx(e,0)},oe.getHexValueArrayOfChildrenFromHex=function(e){var t,r=pe.getV,n=r(e,(t=oe.getPosArrayOfChildrenFromHex(e))[0]),o=r(e,t[1]),i=r(e,t[2]),a=r(e,t[3]),s=r(e,t[4]),c=r(e,t[5]),u=r(e,t[6]),l=r(e,t[7]),h=r(e,t[8]);return(t=new Array).push(n,o,i,a,s,c,u,l,h),t},oe.prototype.readPrivateKeyFromPEMString=function(e){var t=Fe(e),r=oe.getHexValueArrayOfChildrenFromHex(t);this.setPrivateEx(r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8])},oe.prototype.readPKCS5PrvKeyHex=function(e){var t=oe.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},oe.prototype.readPKCS8PrvKeyHex=function(e){var t,r,n,o,i,a,s,c,u=pe,l=u.getVbyListEx;if(!1===u.isASN1HEX(e))throw new Error("not ASN.1 hex string");try{t=l(e,0,[2,0,1],"02"),r=l(e,0,[2,0,2],"02"),n=l(e,0,[2,0,3],"02"),o=l(e,0,[2,0,4],"02"),i=l(e,0,[2,0,5],"02"),a=l(e,0,[2,0,6],"02"),s=l(e,0,[2,0,7],"02"),c=l(e,0,[2,0,8],"02")}catch(e){throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(t,r,n,o,i,a,s,c)},oe.prototype.readPKCS5PubKeyHex=function(e){var t=pe,r=t.getV;if(!1===t.isASN1HEX(e))throw new Error("keyHex is not ASN.1 hex string");var n=t.getChildIdx(e,0);if(2!==n.length||"02"!==e.substr(n[0],2)||"02"!==e.substr(n[1],2))throw new Error("wrong hex for PKCS#5 public key");var o=r(e,n[0]),i=r(e,n[1]);this.setPublic(o,i)},oe.prototype.readPKCS8PubKeyHex=function(e){var t=pe;if(!1===t.isASN1HEX(e))throw new Error("not ASN.1 hex string");if("06092a864886f70d010101"!==t.getTLVbyListEx(e,0,[0,0]))throw new Error("not PKCS8 RSA public key");var r=t.getTLVbyListEx(e,0,[1,0]);this.readPKCS5PubKeyHex(r)},oe.prototype.readCertPubKeyHex=function(e,t){var r,n;(r=new ze).readCertHex(e),n=r.getPublicKeyHex(),this.readPKCS8PubKeyHex(n)};var Ke=new RegExp("[^0-9a-f]","gi");function Ve(e,t){for(var r="",n=t/4-e.length,o=0;o<n;o++)r+="0";return r+e}function We(e,t,r){for(var n="",o=0;n.length<t;)n+=ke(r(Ee(e+String.fromCharCode.apply(String,[(4278190080&o)>>24,(16711680&o)>>16,(65280&o)>>8,255&o])))),o+=1;return n}function qe(e){for(var t in ue.crypto.Util.DIGESTINFOHEAD){var r=ue.crypto.Util.DIGESTINFOHEAD[t],n=r.length;if(e.substring(0,n)==r)return[t,e.substring(n)]}return[]}function ze(e){var t,r=pe,n=r.getChildIdx,o=r.getV,i=r.getTLV,a=r.getVbyList,s=r.getVbyListEx,c=r.getTLVbyList,u=r.getTLVbyListEx,l=r.getIdxbyList,h=r.getIdxbyListEx,p=r.getVidx,f=r.oidname,d=r.hextooidstr,g=ze,m=Fe;try{t=ue.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch(e){}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){return null===this.hex||0!==this.version?this.version:"a003020102"!==c(this.hex,0,[0,0])?(this.version=1,this.foffset=-1,1):(this.version=3,3)},this.getSerialNumberHex=function(){return s(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var e=u(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(e)},this.getAlgorithmIdentifierName=function(e){for(var r in t)if(e===t[r])return r;return f(s(e,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return c(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return g.hex2dn(this.getIssuerHex())},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return c(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return g.hex2dn(this.getSubjectHex())},this.getNotBefore=function(){var e=a(this.hex,0,[0,4+this.foffset,0]);return e=e.replace(/(..)/g,"%$1"),decodeURIComponent(e)},this.getNotAfter=function(){var e=a(this.hex,0,[0,4+this.foffset,1]);return e=e.replace(/(..)/g,"%$1"),decodeURIComponent(e)},this.getPublicKeyHex=function(){return r.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return l(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var e=this.getPublicKeyIdx();return l(this.hex,e,[1,0],"30")},this.getPublicKey=function(){return He.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var e=c(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(e)},this.getSignatureValueHex=function(){return a(this.hex,0,[2],"03",!0)},this.verifySignature=function(e){var t=this.getSignatureAlgorithmField(),r=this.getSignatureValueHex(),n=c(this.hex,0,[0],"30"),o=new ue.crypto.Signature({alg:t});return o.init(e),o.updateHex(n),o.verify(r)},this.parseExt=function(e){var t,i,s;if(void 0===e){if(s=this.hex,3!==this.version)return-1;t=l(s,0,[0,7,0],"30"),i=n(s,t)}else{s=Fe(e);var c=l(s,0,[0,3,0,0],"06");if("2a864886f70d01090e"!=o(s,c))return void(this.aExtInfo=new Array);t=l(s,0,[0,3,0,1,0],"30"),i=n(s,t),this.hex=s}this.aExtInfo=new Array;for(var u=0;u<i.length;u++){var h={critical:!1},f=0;3===n(s,i[u]).length&&(h.critical=!0,f=1),h.oid=r.hextooidstr(a(s,i[u],[0],"06"));var d=l(s,i[u],[1+f]);h.vidx=p(s,d),this.aExtInfo.push(h)}},this.getExtInfo=function(e){var t=this.aExtInfo,r=e;if(e.match(/^[0-9.]+$/)||(r=ue.asn1.x509.OID.name2oid(e)),""!==r)for(var n=0;n<t.length;n++)if(t[n].oid===r)return t[n]},this.getExtBasicConstraints=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("basicConstraints");if(void 0===r)return;e=i(this.hex,r.vidx),t=r.critical}var n={extname:"basicConstraints"};if(t&&(n.critical=!0),"3000"===e)return n;if("30030101ff"===e)return n.cA=!0,n;if("30060101ff02"===e.substr(0,12)){var a=o(e,10),s=parseInt(a,16);return n.cA=!0,n.pathLen=s,n}throw new Error("hExtV parse error: "+e)},this.getExtKeyUsage=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("keyUsage");if(void 0===r)return;e=i(this.hex,r.vidx),t=r.critical}var n={extname:"keyUsage"};return t&&(n.critical=!0),n.names=this.getExtKeyUsageString(e).split(","),n},this.getExtKeyUsageBin=function(e){if(void 0===e){var t=this.getExtInfo("keyUsage");if(void 0===t)return"";e=i(this.hex,t.vidx)}if(8!=e.length&&10!=e.length)throw new Error("malformed key usage value: "+e);var r="000000000000000"+parseInt(e.substr(6),16).toString(2);return 8==e.length&&(r=r.slice(-8)),10==e.length&&(r=r.slice(-16)),""==(r=r.replace(/0+$/,""))&&(r="0"),r},this.getExtKeyUsageString=function(e){for(var t=this.getExtKeyUsageBin(e),r=new Array,n=0;n<t.length;n++)"1"==t.substr(n,1)&&r.push(ze.KEYUSAGE_NAME[n]);return r.join(",")},this.getExtSubjectKeyIdentifier=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("subjectKeyIdentifier");if(void 0===r)return;e=i(this.hex,r.vidx),t=r.critical}var n={extname:"subjectKeyIdentifier"};t&&(n.critical=!0);var a=o(e,0);return n.kid={hex:a},n},this.getExtAuthorityKeyIdentifier=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("authorityKeyIdentifier");if(void 0===r)return;e=i(this.hex,r.vidx),t=r.critical}var a={extname:"authorityKeyIdentifier"};t&&(a.critical=!0);for(var s=n(e,0),c=0;c<s.length;c++){var u=e.substr(s[c],2);if("80"===u&&(a.kid={hex:o(e,s[c])}),"a1"===u){var l=i(e,s[c]),h=this.getGeneralNames(l);a.issuer=h[0].dn}"82"===u&&(a.sn={hex:o(e,s[c])})}return a},this.getExtExtKeyUsage=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("extKeyUsage");if(void 0===r)return;e=i(this.hex,r.vidx),t=r.critical}var a={extname:"extKeyUsage",array:[]};t&&(a.critical=!0);for(var s=n(e,0),c=0;c<s.length;c++)a.array.push(f(o(e,s[c])));return a},this.getExtExtKeyUsageName=function(){var e=this.getExtInfo("extKeyUsage");if(void 0===e)return e;var t=new Array,r=i(this.hex,e.vidx);if(""===r)return t;for(var a=n(r,0),s=0;s<a.length;s++)t.push(f(o(r,a[s])));return t},this.getExtSubjectAltName=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("subjectAltName");if(void 0===r)return;e=i(this.hex,r.vidx),t=r.critical}var n={extname:"subjectAltName",array:[]};return t&&(n.critical=!0),n.array=this.getGeneralNames(e),n},this.getExtIssuerAltName=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("issuerAltName");if(void 0===r)return;e=i(this.hex,r.vidx),t=r.critical}var n={extname:"issuerAltName",array:[]};return t&&(n.critical=!0),n.array=this.getGeneralNames(e),n},this.getGeneralNames=function(e){for(var t=n(e,0),r=[],o=0;o<t.length;o++){var a=this.getGeneralName(i(e,t[o]));void 0!==a&&r.push(a)}return r},this.getGeneralName=function(e){var t=e.substr(0,2),r=o(e,0),n=ke(r);return"81"==t?{rfc822:n}:"82"==t?{dns:n}:"86"==t?{uri:n}:"87"==t?{ip:Ue(r)}:"a4"==t?{dn:this.getX500Name(r)}:void 0},this.getExtSubjectAltName2=function(){var e,t,r,a=this.getExtInfo("subjectAltName");if(void 0===a)return a;for(var s=new Array,c=i(this.hex,a.vidx),u=n(c,0),l=0;l<u.length;l++)r=c.substr(u[l],2),e=o(c,u[l]),"81"===r&&(t=_e(e),s.push(["MAIL",t])),"82"===r&&(t=_e(e),s.push(["DNS",t])),"84"===r&&(t=ze.hex2dn(e,0),s.push(["DN",t])),"86"===r&&(t=_e(e),s.push(["URI",t])),"87"===r&&(t=Ue(e),s.push(["IP",t]));return s},this.getExtCRLDistributionPoints=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("cRLDistributionPoints");if(void 0===r)return;e=i(this.hex,r.vidx),t=r.critical}var o={extname:"cRLDistributionPoints",array:[]};t&&(o.critical=!0);for(var a=n(e,0),s=0;s<a.length;s++){var c=i(e,a[s]);o.array.push(this.getDistributionPoint(c))}return o},this.getDistributionPoint=function(e){for(var t={},r=n(e,0),o=0;o<r.length;o++){var a=e.substr(r[o],2),s=i(e,r[o]);"a0"==a&&(t.dpname=this.getDistributionPointName(s))}return t},this.getDistributionPointName=function(e){for(var t={},r=n(e,0),o=0;o<r.length;o++){var a=e.substr(r[o],2),s=i(e,r[o]);"a0"==a&&(t.full=this.getGeneralNames(s))}return t},this.getExtCRLDistributionPointsURI=function(){var e=this.getExtInfo("cRLDistributionPoints");if(void 0===e)return e;for(var t=new Array,r=n(this.hex,e.vidx),o=0;o<r.length;o++)try{var i=_e(a(this.hex,r[o],[0,0,0],"86"));t.push(i)}catch(e){}return t},this.getExtAIAInfo=function(){var e=this.getExtInfo("authorityInfoAccess");if(void 0===e)return e;for(var t={ocsp:[],caissuer:[]},r=n(this.hex,e.vidx),o=0;o<r.length;o++){var i=a(this.hex,r[o],[0],"06"),s=a(this.hex,r[o],[1],"86");"2b06010505073001"===i&&t.ocsp.push(_e(s)),"2b06010505073002"===i&&t.caissuer.push(_e(s))}return t},this.getExtAuthorityInfoAccess=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("authorityInfoAccess");if(void 0===r)return;e=i(this.hex,r.vidx),t=r.critical}var o={extname:"authorityInfoAccess",array:[]};t&&(o.critical=!0);for(var c=n(e,0),u=0;u<c.length;u++){var l=s(e,c[u],[0],"06"),h=_e(a(e,c[u],[1],"86"));if("2b06010505073001"==l)o.array.push({ocsp:h});else{if("2b06010505073002"!=l)throw new Error("unknown method: "+l);o.array.push({caissuer:h})}}return o},this.getExtCertificatePolicies=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("certificatePolicies");if(void 0===r)return;e=i(this.hex,r.vidx),t=r.critical}var o={extname:"certificatePolicies",array:[]};t&&(o.critical=!0);for(var a=n(e,0),s=0;s<a.length;s++){var c=i(e,a[s]),u=this.getPolicyInformation(c);o.array.push(u)}return o},this.getPolicyInformation=function(e){var t={},r=a(e,0,[0],"06");t.policyoid=f(r);var o=h(e,0,[1],"30");if(-1!=o){t.array=[];for(var s=n(e,o),c=0;c<s.length;c++){var u=i(e,s[c]),l=this.getPolicyQualifierInfo(u);t.array.push(l)}}return t},this.getPolicyQualifierInfo=function(e){var t={},r=a(e,0,[0],"06");if("2b06010505070201"===r){var n=s(e,0,[1],"16");t.cps=ke(n)}else if("2b06010505070202"===r){var o=c(e,0,[1],"30");t.unotice=this.getUserNotice(o)}return t},this.getUserNotice=function(e){for(var t={},r=n(e,0),o=0;o<r.length;o++){var a=i(e,r[o]);"30"!=a.substr(0,2)&&(t.exptext=this.getDisplayText(a))}return t},this.getDisplayText=function(e){var t={};return t.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[e.substr(0,2)],t.str=ke(o(e,0)),t},this.getExtCRLNumber=function(e,t){var r={extname:"cRLNumber"};if(t&&(r.critical=!0),"02"==e.substr(0,2))return r.num={hex:o(e,0)},r;throw new Error("hExtV parse error: "+e)},this.getExtCRLReason=function(e,t){var r={extname:"cRLReason"};if(t&&(r.critical=!0),"0a"==e.substr(0,2))return r.code=parseInt(o(e,0),16),r;throw new Error("hExtV parse error: "+e)},this.getExtOcspNonce=function(e,t){var r={extname:"ocspNonce"};t&&(r.critical=!0);var n=o(e,0);return r.hex=n,r},this.getExtOcspNoCheck=function(e,t){var r={extname:"ocspNoCheck"};return t&&(r.critical=!0),r},this.getExtAdobeTimeStamp=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("adobeTimeStamp");if(void 0===r)return;e=i(this.hex,r.vidx),t=r.critical}var o={extname:"adobeTimeStamp"};t&&(o.critical=!0);var a=n(e,0);if(a.length>1){var s=i(e,a[1]),c=this.getGeneralName(s);null!=c.uri&&(o.uri=c.uri)}if(a.length>2){var u=i(e,a[2]);"0101ff"==u&&(o.reqauth=!0),"010100"==u&&(o.reqauth=!1)}return o},this.getX500NameRule=function(e){for(var t=null,r=[],n=0;n<e.length;n++)for(var o=e[n],i=0;i<o.length;i++)r.push(o[i]);for(n=0;n<r.length;n++){var a=r[n],s=a.ds,c=a.value,u=a.type;if("prn"!=s&&"utf8"!=s&&"ia5"!=s)return"mixed";if("ia5"==s){if("CN"!=u)return"mixed";if(ue.lang.String.isMail(c))continue;return"mixed"}if("C"==u){if("prn"==s)continue;return"mixed"}if(null==t)t=s;else if(t!==s)return"mixed"}return null==t?"prn":t},this.getX500Name=function(e){var t=this.getX500NameArray(e);return{array:t,str:this.dnarraytostr(t)}},this.getX500NameArray=function(e){for(var t=[],r=n(e,0),o=0;o<r.length;o++)t.push(this.getRDN(i(e,r[o])));return t},this.getRDN=function(e){for(var t=[],r=n(e,0),o=0;o<r.length;o++)t.push(this.getAttrTypeAndValue(i(e,r[o])));return t},this.getAttrTypeAndValue=function(e){var t={type:null,value:null,ds:null},r=n(e,0),o=a(e,r[0],[],"06"),i=a(e,r[1],[]),s=ue.asn1.ASN1Util.oidHexToInt(o);return t.type=ue.asn1.x509.OID.oid2atype(s),t.value=ke(i),t.ds=this.HEX2STAG[e.substr(r[1],2)],t},this.readCertPEM=function(e){this.readCertHex(m(e))},this.readCertHex=function(e){this.hex=e,this.getVersion();try{l(this.hex,0,[0,7],"a3"),this.parseExt()}catch(e){}},this.getParam=function(){var e={};return e.version=this.getVersion(),e.serial={hex:this.getSerialNumberHex()},e.sigalg=this.getSignatureAlgorithmField(),e.issuer=this.getIssuer(),e.notbefore=this.getNotBefore(),e.notafter=this.getNotAfter(),e.subject=this.getSubject(),e.sbjpubkey=Pe(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo.length>0&&(e.ext=this.getExtParamArray()),e.sighex=this.getSignatureValueHex(),e},this.getExtParamArray=function(e){null==e&&-1!=h(this.hex,0,[0,"[3]"])&&(e=u(this.hex,0,[0,"[3]",0],"30"));for(var t=[],r=n(e,0),o=0;o<r.length;o++){var a=i(e,r[o]),s=this.getExtParam(a);null!=s&&t.push(s)}return t},this.getExtParam=function(e){var t=n(e,0).length;if(2!=t&&3!=t)throw new Error("wrong number elements in Extension: "+t+" "+e);var r=d(a(e,0,[0],"06")),o=!1;3==t&&"0101ff"==c(e,0,[1])&&(o=!0);var i=c(e,0,[t-1,0]),s=void 0;if("2.5.29.14"==r?s=this.getExtSubjectKeyIdentifier(i,o):"2.5.29.15"==r?s=this.getExtKeyUsage(i,o):"2.5.29.17"==r?s=this.getExtSubjectAltName(i,o):"2.5.29.18"==r?s=this.getExtIssuerAltName(i,o):"2.5.29.19"==r?s=this.getExtBasicConstraints(i,o):"2.5.29.31"==r?s=this.getExtCRLDistributionPoints(i,o):"2.5.29.32"==r?s=this.getExtCertificatePolicies(i,o):"2.5.29.35"==r?s=this.getExtAuthorityKeyIdentifier(i,o):"2.5.29.37"==r?s=this.getExtExtKeyUsage(i,o):"1.3.6.1.5.5.7.1.1"==r?s=this.getExtAuthorityInfoAccess(i,o):"2.5.29.20"==r?s=this.getExtCRLNumber(i,o):"2.5.29.21"==r?s=this.getExtCRLReason(i,o):"1.3.6.1.5.5.7.48.1.2"==r?s=this.getExtOcspNonce(i,o):"1.3.6.1.5.5.7.48.1.5"==r?s=this.getExtOcspNoCheck(i,o):"1.2.840.113583.1.1.9.1"==r&&(s=this.getExtAdobeTimeStamp(i,o)),null!=s)return s;var u={extname:r,extn:i};return o&&(u.critical=!0),u},this.findExt=function(e,t){for(var r=0;r<e.length;r++)if(e[r].extname==t)return e[r];return null},this.updateExtCDPFullURI=function(e,t){var r=this.findExt(e,"cRLDistributionPoints");if(null!=r&&null!=r.array)for(var n=r.array,o=0;o<n.length;o++)if(null!=n[o].dpname&&null!=n[o].dpname.full)for(var i=n[o].dpname.full,a=0;a<i.length;a++){var s=i[o];null!=s.uri&&(s.uri=t)}},this.updateExtAIAOCSP=function(e,t){var r=this.findExt(e,"authorityInfoAccess");if(null!=r&&null!=r.array)for(var n=r.array,o=0;o<n.length;o++)null!=n[o].ocsp&&(n[o].ocsp=t)},this.updateExtAIACAIssuer=function(e,t){var r=this.findExt(e,"authorityInfoAccess");if(null!=r&&null!=r.array)for(var n=r.array,o=0;o<n.length;o++)null!=n[o].caissuer&&(n[o].caissuer=t)},this.dnarraytostr=function(e){return"/"+e.map((function(e){return function(e){return e.map((function(e){return function(e){return e.type+"="+e.value}(e)})).join("+")}(e)})).join("/")},this.getInfo=function(){var e,t,r,n=function(e){return JSON.stringify(e.array).replace(/[\[\]\{\}\"]/g,"")},o=function(e){for(var t="",r=e.array,n=0;n<r.length;n++){var o=r[n];if(t+="    policy oid: "+o.policyoid+"\n",void 0!==o.array)for(var i=0;i<o.array.length;i++){var a=o.array[i];void 0!==a.cps&&(t+="    cps: "+a.cps+"\n")}}return t},i=function(t){for(var r="",n=t.array,o=0;o<n.length;o++){var i=n[o];try{void 0!==i.dpname.full[0].uri&&(r+="    "+i.dpname.full[0].uri+"\n")}catch(e){}try{void 0!==i.dname.full[0].dn.hex&&(r+="    "+ze.hex2dn(i.dpname.full[0].dn.hex)+"\n")}catch(e){}}return r},a=function(e){for(var t="",r=e.array,n=0;n<r.length;n++){var o=r[n];void 0!==o.caissuer&&(t+="    caissuer: "+o.caissuer+"\n"),void 0!==o.ocsp&&(t+="    ocsp: "+o.ocsp+"\n")}return t};if(e="Basic Fields\n",e+="  serial number: "+this.getSerialNumberHex()+"\n",e+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",e+="  issuer: "+this.getIssuerString()+"\n",e+="  notBefore: "+this.getNotBefore()+"\n",e+="  notAfter: "+this.getNotAfter()+"\n",e+="  subject: "+this.getSubjectString()+"\n",e+="  subject public key info: \n",e+="    key algorithm: "+(t=this.getPublicKey()).type+"\n","RSA"===t.type&&(e+="    n="+Me(t.n.toString(16)).substr(0,16)+"...\n",e+="    e="+Me(t.e.toString(16))+"\n"),null!=(r=this.aExtInfo)){e+="X509v3 Extensions:\n";for(var s=0;s<r.length;s++){var c=r[s],u=ue.asn1.x509.OID.oid2name(c.oid);""===u&&(u=c.oid);var l="";if(!0===c.critical&&(l="CRITICAL"),e+="  "+u+" "+l+":\n","basicConstraints"===u){var h=this.getExtBasicConstraints();void 0===h.cA?e+="    {}\n":(e+="    cA=true",void 0!==h.pathLen&&(e+=", pathLen="+h.pathLen),e+="\n")}else if("keyUsage"===u)e+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"===u)e+="    "+this.getExtSubjectKeyIdentifier().kid.hex+"\n";else if("authorityKeyIdentifier"===u){var p=this.getExtAuthorityKeyIdentifier();void 0!==p.kid&&(e+="    kid="+p.kid.hex+"\n")}else"extKeyUsage"===u?e+="    "+this.getExtExtKeyUsage().array.join(", ")+"\n":"subjectAltName"===u?e+="    "+n(this.getExtSubjectAltName())+"\n":"cRLDistributionPoints"===u?e+=i(this.getExtCRLDistributionPoints()):"authorityInfoAccess"===u?e+=a(this.getExtAuthorityInfoAccess()):"certificatePolicies"===u&&(e+=o(this.getExtCertificatePolicies()))}}return(e+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n")+"signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"},"string"==typeof e&&(-1!=e.indexOf("-----BEGIN")?this.readCertPEM(e):ue.lang.String.isHex(e)&&this.readCertHex(e))}oe.prototype.sign=function(e,t){var r=function(e){return ue.crypto.Util.hashString(e,t)}(e);return this.signWithMessageHash(r,t)},oe.prototype.signWithMessageHash=function(e,t){var r=re(ue.crypto.Util.getPaddedDigestInfoHex(e,t,this.n.bitLength()),16);return Ve(this.doPrivate(r).toString(16),this.n.bitLength())},oe.prototype.signPSS=function(e,t,r){var n=function(e){return ue.crypto.Util.hashHex(e,t)}(Ee(e));return void 0===r&&(r=-1),this.signWithMessageHashPSS(n,t,r)},oe.prototype.signWithMessageHashPSS=function(e,t,r){var n,o=ke(e),i=o.length,a=this.n.bitLength()-1,s=Math.ceil(a/8),c=function(e){return ue.crypto.Util.hashHex(e,t)};if(-1===r||void 0===r)r=i;else if(-2===r)r=s-i-2;else if(r<-2)throw new Error("invalid salt length");if(s<i+r+2)throw new Error("data too long");var u="";r>0&&(u=new Array(r),(new te).nextBytes(u),u=String.fromCharCode.apply(String,u));var l=ke(c(Ee("\0\0\0\0\0\0\0\0"+o+u))),h=[];for(n=0;n<s-r-i-2;n+=1)h[n]=0;var p=String.fromCharCode.apply(String,h)+"\x01"+u,f=We(l,p.length,c),d=[];for(n=0;n<p.length;n+=1)d[n]=p.charCodeAt(n)^f.charCodeAt(n);var g=65280>>8*s-a&255;for(d[0]&=~g,n=0;n<i;n++)d.push(l.charCodeAt(n));return d.push(188),Ve(this.doPrivate(new k(d)).toString(16),this.n.bitLength())},oe.prototype.verify=function(e,t){var r=re(t=(t=t.replace(Ke,"")).replace(/[ \n]+/g,""),16);if(r.bitLength()>this.n.bitLength())return 0;var n=qe(this.doPublic(r).toString(16).replace(/^1f+00/,""));if(0==n.length)return!1;var o=n[0];return n[1]==function(e){return ue.crypto.Util.hashString(e,o)}(e)},oe.prototype.verifyWithMessageHash=function(e,t){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var r=re(t,16);if(r.bitLength()>this.n.bitLength())return 0;var n=qe(this.doPublic(r).toString(16).replace(/^1f+00/,""));return 0!=n.length&&(n[0],n[1]==e)},oe.prototype.verifyPSS=function(e,t,r,n){var o=function(e){return ue.crypto.Util.hashHex(e,r)}(Ee(e));return void 0===n&&(n=-1),this.verifyWithMessageHashPSS(o,t,r,n)},oe.prototype.verifyWithMessageHashPSS=function(e,t,r,n){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var o,i=new k(t,16),a=function(e){return ue.crypto.Util.hashHex(e,r)},s=ke(e),c=s.length,u=this.n.bitLength()-1,l=Math.ceil(u/8);if(-1===n||void 0===n)n=c;else if(-2===n)n=l-c-2;else if(n<-2)throw new Error("invalid salt length");if(l<c+n+2)throw new Error("data too long");var h=this.doPublic(i).toByteArray();for(o=0;o<h.length;o+=1)h[o]&=255;for(;h.length<l;)h.unshift(0);if(188!==h[l-1])throw new Error("encoded message does not end in 0xbc");var p=(h=String.fromCharCode.apply(String,h)).substr(0,l-c-1),f=h.substr(p.length,c),d=65280>>8*l-u&255;if(0!=(p.charCodeAt(0)&d))throw new Error("bits beyond keysize not zero");var g=We(f,p.length,a),m=[];for(o=0;o<p.length;o+=1)m[o]=p.charCodeAt(o)^g.charCodeAt(o);m[0]&=~d;var v=l-c-n-2;for(o=0;o<v;o+=1)if(0!==m[o])throw new Error("leftmost octets not zero");if(1!==m[v])throw new Error("0x01 marker not found");return f===ke(a(Ee("\0\0\0\0\0\0\0\0"+s+String.fromCharCode.apply(String,m.slice(-n)))))},oe.SALT_LEN_HLEN=-1,oe.SALT_LEN_MAX=-2,oe.SALT_LEN_RECOVER=-2,ze.hex2dn=function(e,t){if(void 0===t&&(t=0),"30"!==e.substr(t,2))throw new Error("malformed DN");for(var r=new Array,n=pe.getChildIdx(e,t),o=0;o<n.length;o++)r.push(ze.hex2rdn(e,n[o]));return"/"+(r=r.map((function(e){return e.replace("/","\\/")}))).join("/")},ze.hex2rdn=function(e,t){if(void 0===t&&(t=0),"31"!==e.substr(t,2))throw new Error("malformed RDN");for(var r=new Array,n=pe.getChildIdx(e,t),o=0;o<n.length;o++)r.push(ze.hex2attrTypeValue(e,n[o]));return(r=r.map((function(e){return e.replace("+","\\+")}))).join("+")},ze.hex2attrTypeValue=function(e,t){var r=pe,n=r.getV;if(void 0===t&&(t=0),"30"!==e.substr(t,2))throw new Error("malformed attribute type and value");var o=r.getChildIdx(e,t);2!==o.length||e.substr(o[0],2);var i=n(e,o[0]),a=ue.asn1.ASN1Util.oidHexToInt(i);return ue.asn1.x509.OID.oid2atype(a)+"="+ke(n(e,o[1]))},ze.getPublicKeyFromCertHex=function(e){var t=new ze;return t.readCertHex(e),t.getPublicKey()},ze.getPublicKeyFromCertPEM=function(e){var t=new ze;return t.readCertPEM(e),t.getPublicKey()},ze.getPublicKeyInfoPropOfCertPEM=function(e){var t,r,n=pe.getVbyList,o={algparam:null};return(t=new ze).readCertPEM(e),r=t.getPublicKeyHex(),o.keyhex=n(r,0,[1],"03").substr(2),o.algoid=n(r,0,[0,0],"06"),"2a8648ce3d0201"===o.algoid&&(o.algparam=n(r,0,[0,1],"06")),o},ze.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],void 0!==ue&&ue||(t.KJUR=ue={}),void 0!==ue.jws&&ue.jws||(ue.jws={}),ue.jws.JWS=function(){var e=ue.jws.JWS.isSafeJSONString;this.parseJWS=function(t,r){if(void 0===this.parsedJWS||!r&&void 0===this.parsedJWS.sigvalH){var n=t.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==n)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var o=n[1],i=n[2],a=n[3],s=o+"."+i;if(this.parsedJWS={},this.parsedJWS.headB64U=o,this.parsedJWS.payloadB64U=i,this.parsedJWS.sigvalB64U=a,this.parsedJWS.si=s,!r){var c=we(a),u=re(c,16);this.parsedJWS.sigvalH=c,this.parsedJWS.sigvalBI=u}var l=he(o),h=he(i);if(this.parsedJWS.headS=l,this.parsedJWS.payloadS=h,!e(l,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+l}}},ue.jws.JWS.sign=function(e,t,n,o,i){var a,s,c,u=ue,l=u.jws.JWS,h=l.readSafeJSONString,p=l.isSafeJSONString,f=u.crypto,d=(f.ECDSA,f.Mac),g=f.Signature,m=JSON;if("string"!=typeof t&&"object"!=(void 0===t?"undefined":r(t)))throw"spHeader must be JSON string or object: "+t;if("object"==(void 0===t?"undefined":r(t))&&(s=t,a=m.stringify(s)),"string"==typeof t){if(!p(a=t))throw"JWS Head is not safe JSON string: "+a;s=h(a)}if(c=n,"object"==(void 0===n?"undefined":r(n))&&(c=m.stringify(n)),""!=e&&null!=e||void 0===s.alg||(e=s.alg),""!=e&&null!=e&&void 0===s.alg&&(s.alg=e,a=m.stringify(s)),e!==s.alg)throw"alg and sHeader.alg doesn't match: "+e+"!="+s.alg;var v=null;if(void 0===l.jwsalg2sigalg[e])throw"unsupported alg name: "+e;v=l.jwsalg2sigalg[e];var y=le(a)+"."+le(c),b="";if("Hmac"==v.substr(0,4)){if(void 0===o)throw"mac key shall be specified for HS* alg";var w=new d({alg:v,prov:"cryptojs",pass:o});w.updateString(y),b=w.doFinal()}else if(-1!=v.indexOf("withECDSA")){(_=new g({alg:v})).init(o,i),_.updateString(y);var S=_.sign();b=ue.crypto.ECDSA.asn1SigToConcatSig(S)}else{var _;"none"!=v&&((_=new g({alg:v})).init(o,i),_.updateString(y),b=_.sign())}return y+"."+be(b)},ue.jws.JWS.verify=function(e,t,n){var o,i=ue,a=i.jws.JWS,s=a.readSafeJSONString,c=i.crypto,u=c.ECDSA,l=c.Mac,h=c.Signature;void 0!==r(oe)&&(o=oe);var p=e.split(".");if(3!==p.length)return!1;var f,d=p[0]+"."+p[1],g=we(p[2]),m=s(he(p[0])),v=null;if(void 0===m.alg)throw"algorithm not specified in header";if(f=(v=m.alg).substr(0,2),null!=n&&"[object Array]"===Object.prototype.toString.call(n)&&n.length>0&&-1==(":"+n.join(":")+":").indexOf(":"+v+":"))throw"algorithm '"+v+"' not accepted in the list";if("none"!=v&&null===t)throw"key shall be specified to verify.";if("string"==typeof t&&-1!=t.indexOf("-----BEGIN ")&&(t=He.getKey(t)),!("RS"!=f&&"PS"!=f||t instanceof o))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==f&&!(t instanceof u))throw"key shall be a ECDSA obj for ES* algs";var y=null;if(void 0===a.jwsalg2sigalg[m.alg])throw"unsupported alg name: "+v;if("none"==(y=a.jwsalg2sigalg[v]))throw"not supported";if("Hmac"==y.substr(0,4)){if(void 0===t)throw"hexadecimal key shall be specified for HMAC";var b=new l({alg:y,pass:t});return b.updateString(d),g==b.doFinal()}if(-1!=y.indexOf("withECDSA")){var w,S=null;try{S=u.concatSigToASN1Sig(g)}catch(e){return!1}return(w=new h({alg:y})).init(t),w.updateString(d),w.verify(S)}return(w=new h({alg:y})).init(t),w.updateString(d),w.verify(g)},ue.jws.JWS.parse=function(e){var t,r,n,o=e.split("."),i={};if(2!=o.length&&3!=o.length)throw"malformed sJWS: wrong number of '.' splitted elements";return t=o[0],r=o[1],3==o.length&&(n=o[2]),i.headerObj=ue.jws.JWS.readSafeJSONString(he(t)),i.payloadObj=ue.jws.JWS.readSafeJSONString(he(r)),i.headerPP=JSON.stringify(i.headerObj,null,"  "),null==i.payloadObj?i.payloadPP=he(r):i.payloadPP=JSON.stringify(i.payloadObj,null,"  "),void 0!==n&&(i.sigHex=we(n)),i},ue.jws.JWS.verifyJWT=function(e,t,n){var o=ue.jws,i=o.JWS,a=i.readSafeJSONString,s=i.inArray,c=i.includedArray,u=e.split("."),l=u[0],h=u[1],p=(we(u[2]),a(he(l))),f=a(he(h));if(void 0===p.alg)return!1;if(void 0===n.alg)throw"acceptField.alg shall be specified";if(!s(p.alg,n.alg))return!1;if(void 0!==f.iss&&"object"===r(n.iss)&&!s(f.iss,n.iss))return!1;if(void 0!==f.sub&&"object"===r(n.sub)&&!s(f.sub,n.sub))return!1;if(void 0!==f.aud&&"object"===r(n.aud))if("string"==typeof f.aud){if(!s(f.aud,n.aud))return!1}else if("object"==r(f.aud)&&!c(f.aud,n.aud))return!1;var d=o.IntDate.getNow();return void 0!==n.verifyAt&&"number"==typeof n.verifyAt&&(d=n.verifyAt),void 0!==n.gracePeriod&&"number"==typeof n.gracePeriod||(n.gracePeriod=0),!(void 0!==f.exp&&"number"==typeof f.exp&&f.exp+n.gracePeriod<d)&&!(void 0!==f.nbf&&"number"==typeof f.nbf&&d<f.nbf-n.gracePeriod)&&!(void 0!==f.iat&&"number"==typeof f.iat&&d<f.iat-n.gracePeriod)&&(void 0===f.jti||void 0===n.jti||f.jti===n.jti)&&!!i.verify(e,t,n.alg)},ue.jws.JWS.includedArray=function(e,t){var n=ue.jws.JWS.inArray;if(null===e)return!1;if("object"!==(void 0===e?"undefined":r(e)))return!1;if("number"!=typeof e.length)return!1;for(var o=0;o<e.length;o++)if(!n(e[o],t))return!1;return!0},ue.jws.JWS.inArray=function(e,t){if(null===t)return!1;if("object"!==(void 0===t?"undefined":r(t)))return!1;if("number"!=typeof t.length)return!1;for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1},ue.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},ue.jws.JWS.isSafeJSONString=function(e,t,n){var o=null;try{return"object"!=(void 0===(o=ce(e))?"undefined":r(o))||o.constructor===Array?0:(t&&(t[n]=o),1)}catch(e){return 0}},ue.jws.JWS.readSafeJSONString=function(e){var t=null;try{return"object"!=(void 0===(t=ce(e))?"undefined":r(t))||t.constructor===Array?null:t}catch(e){return null}},ue.jws.JWS.getEncodedSignatureValueFromJWS=function(e){var t=e.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==t)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return t[1]},ue.jws.JWS.getJWKthumbprint=function(e){if("RSA"!==e.kty&&"EC"!==e.kty&&"oct"!==e.kty)throw"unsupported algorithm for JWK Thumprint";var t="{";if("RSA"===e.kty){if("string"!=typeof e.n||"string"!=typeof e.e)throw"wrong n and e value for RSA key";t+='"e":"'+e.e+'",',t+='"kty":"'+e.kty+'",',t+='"n":"'+e.n+'"}'}else if("EC"===e.kty){if("string"!=typeof e.crv||"string"!=typeof e.x||"string"!=typeof e.y)throw"wrong crv, x and y value for EC key";t+='"crv":"'+e.crv+'",',t+='"kty":"'+e.kty+'",',t+='"x":"'+e.x+'",',t+='"y":"'+e.y+'"}'}else if("oct"===e.kty){if("string"!=typeof e.k)throw"wrong k value for oct(symmetric) key";t+='"kty":"'+e.kty+'",',t+='"k":"'+e.k+'"}'}var r=Ee(t);return be(ue.crypto.Util.hashHex(r,"sha256"))},ue.jws.IntDate={},ue.jws.IntDate.get=function(e){var t=ue.jws.IntDate,r=t.getNow,n=t.getZulu;if("now"==e)return r();if("now + 1hour"==e)return r()+3600;if("now + 1day"==e)return r()+86400;if("now + 1month"==e)return r()+2592e3;if("now + 1year"==e)return r()+31536e3;if(e.match(/Z$/))return n(e);if(e.match(/^[0-9]+$/))return parseInt(e);throw"unsupported format: "+e},ue.jws.IntDate.getZulu=function(e){return Oe(e)},ue.jws.IntDate.getNow=function(){return~~(new Date/1e3)},ue.jws.IntDate.intDate2UTCString=function(e){return new Date(1e3*e).toUTCString()},ue.jws.IntDate.intDate2Zulu=function(e){var t=new Date(1e3*e);return("0000"+t.getUTCFullYear()).slice(-4)+("00"+(t.getUTCMonth()+1)).slice(-2)+("00"+t.getUTCDate()).slice(-2)+("00"+t.getUTCHours()).slice(-2)+("00"+t.getUTCMinutes()).slice(-2)+("00"+t.getUTCSeconds()).slice(-2)+"Z"},t.SecureRandom=te,t.rng_seed_time=Y,t.BigInteger=k,t.RSAKey=oe;var Je=ue.crypto.EDSA;t.EDSA=Je;var Ge=ue.crypto.DSA;t.DSA=Ge;var Ye=ue.crypto.Signature;t.Signature=Ye;var $e=ue.crypto.MessageDigest;t.MessageDigest=$e;var Qe=ue.crypto.Mac;t.Mac=Qe;var Xe=ue.crypto.Cipher;t.Cipher=Xe,t.KEYUTIL=He,t.ASN1HEX=pe,t.X509=ze,t.CryptoJS=v,t.b64tohex=S,t.b64toBA=_,t.stoBA=fe,t.BAtos=de,t.BAtohex=ge,t.stohex=me,t.stob64=function(e){return w(me(e))},t.stob64u=function(e){return ve(w(me(e)))},t.b64utos=function(e){return de(_(ye(e)))},t.b64tob64u=ve,t.b64utob64=ye,t.hex2b64=w,t.hextob64u=be,t.b64utohex=we,t.utf8tob64u=le,t.b64utoutf8=he,t.utf8tob64=function(e){return w(Re(Ne(e)))},t.b64toutf8=function(e){return decodeURIComponent(Ie(S(e)))},t.utf8tohex=Se,t.hextoutf8=_e,t.hextorstr=ke,t.rstrtohex=Ee,t.hextob64=xe,t.hextob64nl=Ae,t.b64nltohex=Ce,t.hextopem=Pe,t.pemtohex=Fe,t.hextoArrayBuffer=function(e){if(e.length%2!=0)throw"input is not even length";if(null==e.match(/^[0-9A-Fa-f]+$/))throw"input is not hexadecimal";for(var t=new ArrayBuffer(e.length/2),r=new DataView(t),n=0;n<e.length/2;n++)r.setUint8(n,parseInt(e.substr(2*n,2),16));return t},t.ArrayBuffertohex=function(e){for(var t="",r=new DataView(e),n=0;n<e.byteLength;n++)t+=("00"+r.getUint8(n).toString(16)).slice(-2);return t},t.zulutomsec=Te,t.zulutosec=Oe,t.zulutodate=function(e){return new Date(Te(e))},t.datetozulu=function(e,t,r){var n,o=e.getUTCFullYear();if(t){if(o<1950||2049<o)throw"not proper year for UTCTime: "+o;n=(""+o).slice(-2)}else n=("000"+o).slice(-4);if(n+=("0"+(e.getUTCMonth()+1)).slice(-2),n+=("0"+e.getUTCDate()).slice(-2),n+=("0"+e.getUTCHours()).slice(-2),n+=("0"+e.getUTCMinutes()).slice(-2),n+=("0"+e.getUTCSeconds()).slice(-2),r){var i=e.getUTCMilliseconds();0!==i&&(n+="."+(i=(i=("00"+i).slice(-3)).replace(/0+$/g,"")))}return n+"Z"},t.uricmptohex=Re,t.hextouricmp=Ie,t.ipv6tohex=je,t.hextoipv6=De,t.hextoip=Ue,t.iptohex=function(e){var t="malformed IP address";if(!(e=e.toLowerCase(e)).match(/^[0-9.]+$/)){if(e.match(/^[0-9a-f:]+$/)&&-1!==e.indexOf(":"))return je(e);throw t}var r=e.split(".");if(4!==r.length)throw t;var n="";try{for(var o=0;o<4;o++)n+=("0"+parseInt(r[o]).toString(16)).slice(-2);return n}catch(e){throw t}},t.encodeURIComponentAll=Ne,t.newline_toUnix=function(e){return e.replace(/\r\n/gm,"\n")},t.newline_toDos=function(e){return(e=e.replace(/\r\n/gm,"\n")).replace(/\n/gm,"\r\n")},t.hextoposhex=Me,t.intarystrtohex=function(e){e=(e=(e=e.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return e.split(/,/).map((function(e,t,r){var n=parseInt(e);if(n<0||255<n)throw"integer not in range 0-255";return("00"+n.toString(16)).slice(-2)})).join("")}catch(e){throw"malformed integer array string: "+e}},t.strdiffidx=function(e,t){var r=e.length;e.length>t.length&&(r=t.length);for(var n=0;n<r;n++)if(e.charCodeAt(n)!=t.charCodeAt(n))return n;return e.length!=t.length?r:-1},t.KJUR=ue;var Ze=ue.crypto;t.crypto=Ze;var et=ue.asn1;t.asn1=et;var tt=ue.jws;t.jws=tt;var rt=ue.lang;t.lang=rt}).call(this,r(28).Buffer)},function(e,t,r){"use strict";(function(e){var n=r(30),o=r(31),i=r(32);function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,r){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return u(this,e,t,r)}function u(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=p(e,t),e}(e,t,r,n):"string"==typeof t?function(e,t,r){if("string"==typeof r&&""!==r||(r="utf8"),!c.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|d(t,r),o=(e=s(e,n)).write(t,r);return o!==n&&(e=e.slice(0,o)),e}(e,t,r):function(e,t){if(c.isBuffer(t)){var r=0|f(t.length);return 0===(e=s(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?s(e,0):p(e,t);if("Buffer"===t.type&&i(t.data))return p(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(l(t),e=s(e,t<0?0:0|f(t)),!c.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function p(e,t){var r=t.length<0?0:0|f(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function f(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function d(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return K(e).length;default:if(n)return H(e).length;t=(""+t).toLowerCase(),n=!0}}function g(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return T(this,t,r);case"utf8":case"utf-8":return A(this,t,r);case"ascii":return P(this,t,r);case"latin1":case"binary":return F(this,t,r);case"base64":return x(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function m(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function v(e,t,r,n,o){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:y(e,t,r,n,o);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):y(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function y(e,t,r,n,o){var i,a=1,s=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,r/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var l=-1;for(i=r;i<s;i++)if(u(e,i)===u(t,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===c)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(r+c>s&&(r=s-c),i=r;i>=0;i--){for(var h=!0,p=0;p<c;p++)if(u(e,i+p)!==u(t,p)){h=!1;break}if(h)return i}return-1}function b(e,t,r,n){r=Number(r)||0;var o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function w(e,t,r,n){return V(H(t,e.length-r),e,r,n)}function S(e,t,r,n){return V(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function _(e,t,r,n){return S(e,t,r,n)}function k(e,t,r,n){return V(K(t),e,r,n)}function E(e,t,r,n){return V(function(e,t){for(var r,n,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)n=(r=e.charCodeAt(a))>>8,o=r%256,i.push(o),i.push(n);return i}(t,e.length-r),e,r,n)}function x(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function A(e,t,r){r=Math.min(e.length,r);for(var n=[],o=t;o<r;){var i,a,s,c,u=e[o],l=null,h=u>239?4:u>223?3:u>191?2:1;if(o+h<=r)switch(h){case 1:u<128&&(l=u);break;case 2:128==(192&(i=e[o+1]))&&(c=(31&u)<<6|63&i)>127&&(l=c);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(c=(15&u)<<12|(63&i)<<6|63&a)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(c=(15&u)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(l=c)}null===l?(l=65533,h=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),o+=h}return function(e){var t=e.length;if(t<=C)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=C));return r}(n)}t.Buffer=c,t.SlowBuffer=function(e){return+e!=e&&(e=0),c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,r){return u(null,e,t,r)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,r){return function(e,t,r,n){return l(t),t<=0?s(e,t):void 0!==r?"string"==typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},c.allocUnsafe=function(e){return h(null,e)},c.allocUnsafeSlow=function(e){return h(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=c.allocUnsafe(t),o=0;for(r=0;r<e.length;++r){var a=e[r];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,o),o+=a.length}return n},c.byteLength=d,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?A(this,0,e):g.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,r,n,o){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=r)return 0;if(n>=o)return-1;if(t>=r)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(i,a),u=this.slice(n,o),l=e.slice(t,r),h=0;h<s;++h)if(u[h]!==l[h]){i=u[h],a=l[h];break}return i<a?-1:a<i?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return v(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return v(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return b(this,e,t,r);case"utf8":case"utf-8":return w(this,e,t,r);case"ascii":return S(this,e,t,r);case"latin1":case"binary":return _(this,e,t,r);case"base64":return k(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function P(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}function F(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function T(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=t;i<r;++i)o+=B(e[i]);return o}function O(e,t,r){for(var n=e.slice(t,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function R(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,r,n,o,i){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function j(e,t,r,n){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-r,2);o<i;++o)e[r+o]=(t&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function D(e,t,r,n){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-r,4);o<i;++o)e[r+o]=t>>>8*(n?o:3-o)&255}function U(e,t,r,n,o,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function N(e,t,r,n,i){return i||U(e,0,r,4),o.write(e,t,r,n,23,4),r+4}function L(e,t,r,n,i){return i||U(e,0,r,8),o.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=c.prototype;else{var o=t-e;r=new c(o,void 0);for(var i=0;i<o;++i)r[i]=this[i+e]}return r},c.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n},c.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e+--t],o=1;t>0&&(o*=256);)n+=this[e+--t]*o;return n},c.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=t,o=1,i=this[e+--n];n>0&&(o*=256);)i+=this[e+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},c.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,r,n){e=+e,t|=0,r|=0,n||I(this,e,t,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[t]=255&e;++i<r&&(o*=256);)this[t+i]=e/o&255;return t+r},c.prototype.writeUIntBE=function(e,t,r,n){e=+e,t|=0,r|=0,n||I(this,e,t,r,Math.pow(2,8*r)-1,0);var o=r-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+r},c.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):j(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):j(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);I(this,e,t,r,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<r&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);I(this,e,t,r,o-1,-o)}var i=r-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):j(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):j(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,r){return N(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return N(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return L(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return L(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var o,i=n-r;if(this===e&&r<t&&t<n)for(o=i-1;o>=0;--o)e[o+t]=this[o+r];else if(i<1e3||!c.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+i),t);return i},c.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var a=c.isBuffer(e)?e:H(new c(e,n).toString()),s=a.length;for(i=0;i<r-t;++i)this[i+t]=a[i%s]}return this};var M=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function H(e,t){var r;t=t||1/0;for(var n=e.length,o=null,i=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function K(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(M,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function V(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}}).call(this,r(29))},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";t.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=u(e),a=n[0],s=n[1],c=new i(function(e,t,r){return 3*(t+r)/4-r}(0,a,s)),l=0,h=s>0?a-4:a;for(r=0;r<h;r+=4)t=o[e.charCodeAt(r)]<<18|o[e.charCodeAt(r+1)]<<12|o[e.charCodeAt(r+2)]<<6|o[e.charCodeAt(r+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;return 2===s&&(t=o[e.charCodeAt(r)]<<2|o[e.charCodeAt(r+1)]>>4,c[l++]=255&t),1===s&&(t=o[e.charCodeAt(r)]<<10|o[e.charCodeAt(r+1)]<<4|o[e.charCodeAt(r+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t),c},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],a=16383,s=0,c=r-o;s<c;s+=a)i.push(l(e,s,s+a>c?c:s+a));return 1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),i.join("")};for(var n=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)n[s]=a[s],o[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function l(e,t,r){for(var o,i,a=[],s=t;s<r;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,o){var i,a,s=8*o-n-1,c=(1<<s)-1,u=c>>1,l=-7,h=r?o-1:0,p=r?-1:1,f=e[t+h];for(h+=p,i=f&(1<<-l)-1,f>>=-l,l+=s;l>0;i=256*i+e[t+h],h+=p,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=n;l>0;a=256*a+e[t+h],h+=p,l-=8);if(0===i)i=1-u;else{if(i===c)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,n),i-=u}return(f?-1:1)*a*Math.pow(2,i-n)},t.write=function(e,t,r,n,o,i){var a,s,c,u=8*i-o-1,l=(1<<u)-1,h=l>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:i-1,d=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+h>=1?p/c:p*Math.pow(2,1-h))*c>=2&&(a++,c/=2),a+h>=l?(s=0,a=l):a+h>=1?(s=(t*c-1)*Math.pow(2,o),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,o),a=0));o>=8;e[r+f]=255&s,f+=d,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;e[r+f]=255&a,f+=d,a/=256,u-=8);e[r+f-d]|=128*g}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.jws,r=e.KeyUtil,o=e.X509,i=e.crypto,a=e.hextob64u,s=e.b64tohex,c=e.AllowedSigningAlgs;return function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.parseJwt=function e(r){n.Log.debug("JoseUtil.parseJwt");try{var o=t.JWS.parse(r);return{header:o.headerObj,payload:o.payloadObj}}catch(e){n.Log.error(e)}},e.validateJwt=function(t,i,a,c,u,l,h){n.Log.debug("JoseUtil.validateJwt");try{if("RSA"===i.kty)if(i.e&&i.n)i=r.getKey(i);else{if(!i.x5c||!i.x5c.length)return n.Log.error("JoseUtil.validateJwt: RSA key missing key material",i),Promise.reject(new Error("RSA key missing key material"));var p=s(i.x5c[0]);i=o.getPublicKeyFromCertHex(p)}else{if("EC"!==i.kty)return n.Log.error("JoseUtil.validateJwt: Unsupported key type",i&&i.kty),Promise.reject(new Error(i.kty));if(!(i.crv&&i.x&&i.y))return n.Log.error("JoseUtil.validateJwt: EC key missing key material",i),Promise.reject(new Error("EC key missing key material"));i=r.getKey(i)}return e._validateJwt(t,i,a,c,u,l,h)}catch(e){return n.Log.error(e&&e.message||e),Promise.reject("JWT validation failed")}},e.validateJwtAttributes=function(t,r,o,i,a,s){i||(i=0),a||(a=parseInt(Date.now()/1e3));var c=e.parseJwt(t).payload;if(!c.iss)return n.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(c.iss!==r)return n.Log.error("JoseUtil._validateJwt: Invalid issuer in token",c.iss),Promise.reject(new Error("Invalid issuer in token: "+c.iss));if(!c.aud)return n.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(c.aud===o||Array.isArray(c.aud)&&c.aud.indexOf(o)>=0))return n.Log.error("JoseUtil._validateJwt: Invalid audience in token",c.aud),Promise.reject(new Error("Invalid audience in token: "+c.aud));if(c.azp&&c.azp!==o)return n.Log.error("JoseUtil._validateJwt: Invalid azp in token",c.azp),Promise.reject(new Error("Invalid azp in token: "+c.azp));if(!s){var u=a+i,l=a-i;if(!c.iat)return n.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if(u<c.iat)return n.Log.error("JoseUtil._validateJwt: iat is in the future",c.iat),Promise.reject(new Error("iat is in the future: "+c.iat));if(c.nbf&&u<c.nbf)return n.Log.error("JoseUtil._validateJwt: nbf is in the future",c.nbf),Promise.reject(new Error("nbf is in the future: "+c.nbf));if(!c.exp)return n.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(c.exp<l)return n.Log.error("JoseUtil._validateJwt: exp is in the past",c.exp),Promise.reject(new Error("exp is in the past:"+c.exp))}return Promise.resolve(c)},e._validateJwt=function(r,o,i,a,s,u,l){return e.validateJwtAttributes(r,i,a,s,u,l).then((function(e){try{return t.JWS.verify(r,o,c)?e:(n.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed")))}catch(e){return n.Log.error(e&&e.message||e),Promise.reject(new Error("signature validation failed"))}}))},e.hashString=function e(t,r){try{return i.Util.hashString(t,r)}catch(e){n.Log.error(e)}},e.hexToBase64Url=function e(t){try{return a(t)}catch(e){n.Log.error(e)}},e}()};var n=r(0);e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SigninResponse=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(3);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.SigninResponse=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#";i(this,e);var n=o.UrlUtility.parseUrlFragment(t,r);this.error=n.error,this.error_description=n.error_description,this.error_uri=n.error_uri,this.code=n.code,this.state=n.state,this.id_token=n.id_token,this.session_state=n.session_state,this.access_token=n.access_token,this.token_type=n.token_type,this.scope=n.scope,this.profile=void 0,this.expires_in=n.expires_in}return n(e,[{key:"expires_in",get:function(){if(this.expires_at){var e=parseInt(Date.now()/1e3);return this.expires_at-e}},set:function(e){var t=parseInt(e);if("number"==typeof t&&t>0){var r=parseInt(Date.now()/1e3);this.expires_at=r+t}}},{key:"expired",get:function(){var e=this.expires_in;if(void 0!==e)return e<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignoutRequest=void 0;var n=r(0),o=r(3),i=r(9);t.SignoutRequest=function e(t){var r=t.url,a=t.id_token_hint,s=t.post_logout_redirect_uri,c=t.data,u=t.extraQueryParams,l=t.request_type;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!r)throw n.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");for(var h in a&&(r=o.UrlUtility.addQueryParam(r,"id_token_hint",a)),s&&(r=o.UrlUtility.addQueryParam(r,"post_logout_redirect_uri",s),c&&(this.state=new i.State({data:c,request_type:l}),r=o.UrlUtility.addQueryParam(r,"state",this.state.id))),u)r=o.UrlUtility.addQueryParam(r,h,u[h]);this.url=r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignoutResponse=void 0;var n=r(3);t.SignoutResponse=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=n.UrlUtility.parseUrlFragment(t,"?");this.error=r.error,this.error_description=r.error_description,this.error_uri=r.error_uri,this.state=r.state}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryWebStorage=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0);t.InMemoryWebStorage=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._data={}}return e.prototype.getItem=function(e){return o.Log.debug("InMemoryWebStorage.getItem",e),this._data[e]},e.prototype.setItem=function(e,t){o.Log.debug("InMemoryWebStorage.setItem",e),this._data[e]=t},e.prototype.removeItem=function(e){o.Log.debug("InMemoryWebStorage.removeItem",e),delete this._data[e]},e.prototype.key=function(e){return Object.getOwnPropertyNames(this._data)[e]},n(e,[{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserManager=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0),i=r(10),a=r(39),s=r(15),c=r(45),u=r(47),l=r(18),h=r(8),p=r(20),f=r(11),d=r(4);function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.UserManager=function(e){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.SilentRenewService,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.SessionMonitor,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:p.TokenRevocationClient,h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:f.TokenClient,v=arguments.length>5&&void 0!==arguments[5]?arguments[5]:d.JoseUtil;g(this,t),r instanceof a.UserManagerSettings||(r=new a.UserManagerSettings(r));var y=m(this,e.call(this,r));return y._events=new c.UserManagerEvents(r),y._silentRenewService=new n(y),y.settings.automaticSilentRenew&&(o.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),y.startSilentRenew()),y.settings.monitorSession&&(o.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),y._sessionMonitor=new i(y)),y._tokenRevocationClient=new s(y._settings),y._tokenClient=new h(y._settings),y._joseUtil=v,y}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getUser=function(){var e=this;return this._loadUser().then((function(t){return t?(o.Log.info("UserManager.getUser: user loaded"),e._events.load(t,!1),t):(o.Log.info("UserManager.getUser: user not found in storage"),null)}))},t.prototype.removeUser=function(){var e=this;return this.storeUser(null).then((function(){o.Log.info("UserManager.removeUser: user removed from storage"),e._events.unload()}))},t.prototype.signinRedirect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type="si:r";var t={useReplaceToNavigate:e.useReplaceToNavigate};return this._signinStart(e,this._redirectNavigator,t).then((function(){o.Log.info("UserManager.signinRedirect: successful")}))},t.prototype.signinRedirectCallback=function(e){return this._signinEnd(e||this._redirectNavigator.url).then((function(e){return e.profile&&e.profile.sub?o.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",e.profile.sub):o.Log.info("UserManager.signinRedirectCallback: no sub"),e}))},t.prototype.signinPopup=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type="si:p";var t=e.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return t?(e.redirect_uri=t,e.display="popup",this._signin(e,this._popupNavigator,{startUrl:t,popupWindowFeatures:e.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:e.popupWindowTarget||this.settings.popupWindowTarget}).then((function(e){return e&&(e.profile&&e.profile.sub?o.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",e.profile.sub):o.Log.info("UserManager.signinPopup: no sub")),e}))):(o.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},t.prototype.signinPopupCallback=function(e){return this._signinCallback(e,this._popupNavigator).then((function(e){return e&&(e.profile&&e.profile.sub?o.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",e.profile.sub):o.Log.info("UserManager.signinPopupCallback: no sub")),e})).catch((function(e){o.Log.error(e.message)}))},t.prototype.signinSilent=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t=Object.assign({},t),this._loadUser().then((function(r){return r&&r.refresh_token?(t.refresh_token=r.refresh_token,e._useRefreshToken(t)):(t.request_type="si:s",t.id_token_hint=t.id_token_hint||e.settings.includeIdTokenInSilentRenew&&r&&r.id_token,r&&e._settings.validateSubOnSilentRenew&&(o.Log.debug("UserManager.signinSilent, subject prior to silent renew: ",r.profile.sub),t.current_sub=r.profile.sub),e._signinSilentIframe(t))}))},t.prototype._useRefreshToken=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._tokenClient.exchangeRefreshToken(t).then((function(t){return t?t.access_token?e._loadUser().then((function(r){if(r){var n=Promise.resolve();return t.id_token&&(n=e._validateIdTokenFromTokenRefreshToken(r.profile,t.id_token)),n.then((function(){return o.Log.debug("UserManager._useRefreshToken: refresh token response success"),r.id_token=t.id_token||r.id_token,r.access_token=t.access_token,r.refresh_token=t.refresh_token||r.refresh_token,r.expires_in=t.expires_in,e.storeUser(r).then((function(){return e._events.load(r),r}))}))}return null})):(o.Log.error("UserManager._useRefreshToken: No access token returned from token endpoint"),Promise.reject("No access token returned from token endpoint")):(o.Log.error("UserManager._useRefreshToken: No response returned from token endpoint"),Promise.reject("No response returned from token endpoint"))}))},t.prototype._validateIdTokenFromTokenRefreshToken=function(e,t){var r=this;return this._metadataService.getIssuer().then((function(n){return r.settings.getEpochTime().then((function(i){return r._joseUtil.validateJwtAttributes(t,n,r._settings.client_id,r._settings.clockSkew,i).then((function(t){return t?t.sub!==e.sub?(o.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub"),Promise.reject(new Error("sub in id_token does not match current sub"))):t.auth_time&&t.auth_time!==e.auth_time?(o.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time"),Promise.reject(new Error("auth_time in id_token does not match original auth_time"))):t.azp&&t.azp!==e.azp?(o.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp"),Promise.reject(new Error("azp in id_token does not match original azp"))):!t.azp&&e.azp?(o.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token"),Promise.reject(new Error("azp not in id_token, but present in original id_token"))):void 0:(o.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token"),Promise.reject(new Error("Failed to validate id_token")))}))}))}))},t.prototype._signinSilentIframe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return t?(e.redirect_uri=t,e.prompt=e.prompt||"none",this._signin(e,this._iframeNavigator,{startUrl:t,silentRequestTimeout:e.silentRequestTimeout||this.settings.silentRequestTimeout}).then((function(e){return e&&(e.profile&&e.profile.sub?o.Log.info("UserManager.signinSilent: successful, signed in sub: ",e.profile.sub):o.Log.info("UserManager.signinSilent: no sub")),e}))):(o.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},t.prototype.signinSilentCallback=function(e){return this._signinCallback(e,this._iframeNavigator).then((function(e){return e&&(e.profile&&e.profile.sub?o.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",e.profile.sub):o.Log.info("UserManager.signinSilentCallback: no sub")),e}))},t.prototype.signinCallback=function(e){var t=this;return this.readSigninResponseState(e).then((function(r){var n=r.state;return r.response,"si:r"===n.request_type?t.signinRedirectCallback(e):"si:p"===n.request_type?t.signinPopupCallback(e):"si:s"===n.request_type?t.signinSilentCallback(e):Promise.reject(new Error("invalid response_type in state"))}))},t.prototype.signoutCallback=function(e,t){var r=this;return this.readSignoutResponseState(e).then((function(n){var o=n.state,i=n.response;return o?"so:r"===o.request_type?r.signoutRedirectCallback(e):"so:p"===o.request_type?r.signoutPopupCallback(e,t):Promise.reject(new Error("invalid response_type in state")):i}))},t.prototype.querySessionStatus=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t=Object.assign({},t)).request_type="si:s";var r=t.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return r?(t.redirect_uri=r,t.prompt="none",t.response_type=t.response_type||this.settings.query_status_response_type,t.scope=t.scope||"openid",t.skipUserInfo=!0,this._signinStart(t,this._iframeNavigator,{startUrl:r,silentRequestTimeout:t.silentRequestTimeout||this.settings.silentRequestTimeout}).then((function(t){return e.processSigninResponse(t.url).then((function(e){if(o.Log.debug("UserManager.querySessionStatus: got signin response"),e.session_state&&e.profile.sub)return o.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",e.profile.sub),{session_state:e.session_state,sub:e.profile.sub,sid:e.profile.sid};o.Log.info("querySessionStatus successful, user not authenticated")})).catch((function(t){if(t.session_state&&e.settings.monitorAnonymousSession&&("login_required"==t.message||"consent_required"==t.message||"interaction_required"==t.message||"account_selection_required"==t.message))return o.Log.info("UserManager.querySessionStatus: querySessionStatus success for anonymous user"),{session_state:t.session_state};throw t}))}))):(o.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},t.prototype._signin=function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._signinStart(e,t,n).then((function(t){return r._signinEnd(t.url,e)}))},t.prototype._signinStart=function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.prepare(n).then((function(t){return o.Log.debug("UserManager._signinStart: got navigator window handle"),r.createSigninRequest(e).then((function(e){return o.Log.debug("UserManager._signinStart: got signin request"),n.url=e.url,n.id=e.state.id,t.navigate(n)})).catch((function(e){throw t.close&&(o.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),t.close()),e}))}))},t.prototype._signinEnd=function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.processSigninResponse(e).then((function(e){o.Log.debug("UserManager._signinEnd: got signin response");var n=new s.User(e);if(r.current_sub){if(r.current_sub!==n.profile.sub)return o.Log.debug("UserManager._signinEnd: current user does not match user returned from signin. sub from signin: ",n.profile.sub),Promise.reject(new Error("login_required"));o.Log.debug("UserManager._signinEnd: current user matches user returned from signin")}return t.storeUser(n).then((function(){return o.Log.debug("UserManager._signinEnd: user stored"),t._events.load(n),n}))}))},t.prototype._signinCallback=function(e,t){o.Log.debug("UserManager._signinCallback");var r="query"===this._settings.response_mode||!this._settings.response_mode&&h.SigninRequest.isCode(this._settings.response_type)?"?":"#";return t.callback(e,void 0,r)},t.prototype.signoutRedirect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type="so:r";var t=e.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;t&&(e.post_logout_redirect_uri=t);var r={useReplaceToNavigate:e.useReplaceToNavigate};return this._signoutStart(e,this._redirectNavigator,r).then((function(){o.Log.info("UserManager.signoutRedirect: successful")}))},t.prototype.signoutRedirectCallback=function(e){return this._signoutEnd(e||this._redirectNavigator.url).then((function(e){return o.Log.info("UserManager.signoutRedirectCallback: successful"),e}))},t.prototype.signoutPopup=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type="so:p";var t=e.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return e.post_logout_redirect_uri=t,e.display="popup",e.post_logout_redirect_uri&&(e.state=e.state||{}),this._signout(e,this._popupNavigator,{startUrl:t,popupWindowFeatures:e.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:e.popupWindowTarget||this.settings.popupWindowTarget}).then((function(){o.Log.info("UserManager.signoutPopup: successful")}))},t.prototype.signoutPopupCallback=function(e,t){return void 0===t&&"boolean"==typeof e&&(t=e,e=null),this._popupNavigator.callback(e,t,"?").then((function(){o.Log.info("UserManager.signoutPopupCallback: successful")}))},t.prototype._signout=function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._signoutStart(e,t,n).then((function(e){return r._signoutEnd(e.url)}))},t.prototype._signoutStart=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this,r=arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.prepare(n).then((function(r){return o.Log.debug("UserManager._signoutStart: got navigator window handle"),t._loadUser().then((function(i){return o.Log.debug("UserManager._signoutStart: loaded current user from storage"),(t._settings.revokeAccessTokenOnSignout?t._revokeInternal(i):Promise.resolve()).then((function(){var a=e.id_token_hint||i&&i.id_token;return a&&(o.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),e.id_token_hint=a),t.removeUser().then((function(){return o.Log.debug("UserManager._signoutStart: user removed, creating signout request"),t.createSignoutRequest(e).then((function(e){return o.Log.debug("UserManager._signoutStart: got signout request"),n.url=e.url,e.state&&(n.id=e.state.id),r.navigate(n)}))}))}))})).catch((function(e){throw r.close&&(o.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),r.close()),e}))}))},t.prototype._signoutEnd=function(e){return this.processSignoutResponse(e).then((function(e){return o.Log.debug("UserManager._signoutEnd: got signout response"),e}))},t.prototype.revokeAccessToken=function(){var e=this;return this._loadUser().then((function(t){return e._revokeInternal(t,!0).then((function(r){if(r)return o.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),t.access_token=null,t.refresh_token=null,t.expires_at=null,t.token_type=null,e.storeUser(t).then((function(){o.Log.debug("UserManager.revokeAccessToken: user stored"),e._events.load(t)}))}))})).then((function(){o.Log.info("UserManager.revokeAccessToken: access token revoked successfully")}))},t.prototype._revokeInternal=function(e,t){var r=this;if(e){var n=e.access_token,i=e.refresh_token;return this._revokeAccessTokenInternal(n,t).then((function(e){return r._revokeRefreshTokenInternal(i,t).then((function(t){return e||t||o.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format"),e||t}))}))}return Promise.resolve(!1)},t.prototype._revokeAccessTokenInternal=function(e,t){return!e||e.indexOf(".")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(e,t).then((function(){return!0}))},t.prototype._revokeRefreshTokenInternal=function(e,t){return e?this._tokenRevocationClient.revoke(e,t,"refresh_token").then((function(){return!0})):Promise.resolve(!1)},t.prototype.startSilentRenew=function(){this._silentRenewService.start()},t.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},t.prototype._loadUser=function(){return this._userStore.get(this._userStoreKey).then((function(e){return e?(o.Log.debug("UserManager._loadUser: user storageString loaded"),s.User.fromStorageString(e)):(o.Log.debug("UserManager._loadUser: no user storageString"),null)}))},t.prototype.storeUser=function(e){if(e){o.Log.debug("UserManager.storeUser: storing user");var t=e.toStorageString();return this._userStore.set(this._userStoreKey,t)}return o.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},n(t,[{key:"_redirectNavigator",get:function(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function(){return this.settings.iframeNavigator}},{key:"_userStore",get:function(){return this.settings.userStore}},{key:"events",get:function(){return this._events}},{key:"_userStoreKey",get:function(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),t}(i.OidcClient)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserManagerSettings=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=(r(0),r(5)),i=r(40),a=r(41),s=r(43),c=r(6),u=r(1),l=r(8);function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.UserManagerSettings=function(e){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.popup_redirect_uri,o=r.popup_post_logout_redirect_uri,f=r.popupWindowFeatures,d=r.popupWindowTarget,g=r.silent_redirect_uri,m=r.silentRequestTimeout,v=r.automaticSilentRenew,y=void 0!==v&&v,b=r.validateSubOnSilentRenew,w=void 0!==b&&b,S=r.includeIdTokenInSilentRenew,_=void 0===S||S,k=r.monitorSession,E=void 0===k||k,x=r.monitorAnonymousSession,A=void 0!==x&&x,C=r.checkSessionInterval,P=void 0===C?2e3:C,F=r.stopCheckSessionOnError,T=void 0===F||F,O=r.query_status_response_type,R=r.revokeAccessTokenOnSignout,I=void 0!==R&&R,j=r.accessTokenExpiringNotificationTime,D=void 0===j?60:j,U=r.redirectNavigator,N=void 0===U?new i.RedirectNavigator:U,L=r.popupNavigator,M=void 0===L?new a.PopupNavigator:L,B=r.iframeNavigator,H=void 0===B?new s.IFrameNavigator:B,K=r.userStore,V=void 0===K?new c.WebStorageStateStore({store:u.Global.sessionStorage}):K;h(this,t);var W=p(this,e.call(this,arguments[0]));return W._popup_redirect_uri=n,W._popup_post_logout_redirect_uri=o,W._popupWindowFeatures=f,W._popupWindowTarget=d,W._silent_redirect_uri=g,W._silentRequestTimeout=m,W._automaticSilentRenew=y,W._validateSubOnSilentRenew=w,W._includeIdTokenInSilentRenew=_,W._accessTokenExpiringNotificationTime=D,W._monitorSession=E,W._monitorAnonymousSession=A,W._checkSessionInterval=P,W._stopCheckSessionOnError=T,O?W._query_status_response_type=O:arguments[0]&&arguments[0].response_type?W._query_status_response_type=l.SigninRequest.isOidc(arguments[0].response_type)?"id_token":"code":W._query_status_response_type="id_token",W._revokeAccessTokenOnSignout=I,W._redirectNavigator=N,W._popupNavigator=M,W._iframeNavigator=H,W._userStore=V,W}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"popup_redirect_uri",get:function(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function(){return this._automaticSilentRenew}},{key:"validateSubOnSilentRenew",get:function(){return this._validateSubOnSilentRenew}},{key:"includeIdTokenInSilentRenew",get:function(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function(){return this._monitorSession}},{key:"monitorAnonymousSession",get:function(){return this._monitorAnonymousSession}},{key:"checkSessionInterval",get:function(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function(){return this._redirectNavigator}},{key:"popupNavigator",get:function(){return this._popupNavigator}},{key:"iframeNavigator",get:function(){return this._iframeNavigator}},{key:"userStore",get:function(){return this._userStore}}]),t}(o.OidcClientSettings)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RedirectNavigator=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0);t.RedirectNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(){return Promise.resolve(this)},e.prototype.navigate=function(e){return e&&e.url?(e.useReplaceToNavigate?window.location.replace(e.url):window.location=e.url,Promise.resolve()):(o.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},n(e,[{key:"url",get:function(){return window.location.href}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopupNavigator=void 0;var n=r(0),o=r(42);t.PopupNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(e){var t=new o.PopupWindow(e);return Promise.resolve(t)},e.prototype.callback=function e(t,r,i){n.Log.debug("PopupNavigator.callback");try{return o.PopupWindow.notifyOpener(t,r,i),Promise.resolve()}catch(e){return Promise.reject(e)}},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopupWindow=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0),i=r(3);t.PopupWindow=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t}));var n=t.popupWindowTarget||"_blank",i=t.popupWindowFeatures||"location=no,toolbar=no,width=500,height=500,left=100,top=100;";this._popup=window.open("",n,i),this._popup&&(o.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),500))}return e.prototype.navigate=function(e){return this._popup?e&&e.url?(o.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=e.id,this._id&&(window["popupCallback_"+e.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=e.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},e.prototype._success=function(e){o.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(e)},e.prototype._error=function(e){o.Log.error("PopupWindow.error: ",e),this._cleanup(),this._reject(new Error(e))},e.prototype.close=function(){this._cleanup(!1)},e.prototype._cleanup=function(e){o.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!e&&this._popup.close(),this._popup=null},e.prototype._checkForPopupClosed=function(){this._popup&&!this._popup.closed||this._error("Popup window closed")},e.prototype._callback=function(e,t){this._cleanup(t),e?(o.Log.debug("PopupWindow.callback success"),this._success({url:e})):(o.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},e.notifyOpener=function(e,t,r){if(window.opener){if(e=e||window.location.href){var n=i.UrlUtility.parseUrlFragment(e,r);if(n.state){var a="popupCallback_"+n.state,s=window.opener[a];s?(o.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),s(e,t)):o.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else o.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else o.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},n(e,[{key:"promise",get:function(){return this._promise}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IFrameNavigator=void 0;var n=r(0),o=r(44);t.IFrameNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(e){var t=new o.IFrameWindow(e);return Promise.resolve(t)},e.prototype.callback=function e(t){n.Log.debug("IFrameNavigator.callback");try{return o.IFrameWindow.notifyParent(t),Promise.resolve()}catch(e){return Promise.reject(e)}},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IFrameWindow=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0);t.IFrameWindow=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t})),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.width=0,this._frame.height=0,window.document.body.appendChild(this._frame)}return e.prototype.navigate=function(e){if(e&&e.url){var t=e.silentRequestTimeout||1e4;o.Log.debug("IFrameWindow.navigate: Using timeout of:",t),this._timer=window.setTimeout(this._timeout.bind(this),t),this._frame.src=e.url}else this._error("No url provided");return this.promise},e.prototype._success=function(e){this._cleanup(),o.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(e)},e.prototype._error=function(e){this._cleanup(),o.Log.error(e),this._reject(new Error(e))},e.prototype.close=function(){this._cleanup()},e.prototype._cleanup=function(){this._frame&&(o.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},e.prototype._timeout=function(){o.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},e.prototype._message=function(e){if(o.Log.debug("IFrameWindow.message"),this._timer&&e.origin===this._origin&&e.source===this._frame.contentWindow&&"string"==typeof e.data&&(e.data.startsWith("http://")||e.data.startsWith("https://"))){var t=e.data;t?this._success({url:t}):this._error("Invalid response from frame")}},e.notifyParent=function(e){o.Log.debug("IFrameWindow.notifyParent"),(e=e||window.location.href)&&(o.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(e,location.protocol+"//"+location.host))},n(e,[{key:"promise",get:function(){return this._promise}},{key:"_origin",get:function(){return location.protocol+"//"+location.host}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserManagerEvents=void 0;var n=r(0),o=r(16),i=r(17);t.UserManagerEvents=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,r));return n._userLoaded=new i.Event("User loaded"),n._userUnloaded=new i.Event("User unloaded"),n._silentRenewError=new i.Event("Silent renew error"),n._userSignedIn=new i.Event("User signed in"),n._userSignedOut=new i.Event("User signed out"),n._userSessionChanged=new i.Event("User session changed"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.load=function(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n.Log.debug("UserManagerEvents.load"),e.prototype.load.call(this,t),r&&this._userLoaded.raise(t)},t.prototype.unload=function(){n.Log.debug("UserManagerEvents.unload"),e.prototype.unload.call(this),this._userUnloaded.raise()},t.prototype.addUserLoaded=function(e){this._userLoaded.addHandler(e)},t.prototype.removeUserLoaded=function(e){this._userLoaded.removeHandler(e)},t.prototype.addUserUnloaded=function(e){this._userUnloaded.addHandler(e)},t.prototype.removeUserUnloaded=function(e){this._userUnloaded.removeHandler(e)},t.prototype.addSilentRenewError=function(e){this._silentRenewError.addHandler(e)},t.prototype.removeSilentRenewError=function(e){this._silentRenewError.removeHandler(e)},t.prototype._raiseSilentRenewError=function(e){n.Log.debug("UserManagerEvents._raiseSilentRenewError",e.message),this._silentRenewError.raise(e)},t.prototype.addUserSignedIn=function(e){this._userSignedIn.addHandler(e)},t.prototype.removeUserSignedIn=function(e){this._userSignedIn.removeHandler(e)},t.prototype._raiseUserSignedIn=function(){n.Log.debug("UserManagerEvents._raiseUserSignedIn"),this._userSignedIn.raise()},t.prototype.addUserSignedOut=function(e){this._userSignedOut.addHandler(e)},t.prototype.removeUserSignedOut=function(e){this._userSignedOut.removeHandler(e)},t.prototype._raiseUserSignedOut=function(){n.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise()},t.prototype.addUserSessionChanged=function(e){this._userSessionChanged.addHandler(e)},t.prototype.removeUserSessionChanged=function(e){this._userSessionChanged.removeHandler(e)},t.prototype._raiseUserSessionChanged=function(){n.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise()},t}(o.AccessTokenEvents)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0),i=r(1),a=r(17);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.Timer=function(e){function t(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Global.timer,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;s(this,t);var a=c(this,e.call(this,r));return a._timer=n,a._nowFunc=o||function(){return Date.now()/1e3},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.init=function(e){e<=0&&(e=1),e=parseInt(e);var t=this.now+e;if(this.expiration===t&&this._timerHandle)o.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);else{this.cancel(),o.Log.debug("Timer.init timer "+this._name+" for duration:",e),this._expiration=t;var r=5;e<r&&(r=e),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*r)}},t.prototype.cancel=function(){this._timerHandle&&(o.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},t.prototype._callback=function(){var t=this._expiration-this.now;o.Log.debug("Timer.callback; "+this._name+" timer expires in:",t),this._expiration<=this.now&&(this.cancel(),e.prototype.raise.call(this))},n(t,[{key:"now",get:function(){return parseInt(this._nowFunc())}},{key:"expiration",get:function(){return this._expiration}}]),t}(a.Event)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SilentRenewService=void 0;var n=r(0);t.SilentRenewService=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userManager=t}return e.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then((function(e){})).catch((function(e){n.Log.error("SilentRenewService.start: Error from getUser:",e.message)})))},e.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},e.prototype._tokenExpiring=function(){var e=this;this._userManager.signinSilent().then((function(e){n.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")}),(function(t){n.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",t.message),e._userManager.events._raiseSilentRenewError(t)}))},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CordovaPopupNavigator=void 0;var n=r(21);t.CordovaPopupNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(e){var t=new n.CordovaPopupWindow(e);return Promise.resolve(t)},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CordovaIFrameNavigator=void 0;var n=r(21);t.CordovaIFrameNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(e){e.popupWindowFeatures="hidden=yes";var t=new n.CordovaPopupWindow(e);return Promise.resolve(t)},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Version="1.11.5"}])},e.exports=n()},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryStorage=t.ConfigurationError=t.NotImplementedError=t.getClientAuthenticationWithDependencies=t.Session=void 0;var i=r(48);Object.defineProperty(t,"Session",{enumerable:!0,get:function(){return i.Session}});var a=r(53);Object.defineProperty(t,"getClientAuthenticationWithDependencies",{enumerable:!0,get:function(){return a.getClientAuthenticationWithDependencies}}),o(r(120),t);var s=r(11);Object.defineProperty(t,"NotImplementedError",{enumerable:!0,get:function(){return s.NotImplementedError}}),Object.defineProperty(t,"ConfigurationError",{enumerable:!0,get:function(){return s.ConfigurationError}}),Object.defineProperty(t,"InMemoryStorage",{enumerable:!0,get:function(){return s.InMemoryStorage}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return c})),r.d(t,"d",(function(){return u}));var n=Object.freeze({mbox:"http://xmlns.com/foaf/0.1/mbox",mbox_sha1sum:"http://xmlns.com/foaf/0.1/mbox_sha1sum",gender:"http://xmlns.com/foaf/0.1/gender",geekcode:"http://xmlns.com/foaf/0.1/geekcode",dnaChecksum:"http://xmlns.com/foaf/0.1/dnaChecksum",sha1:"http://xmlns.com/foaf/0.1/sha1",based_near:"http://xmlns.com/foaf/0.1/based_near",title:"http://xmlns.com/foaf/0.1/title",nick:"http://xmlns.com/foaf/0.1/nick",jabberID:"http://xmlns.com/foaf/0.1/jabberID",aimChatID:"http://xmlns.com/foaf/0.1/aimChatID",skypeID:"http://xmlns.com/foaf/0.1/skypeID",icqChatID:"http://xmlns.com/foaf/0.1/icqChatID",yahooChatID:"http://xmlns.com/foaf/0.1/yahooChatID",msnChatID:"http://xmlns.com/foaf/0.1/msnChatID",name:"http://xmlns.com/foaf/0.1/name",firstName:"http://xmlns.com/foaf/0.1/firstName",lastName:"http://xmlns.com/foaf/0.1/lastName",givenName:"http://xmlns.com/foaf/0.1/givenName",givenname:"http://xmlns.com/foaf/0.1/givenname",surname:"http://xmlns.com/foaf/0.1/surname",family_name:"http://xmlns.com/foaf/0.1/family_name",familyName:"http://xmlns.com/foaf/0.1/familyName",phone:"http://xmlns.com/foaf/0.1/phone",homepage:"http://xmlns.com/foaf/0.1/homepage",weblog:"http://xmlns.com/foaf/0.1/weblog",openid:"http://xmlns.com/foaf/0.1/openid",tipjar:"http://xmlns.com/foaf/0.1/tipjar",plan:"http://xmlns.com/foaf/0.1/plan",made:"http://xmlns.com/foaf/0.1/made",maker:"http://xmlns.com/foaf/0.1/maker",img:"http://xmlns.com/foaf/0.1/img",depiction:"http://xmlns.com/foaf/0.1/depiction",depicts:"http://xmlns.com/foaf/0.1/depicts",thumbnail:"http://xmlns.com/foaf/0.1/thumbnail",myersBriggs:"http://xmlns.com/foaf/0.1/myersBriggs",workplaceHomepage:"http://xmlns.com/foaf/0.1/workplaceHomepage",workInfoHomepage:"http://xmlns.com/foaf/0.1/workInfoHomepage",schoolHomepage:"http://xmlns.com/foaf/0.1/schoolHomepage",knows:"http://xmlns.com/foaf/0.1/knows",interest:"http://xmlns.com/foaf/0.1/interest",topic_interest:"http://xmlns.com/foaf/0.1/topic_interest",publications:"http://xmlns.com/foaf/0.1/publications",currentProject:"http://xmlns.com/foaf/0.1/currentProject",pastProject:"http://xmlns.com/foaf/0.1/pastProject",fundedBy:"http://xmlns.com/foaf/0.1/fundedBy",logo:"http://xmlns.com/foaf/0.1/logo",topic:"http://xmlns.com/foaf/0.1/topic",primaryTopic:"http://xmlns.com/foaf/0.1/primaryTopic",focus:"http://xmlns.com/foaf/0.1/focus",isPrimaryTopicOf:"http://xmlns.com/foaf/0.1/isPrimaryTopicOf",page:"http://xmlns.com/foaf/0.1/page",theme:"http://xmlns.com/foaf/0.1/theme",account:"http://xmlns.com/foaf/0.1/account",holdsAccount:"http://xmlns.com/foaf/0.1/holdsAccount",accountServiceHomepage:"http://xmlns.com/foaf/0.1/accountServiceHomepage",accountName:"http://xmlns.com/foaf/0.1/accountName",member:"http://xmlns.com/foaf/0.1/member",membershipClass:"http://xmlns.com/foaf/0.1/membershipClass",birthday:"http://xmlns.com/foaf/0.1/birthday",age:"http://xmlns.com/foaf/0.1/age",status:"http://xmlns.com/foaf/0.1/status",LabelProperty:"http://xmlns.com/foaf/0.1/LabelProperty",Person:"http://xmlns.com/foaf/0.1/Person",Document:"http://xmlns.com/foaf/0.1/Document",Organization:"http://xmlns.com/foaf/0.1/Organization",Group:"http://xmlns.com/foaf/0.1/Group",Agent:"http://xmlns.com/foaf/0.1/Agent",Project:"http://xmlns.com/foaf/0.1/Project",Image:"http://xmlns.com/foaf/0.1/Image",PersonalProfileDocument:"http://xmlns.com/foaf/0.1/PersonalProfileDocument",OnlineAccount:"http://xmlns.com/foaf/0.1/OnlineAccount",OnlineGamingAccount:"http://xmlns.com/foaf/0.1/OnlineGamingAccount",OnlineEcommerceAccount:"http://xmlns.com/foaf/0.1/OnlineEcommerceAccount",OnlineChatAccount:"http://xmlns.com/foaf/0.1/OnlineChatAccount"}),o=Object.freeze({subClassOf:"http://www.w3.org/2000/01/rdf-schema#subClassOf",subPropertyOf:"http://www.w3.org/2000/01/rdf-schema#subPropertyOf",comment:"http://www.w3.org/2000/01/rdf-schema#comment",label:"http://www.w3.org/2000/01/rdf-schema#label",domain:"http://www.w3.org/2000/01/rdf-schema#domain",range:"http://www.w3.org/2000/01/rdf-schema#range",seeAlso:"http://www.w3.org/2000/01/rdf-schema#seeAlso",isDefinedBy:"http://www.w3.org/2000/01/rdf-schema#isDefinedBy",member:"http://www.w3.org/2000/01/rdf-schema#member",Resource:"http://www.w3.org/2000/01/rdf-schema#Resource",Class:"http://www.w3.org/2000/01/rdf-schema#Class",Literal:"http://www.w3.org/2000/01/rdf-schema#Literal",Container:"http://www.w3.org/2000/01/rdf-schema#Container",ContainerMembershipProperty:"http://www.w3.org/2000/01/rdf-schema#ContainerMembershipProperty",Datatype:"http://www.w3.org/2000/01/rdf-schema#Datatype"}),i=Object.freeze({acceptedAnswer:"http://schema.org/acceptedAnswer",acceptedOffer:"http://schema.org/acceptedOffer",acceptedPaymentMethod:"http://schema.org/acceptedPaymentMethod",acceptsReservations:"http://schema.org/acceptsReservations",accessCode:"http://schema.org/accessCode",accessMode:"http://schema.org/accessMode",accessModeSufficient:"http://schema.org/accessModeSufficient",accessibilityAPI:"http://schema.org/accessibilityAPI",accessibilityControl:"http://schema.org/accessibilityControl",accessibilityFeature:"http://schema.org/accessibilityFeature",accessibilityHazard:"http://schema.org/accessibilityHazard",accessibilitySummary:"http://schema.org/accessibilitySummary",accountId:"http://schema.org/accountId",accountablePerson:"http://schema.org/accountablePerson",acquiredFrom:"http://schema.org/acquiredFrom",actionAccessibilityRequirement:"http://schema.org/actionAccessibilityRequirement",actionPlatform:"http://schema.org/actionPlatform",actionStatus:"http://schema.org/actionStatus",actors:"http://schema.org/actors",addOn:"http://schema.org/addOn",additionalName:"http://schema.org/additionalName",additionalNumberOfGuests:"http://schema.org/additionalNumberOfGuests",additionalProperty:"http://schema.org/additionalProperty",additionalType:"http://schema.org/additionalType",address:"http://schema.org/address",addressCountry:"http://schema.org/addressCountry",addressLocality:"http://schema.org/addressLocality",addressRegion:"http://schema.org/addressRegion",advanceBookingRequirement:"http://schema.org/advanceBookingRequirement",affiliation:"http://schema.org/affiliation",afterMedia:"http://schema.org/afterMedia",agent:"http://schema.org/agent",aggregateRating:"http://schema.org/aggregateRating",aircraft:"http://schema.org/aircraft",albumProductionType:"http://schema.org/albumProductionType",albumReleaseType:"http://schema.org/albumReleaseType",albums:"http://schema.org/albums",alignmentType:"http://schema.org/alignmentType",alternateName:"http://schema.org/alternateName",alternativeHeadline:"http://schema.org/alternativeHeadline",amenityFeature:"http://schema.org/amenityFeature",amount:"http://schema.org/amount",amountOfThisGood:"http://schema.org/amountOfThisGood",annualPercentageRate:"http://schema.org/annualPercentageRate",answerCount:"http://schema.org/answerCount",application:"http://schema.org/application",applicationCategory:"http://schema.org/applicationCategory",applicationSubCategory:"http://schema.org/applicationSubCategory",applicationSuite:"http://schema.org/applicationSuite",appliesToDeliveryMethod:"http://schema.org/appliesToDeliveryMethod",appliesToPaymentMethod:"http://schema.org/appliesToPaymentMethod",area:"http://schema.org/area",arrivalAirport:"http://schema.org/arrivalAirport",arrivalBusStop:"http://schema.org/arrivalBusStop",arrivalGate:"http://schema.org/arrivalGate",arrivalPlatform:"http://schema.org/arrivalPlatform",arrivalStation:"http://schema.org/arrivalStation",arrivalTerminal:"http://schema.org/arrivalTerminal",arrivalTime:"http://schema.org/arrivalTime",artEdition:"http://schema.org/artEdition",artMedium:"http://schema.org/artMedium",artform:"http://schema.org/artform",articleBody:"http://schema.org/articleBody",articleSection:"http://schema.org/articleSection",assembly:"http://schema.org/assembly",assemblyVersion:"http://schema.org/assemblyVersion",associatedArticle:"http://schema.org/associatedArticle",associatedMedia:"http://schema.org/associatedMedia",athlete:"http://schema.org/athlete",attendees:"http://schema.org/attendees",audienceType:"http://schema.org/audienceType",audio:"http://schema.org/audio",authenticator:"http://schema.org/authenticator",author:"http://schema.org/author",availability:"http://schema.org/availability",availabilityEnds:"http://schema.org/availabilityEnds",availabilityStarts:"http://schema.org/availabilityStarts",availableAtOrFrom:"http://schema.org/availableAtOrFrom",availableChannel:"http://schema.org/availableChannel",availableDeliveryMethod:"http://schema.org/availableDeliveryMethod",availableFrom:"http://schema.org/availableFrom",availableLanguage:"http://schema.org/availableLanguage",availableThrough:"http://schema.org/availableThrough",awards:"http://schema.org/awards",awayTeam:"http://schema.org/awayTeam",baseSalary:"http://schema.org/baseSalary",bccRecipient:"http://schema.org/bccRecipient",bed:"http://schema.org/bed",beforeMedia:"http://schema.org/beforeMedia",benefits:"http://schema.org/benefits",bestRating:"http://schema.org/bestRating",billingAddress:"http://schema.org/billingAddress",billingIncrement:"http://schema.org/billingIncrement",billingPeriod:"http://schema.org/billingPeriod",birthDate:"http://schema.org/birthDate",birthPlace:"http://schema.org/birthPlace",bitrate:"http://schema.org/bitrate",blogPosts:"http://schema.org/blogPosts",boardingGroup:"http://schema.org/boardingGroup",boardingPolicy:"http://schema.org/boardingPolicy",bookEdition:"http://schema.org/bookEdition",bookFormat:"http://schema.org/bookFormat",bookingAgent:"http://schema.org/bookingAgent",bookingTime:"http://schema.org/bookingTime",borrower:"http://schema.org/borrower",box:"http://schema.org/box",branchCode:"http://schema.org/branchCode",branchOf:"http://schema.org/branchOf",brand:"http://schema.org/brand",breadcrumb:"http://schema.org/breadcrumb",broadcastAffiliateOf:"http://schema.org/broadcastAffiliateOf",broadcastChannelId:"http://schema.org/broadcastChannelId",broadcastDisplayName:"http://schema.org/broadcastDisplayName",broadcastFrequency:"http://schema.org/broadcastFrequency",broadcastFrequencyValue:"http://schema.org/broadcastFrequencyValue",broadcastOfEvent:"http://schema.org/broadcastOfEvent",broadcastServiceTier:"http://schema.org/broadcastServiceTier",broadcastTimezone:"http://schema.org/broadcastTimezone",broadcaster:"http://schema.org/broadcaster",browserRequirements:"http://schema.org/browserRequirements",busName:"http://schema.org/busName",busNumber:"http://schema.org/busNumber",businessFunction:"http://schema.org/businessFunction",buyer:"http://schema.org/buyer",byArtist:"http://schema.org/byArtist",calories:"http://schema.org/calories",candidate:"http://schema.org/candidate",caption:"http://schema.org/caption",carbohydrateContent:"http://schema.org/carbohydrateContent",cargoVolume:"http://schema.org/cargoVolume",carrier:"http://schema.org/carrier",carrierRequirements:"http://schema.org/carrierRequirements",catalog:"http://schema.org/catalog",catalogNumber:"http://schema.org/catalogNumber",category:"http://schema.org/category",ccRecipient:"http://schema.org/ccRecipient",character:"http://schema.org/character",characterAttribute:"http://schema.org/characterAttribute",characterName:"http://schema.org/characterName",cheatCode:"http://schema.org/cheatCode",checkinTime:"http://schema.org/checkinTime",checkoutTime:"http://schema.org/checkoutTime",childMaxAge:"http://schema.org/childMaxAge",childMinAge:"http://schema.org/childMinAge",children:"http://schema.org/children",cholesterolContent:"http://schema.org/cholesterolContent",circle:"http://schema.org/circle",citation:"http://schema.org/citation",claimReviewed:"http://schema.org/claimReviewed",clipNumber:"http://schema.org/clipNumber",closes:"http://schema.org/closes",coach:"http://schema.org/coach",codeRepository:"http://schema.org/codeRepository",colleagues:"http://schema.org/colleagues",collection:"http://schema.org/collection",color:"http://schema.org/color",comment:"http://schema.org/comment",commentCount:"http://schema.org/commentCount",commentText:"http://schema.org/commentText",commentTime:"http://schema.org/commentTime",composer:"http://schema.org/composer",confirmationNumber:"http://schema.org/confirmationNumber",contactOption:"http://schema.org/contactOption",contactPoints:"http://schema.org/contactPoints",contactType:"http://schema.org/contactType",containedIn:"http://schema.org/containedIn",contentRating:"http://schema.org/contentRating",contentSize:"http://schema.org/contentSize",contentType:"http://schema.org/contentType",contentUrl:"http://schema.org/contentUrl",contributor:"http://schema.org/contributor",cookTime:"http://schema.org/cookTime",cookingMethod:"http://schema.org/cookingMethod",copyrightHolder:"http://schema.org/copyrightHolder",copyrightYear:"http://schema.org/copyrightYear",countriesNotSupported:"http://schema.org/countriesNotSupported",countriesSupported:"http://schema.org/countriesSupported",countryOfOrigin:"http://schema.org/countryOfOrigin",course:"http://schema.org/course",courseCode:"http://schema.org/courseCode",courseMode:"http://schema.org/courseMode",coursePrerequisites:"http://schema.org/coursePrerequisites",coverageEndTime:"http://schema.org/coverageEndTime",coverageStartTime:"http://schema.org/coverageStartTime",creator:"http://schema.org/creator",creditedTo:"http://schema.org/creditedTo",cssSelector:"http://schema.org/cssSelector",currenciesAccepted:"http://schema.org/currenciesAccepted",currency:"http://schema.org/currency",customer:"http://schema.org/customer",dataFeedElement:"http://schema.org/dataFeedElement",datasetTimeInterval:"http://schema.org/datasetTimeInterval",dateCreated:"http://schema.org/dateCreated",dateDeleted:"http://schema.org/dateDeleted",dateIssued:"http://schema.org/dateIssued",dateModified:"http://schema.org/dateModified",datePosted:"http://schema.org/datePosted",datePublished:"http://schema.org/datePublished",dateRead:"http://schema.org/dateRead",dateReceived:"http://schema.org/dateReceived",dateSent:"http://schema.org/dateSent",dateVehicleFirstRegistered:"http://schema.org/dateVehicleFirstRegistered",dateline:"http://schema.org/dateline",dayOfWeek:"http://schema.org/dayOfWeek",deathDate:"http://schema.org/deathDate",deathPlace:"http://schema.org/deathPlace",defaultValue:"http://schema.org/defaultValue",deliveryAddress:"http://schema.org/deliveryAddress",deliveryLeadTime:"http://schema.org/deliveryLeadTime",deliveryMethod:"http://schema.org/deliveryMethod",deliveryStatus:"http://schema.org/deliveryStatus",department:"http://schema.org/department",departureAirport:"http://schema.org/departureAirport",departureBusStop:"http://schema.org/departureBusStop",departureGate:"http://schema.org/departureGate",departurePlatform:"http://schema.org/departurePlatform",departureStation:"http://schema.org/departureStation",departureTerminal:"http://schema.org/departureTerminal",departureTime:"http://schema.org/departureTime",dependencies:"http://schema.org/dependencies",depth:"http://schema.org/depth",device:"http://schema.org/device",directors:"http://schema.org/directors",disambiguatingDescription:"http://schema.org/disambiguatingDescription",discount:"http://schema.org/discount",discountCode:"http://schema.org/discountCode",discountCurrency:"http://schema.org/discountCurrency",discusses:"http://schema.org/discusses",discussionUrl:"http://schema.org/discussionUrl",dissolutionDate:"http://schema.org/dissolutionDate",distance:"http://schema.org/distance",distribution:"http://schema.org/distribution",doorTime:"http://schema.org/doorTime",downloadUrl:"http://schema.org/downloadUrl",downvoteCount:"http://schema.org/downvoteCount",driveWheelConfiguration:"http://schema.org/driveWheelConfiguration",dropoffLocation:"http://schema.org/dropoffLocation",dropoffTime:"http://schema.org/dropoffTime",duns:"http://schema.org/duns",durationOfWarranty:"http://schema.org/durationOfWarranty",duringMedia:"http://schema.org/duringMedia",editor:"http://schema.org/editor",educationalAlignment:"http://schema.org/educationalAlignment",educationalCredentialAwarded:"http://schema.org/educationalCredentialAwarded",educationalFramework:"http://schema.org/educationalFramework",educationalRole:"http://schema.org/educationalRole",educationalUse:"http://schema.org/educationalUse",elevation:"http://schema.org/elevation",eligibleCustomerType:"http://schema.org/eligibleCustomerType",eligibleDuration:"http://schema.org/eligibleDuration",eligibleQuantity:"http://schema.org/eligibleQuantity",eligibleRegion:"http://schema.org/eligibleRegion",eligibleTransactionVolume:"http://schema.org/eligibleTransactionVolume",email:"http://schema.org/email",embedUrl:"http://schema.org/embedUrl",employees:"http://schema.org/employees",employmentType:"http://schema.org/employmentType",encodingType:"http://schema.org/encodingType",encodings:"http://schema.org/encodings",endDate:"http://schema.org/endDate",endTime:"http://schema.org/endTime",endorsee:"http://schema.org/endorsee",entertainmentBusiness:"http://schema.org/entertainmentBusiness",episodeNumber:"http://schema.org/episodeNumber",episodes:"http://schema.org/episodes",equal:"http://schema.org/equal",error:"http://schema.org/error",estimatedCost:"http://schema.org/estimatedCost",estimatedFlightDuration:"http://schema.org/estimatedFlightDuration",estimatedSalary:"http://schema.org/estimatedSalary",eventStatus:"http://schema.org/eventStatus",events:"http://schema.org/events",exifData:"http://schema.org/exifData",expectedArrivalFrom:"http://schema.org/expectedArrivalFrom",expectedArrivalUntil:"http://schema.org/expectedArrivalUntil",expectsAcceptanceOf:"http://schema.org/expectsAcceptanceOf",experienceRequirements:"http://schema.org/experienceRequirements",expires:"http://schema.org/expires",familyName:"http://schema.org/familyName",fatContent:"http://schema.org/fatContent",faxNumber:"http://schema.org/faxNumber",featureList:"http://schema.org/featureList",feesAndCommissionsSpecification:"http://schema.org/feesAndCommissionsSpecification",fiberContent:"http://schema.org/fiberContent",fileFormat:"http://schema.org/fileFormat",fileSize:"http://schema.org/fileSize",firstPerformance:"http://schema.org/firstPerformance",flightDistance:"http://schema.org/flightDistance",flightNumber:"http://schema.org/flightNumber",floorSize:"http://schema.org/floorSize",followee:"http://schema.org/followee",follows:"http://schema.org/follows",foodEstablishment:"http://schema.org/foodEstablishment",foodEvent:"http://schema.org/foodEvent",founders:"http://schema.org/founders",foundingDate:"http://schema.org/foundingDate",foundingLocation:"http://schema.org/foundingLocation",free:"http://schema.org/free",fromLocation:"http://schema.org/fromLocation",fuelConsumption:"http://schema.org/fuelConsumption",fuelEfficiency:"http://schema.org/fuelEfficiency",fuelType:"http://schema.org/fuelType",funder:"http://schema.org/funder",gameItem:"http://schema.org/gameItem",gameLocation:"http://schema.org/gameLocation",gamePlatform:"http://schema.org/gamePlatform",gameTip:"http://schema.org/gameTip",gender:"http://schema.org/gender",genre:"http://schema.org/genre",geo:"http://schema.org/geo",geoContains:"http://schema.org/geoContains",geoCoveredBy:"http://schema.org/geoCoveredBy",geoCovers:"http://schema.org/geoCovers",geoCrosses:"http://schema.org/geoCrosses",geoDisjoint:"http://schema.org/geoDisjoint",geoEquals:"http://schema.org/geoEquals",geoIntersects:"http://schema.org/geoIntersects",geoMidpoint:"http://schema.org/geoMidpoint",geoOverlaps:"http://schema.org/geoOverlaps",geoRadius:"http://schema.org/geoRadius",geoTouches:"http://schema.org/geoTouches",geoWithin:"http://schema.org/geoWithin",geographicArea:"http://schema.org/geographicArea",givenName:"http://schema.org/givenName",globalLocationNumber:"http://schema.org/globalLocationNumber",grantee:"http://schema.org/grantee",greater:"http://schema.org/greater",greaterOrEqual:"http://schema.org/greaterOrEqual",gtin12:"http://schema.org/gtin12",gtin13:"http://schema.org/gtin13",gtin14:"http://schema.org/gtin14",gtin8:"http://schema.org/gtin8",hasCourseInstance:"http://schema.org/hasCourseInstance",hasDeliveryMethod:"http://schema.org/hasDeliveryMethod",hasDigitalDocumentPermission:"http://schema.org/hasDigitalDocumentPermission",hasMenuItem:"http://schema.org/hasMenuItem",hasMenuSection:"http://schema.org/hasMenuSection",hasOccupation:"http://schema.org/hasOccupation",hasOfferCatalog:"http://schema.org/hasOfferCatalog",hasPOS:"http://schema.org/hasPOS",headline:"http://schema.org/headline",height:"http://schema.org/height",highPrice:"http://schema.org/highPrice",hiringOrganization:"http://schema.org/hiringOrganization",homeLocation:"http://schema.org/homeLocation",homeTeam:"http://schema.org/homeTeam",honorificPrefix:"http://schema.org/honorificPrefix",honorificSuffix:"http://schema.org/honorificSuffix",hostingOrganization:"http://schema.org/hostingOrganization",hoursAvailable:"http://schema.org/hoursAvailable",httpMethod:"http://schema.org/httpMethod",iataCode:"http://schema.org/iataCode",icaoCode:"http://schema.org/icaoCode",illustrator:"http://schema.org/illustrator",inAlbum:"http://schema.org/inAlbum",inBroadcastLineup:"http://schema.org/inBroadcastLineup",inPlaylist:"http://schema.org/inPlaylist",incentives:"http://schema.org/incentives",includedComposition:"http://schema.org/includedComposition",includedDataCatalog:"http://schema.org/includedDataCatalog",includesObject:"http://schema.org/includesObject",industry:"http://schema.org/industry",ineligibleRegion:"http://schema.org/ineligibleRegion",ingredients:"http://schema.org/ingredients",installUrl:"http://schema.org/installUrl",instructor:"http://schema.org/instructor",interactionCount:"http://schema.org/interactionCount",interactionService:"http://schema.org/interactionService",interactionType:"http://schema.org/interactionType",interactivityType:"http://schema.org/interactivityType",interestRate:"http://schema.org/interestRate",inventoryLevel:"http://schema.org/inventoryLevel",isAccessoryOrSparePartFor:"http://schema.org/isAccessoryOrSparePartFor",isBasedOnUrl:"http://schema.org/isBasedOnUrl",isConsumableFor:"http://schema.org/isConsumableFor",isFamilyFriendly:"http://schema.org/isFamilyFriendly",isGift:"http://schema.org/isGift",isLiveBroadcast:"http://schema.org/isLiveBroadcast",isRelatedTo:"http://schema.org/isRelatedTo",isSimilarTo:"http://schema.org/isSimilarTo",isVariantOf:"http://schema.org/isVariantOf",isbn:"http://schema.org/isbn",isicV4:"http://schema.org/isicV4",isrcCode:"http://schema.org/isrcCode",issn:"http://schema.org/issn",issueNumber:"http://schema.org/issueNumber",issuedBy:"http://schema.org/issuedBy",issuedThrough:"http://schema.org/issuedThrough",iswcCode:"http://schema.org/iswcCode",item:"http://schema.org/item",itemCondition:"http://schema.org/itemCondition",itemListElement:"http://schema.org/itemListElement",itemListOrder:"http://schema.org/itemListOrder",itemOffered:"http://schema.org/itemOffered",itemReviewed:"http://schema.org/itemReviewed",itemShipped:"http://schema.org/itemShipped",jobLocation:"http://schema.org/jobLocation",keywords:"http://schema.org/keywords",knownVehicleDamages:"http://schema.org/knownVehicleDamages",knows:"http://schema.org/knows",landlord:"http://schema.org/landlord",language:"http://schema.org/language",lastReviewed:"http://schema.org/lastReviewed",latitude:"http://schema.org/latitude",learningResourceType:"http://schema.org/learningResourceType",legalName:"http://schema.org/legalName",leiCode:"http://schema.org/leiCode",lender:"http://schema.org/lender",lesser:"http://schema.org/lesser",lesserOrEqual:"http://schema.org/lesserOrEqual",license:"http://schema.org/license",line:"http://schema.org/line",liveBlogUpdate:"http://schema.org/liveBlogUpdate",loanTerm:"http://schema.org/loanTerm",locationCreated:"http://schema.org/locationCreated",lodgingUnitDescription:"http://schema.org/lodgingUnitDescription",lodgingUnitType:"http://schema.org/lodgingUnitType",logo:"http://schema.org/logo",longitude:"http://schema.org/longitude",loser:"http://schema.org/loser",lowPrice:"http://schema.org/lowPrice",lyricist:"http://schema.org/lyricist",lyrics:"http://schema.org/lyrics",mainContentOfPage:"http://schema.org/mainContentOfPage",manufacturer:"http://schema.org/manufacturer",map:"http://schema.org/map",mapType:"http://schema.org/mapType",maps:"http://schema.org/maps",maxPrice:"http://schema.org/maxPrice",maxValue:"http://schema.org/maxValue",maximumAttendeeCapacity:"http://schema.org/maximumAttendeeCapacity",mealService:"http://schema.org/mealService",median:"http://schema.org/median",members:"http://schema.org/members",membershipNumber:"http://schema.org/membershipNumber",memoryRequirements:"http://schema.org/memoryRequirements",mentions:"http://schema.org/mentions",menu:"http://schema.org/menu",menuAddOn:"http://schema.org/menuAddOn",merchant:"http://schema.org/merchant",messageAttachment:"http://schema.org/messageAttachment",mileageFromOdometer:"http://schema.org/mileageFromOdometer",minPrice:"http://schema.org/minPrice",minValue:"http://schema.org/minValue",minimumPaymentDue:"http://schema.org/minimumPaymentDue",model:"http://schema.org/model",modifiedTime:"http://schema.org/modifiedTime",mpn:"http://schema.org/mpn",multipleValues:"http://schema.org/multipleValues",musicArrangement:"http://schema.org/musicArrangement",musicBy:"http://schema.org/musicBy",musicCompositionForm:"http://schema.org/musicCompositionForm",musicGroupMember:"http://schema.org/musicGroupMember",musicReleaseFormat:"http://schema.org/musicReleaseFormat",musicalKey:"http://schema.org/musicalKey",naics:"http://schema.org/naics",name:"http://schema.org/name",namedPosition:"http://schema.org/namedPosition",nationality:"http://schema.org/nationality",netWorth:"http://schema.org/netWorth",nextItem:"http://schema.org/nextItem",nonEqual:"http://schema.org/nonEqual",numAdults:"http://schema.org/numAdults",numChildren:"http://schema.org/numChildren",numTracks:"http://schema.org/numTracks",numberOfAirbags:"http://schema.org/numberOfAirbags",numberOfAxles:"http://schema.org/numberOfAxles",numberOfBeds:"http://schema.org/numberOfBeds",numberOfDoors:"http://schema.org/numberOfDoors",numberOfEmployees:"http://schema.org/numberOfEmployees",numberOfEpisodes:"http://schema.org/numberOfEpisodes",numberOfForwardGears:"http://schema.org/numberOfForwardGears",numberOfItems:"http://schema.org/numberOfItems",numberOfPages:"http://schema.org/numberOfPages",numberOfPlayers:"http://schema.org/numberOfPlayers",numberOfPreviousOwners:"http://schema.org/numberOfPreviousOwners",numberOfRooms:"http://schema.org/numberOfRooms",numberOfSeasons:"http://schema.org/numberOfSeasons",numberedPosition:"http://schema.org/numberedPosition",nutrition:"http://schema.org/nutrition",occupancy:"http://schema.org/occupancy",occupationLocation:"http://schema.org/occupationLocation",occupationalCategory:"http://schema.org/occupationalCategory",offerCount:"http://schema.org/offerCount",offers:"http://schema.org/offers",openingHours:"http://schema.org/openingHours",openingHoursSpecification:"http://schema.org/openingHoursSpecification",opens:"http://schema.org/opens",operatingSystem:"http://schema.org/operatingSystem",opponent:"http://schema.org/opponent",option:"http://schema.org/option",orderDate:"http://schema.org/orderDate",orderDelivery:"http://schema.org/orderDelivery",orderItemNumber:"http://schema.org/orderItemNumber",orderItemStatus:"http://schema.org/orderItemStatus",orderNumber:"http://schema.org/orderNumber",orderQuantity:"http://schema.org/orderQuantity",orderStatus:"http://schema.org/orderStatus",orderedItem:"http://schema.org/orderedItem",organizer:"http://schema.org/organizer",originAddress:"http://schema.org/originAddress",ownedFrom:"http://schema.org/ownedFrom",ownedThrough:"http://schema.org/ownedThrough",owns:"http://schema.org/owns",pageEnd:"http://schema.org/pageEnd",pageStart:"http://schema.org/pageStart",pagination:"http://schema.org/pagination",parentItem:"http://schema.org/parentItem",parentService:"http://schema.org/parentService",parents:"http://schema.org/parents",partOfEpisode:"http://schema.org/partOfEpisode",partOfInvoice:"http://schema.org/partOfInvoice",partOfOrder:"http://schema.org/partOfOrder",partOfSeason:"http://schema.org/partOfSeason",partOfTVSeries:"http://schema.org/partOfTVSeries",partySize:"http://schema.org/partySize",passengerPriorityStatus:"http://schema.org/passengerPriorityStatus",passengerSequenceNumber:"http://schema.org/passengerSequenceNumber",paymentAccepted:"http://schema.org/paymentAccepted",paymentDue:"http://schema.org/paymentDue",paymentMethod:"http://schema.org/paymentMethod",paymentMethodId:"http://schema.org/paymentMethodId",paymentStatus:"http://schema.org/paymentStatus",paymentUrl:"http://schema.org/paymentUrl",percentile10:"http://schema.org/percentile10",percentile25:"http://schema.org/percentile25",percentile75:"http://schema.org/percentile75",percentile90:"http://schema.org/percentile90",performerIn:"http://schema.org/performerIn",performers:"http://schema.org/performers",permissionType:"http://schema.org/permissionType",permissions:"http://schema.org/permissions",permitAudience:"http://schema.org/permitAudience",permittedUsage:"http://schema.org/permittedUsage",petsAllowed:"http://schema.org/petsAllowed",photos:"http://schema.org/photos",pickupLocation:"http://schema.org/pickupLocation",pickupTime:"http://schema.org/pickupTime",playMode:"http://schema.org/playMode",playerType:"http://schema.org/playerType",playersOnline:"http://schema.org/playersOnline",polygon:"http://schema.org/polygon",postOfficeBoxNumber:"http://schema.org/postOfficeBoxNumber",postalCode:"http://schema.org/postalCode",potentialAction:"http://schema.org/potentialAction",predecessorOf:"http://schema.org/predecessorOf",prepTime:"http://schema.org/prepTime",previousItem:"http://schema.org/previousItem",previousStartDate:"http://schema.org/previousStartDate",price:"http://schema.org/price",priceComponent:"http://schema.org/priceComponent",priceCurrency:"http://schema.org/priceCurrency",priceRange:"http://schema.org/priceRange",priceSpecification:"http://schema.org/priceSpecification",priceType:"http://schema.org/priceType",priceValidUntil:"http://schema.org/priceValidUntil",primaryImageOfPage:"http://schema.org/primaryImageOfPage",printColumn:"http://schema.org/printColumn",printEdition:"http://schema.org/printEdition",printPage:"http://schema.org/printPage",printSection:"http://schema.org/printSection",processingTime:"http://schema.org/processingTime",processorRequirements:"http://schema.org/processorRequirements",producer:"http://schema.org/producer",produces:"http://schema.org/produces",productID:"http://schema.org/productID",productSupported:"http://schema.org/productSupported",productionCompany:"http://schema.org/productionCompany",productionDate:"http://schema.org/productionDate",proficiencyLevel:"http://schema.org/proficiencyLevel",programMembershipUsed:"http://schema.org/programMembershipUsed",programName:"http://schema.org/programName",programmingLanguage:"http://schema.org/programmingLanguage",programmingModel:"http://schema.org/programmingModel",propertyID:"http://schema.org/propertyID",proteinContent:"http://schema.org/proteinContent",providerMobility:"http://schema.org/providerMobility",providesService:"http://schema.org/providesService",publicAccess:"http://schema.org/publicAccess",publication:"http://schema.org/publication",publishedOn:"http://schema.org/publishedOn",publisher:"http://schema.org/publisher",publishingPrinciples:"http://schema.org/publishingPrinciples",purchaseDate:"http://schema.org/purchaseDate",query:"http://schema.org/query",quest:"http://schema.org/quest",question:"http://schema.org/question",ratingCount:"http://schema.org/ratingCount",ratingValue:"http://schema.org/ratingValue",readonlyValue:"http://schema.org/readonlyValue",realEstateAgent:"http://schema.org/realEstateAgent",recipe:"http://schema.org/recipe",recipeCategory:"http://schema.org/recipeCategory",recipeCuisine:"http://schema.org/recipeCuisine",recipeInstructions:"http://schema.org/recipeInstructions",recipeYield:"http://schema.org/recipeYield",recordLabel:"http://schema.org/recordLabel",referenceQuantity:"http://schema.org/referenceQuantity",referencesOrder:"http://schema.org/referencesOrder",regionsAllowed:"http://schema.org/regionsAllowed",relatedLink:"http://schema.org/relatedLink",relatedTo:"http://schema.org/relatedTo",releaseDate:"http://schema.org/releaseDate",releaseNotes:"http://schema.org/releaseNotes",releasedEvent:"http://schema.org/releasedEvent",relevantOccupation:"http://schema.org/relevantOccupation",remainingAttendeeCapacity:"http://schema.org/remainingAttendeeCapacity",replacee:"http://schema.org/replacee",replacer:"http://schema.org/replacer",replyToUrl:"http://schema.org/replyToUrl",reportNumber:"http://schema.org/reportNumber",representativeOfPage:"http://schema.org/representativeOfPage",requiredCollateral:"http://schema.org/requiredCollateral",requiredGender:"http://schema.org/requiredGender",requiredMaxAge:"http://schema.org/requiredMaxAge",requiredMinAge:"http://schema.org/requiredMinAge",requiredQuantity:"http://schema.org/requiredQuantity",requirements:"http://schema.org/requirements",requiresSubscription:"http://schema.org/requiresSubscription",reservationFor:"http://schema.org/reservationFor",reservationId:"http://schema.org/reservationId",reservationStatus:"http://schema.org/reservationStatus",reservedTicket:"http://schema.org/reservedTicket",responsibilities:"http://schema.org/responsibilities",resultComment:"http://schema.org/resultComment",resultReview:"http://schema.org/resultReview",reviewAspect:"http://schema.org/reviewAspect",reviewBody:"http://schema.org/reviewBody",reviewCount:"http://schema.org/reviewCount",reviewRating:"http://schema.org/reviewRating",reviewedBy:"http://schema.org/reviewedBy",reviews:"http://schema.org/reviews",rsvpResponse:"http://schema.org/rsvpResponse",runtime:"http://schema.org/runtime",salaryCurrency:"http://schema.org/salaryCurrency",sameAs:"http://schema.org/sameAs",sampleType:"http://schema.org/sampleType",saturatedFatContent:"http://schema.org/saturatedFatContent",scheduledPaymentDate:"http://schema.org/scheduledPaymentDate",scheduledTime:"http://schema.org/scheduledTime",schemaVersion:"http://schema.org/schemaVersion",screenCount:"http://schema.org/screenCount",screenshot:"http://schema.org/screenshot",seasonNumber:"http://schema.org/seasonNumber",seasons:"http://schema.org/seasons",seatNumber:"http://schema.org/seatNumber",seatRow:"http://schema.org/seatRow",seatSection:"http://schema.org/seatSection",seatingType:"http://schema.org/seatingType",securityScreening:"http://schema.org/securityScreening",seeks:"http://schema.org/seeks",sender:"http://schema.org/sender",serverStatus:"http://schema.org/serverStatus",servesCuisine:"http://schema.org/servesCuisine",serviceAudience:"http://schema.org/serviceAudience",serviceLocation:"http://schema.org/serviceLocation",serviceOperator:"http://schema.org/serviceOperator",servicePhone:"http://schema.org/servicePhone",servicePostalAddress:"http://schema.org/servicePostalAddress",serviceSmsNumber:"http://schema.org/serviceSmsNumber",serviceType:"http://schema.org/serviceType",serviceUrl:"http://schema.org/serviceUrl",servingSize:"http://schema.org/servingSize",sharedContent:"http://schema.org/sharedContent",siblings:"http://schema.org/siblings",significantLinks:"http://schema.org/significantLinks",skills:"http://schema.org/skills",sku:"http://schema.org/sku",slogan:"http://schema.org/slogan",smokingAllowed:"http://schema.org/smokingAllowed",sodiumContent:"http://schema.org/sodiumContent",softwareAddOn:"http://schema.org/softwareAddOn",softwareHelp:"http://schema.org/softwareHelp",softwareVersion:"http://schema.org/softwareVersion",sourceOrganization:"http://schema.org/sourceOrganization",spatial:"http://schema.org/spatial",spatialCoverage:"http://schema.org/spatialCoverage",speakable:"http://schema.org/speakable",specialCommitments:"http://schema.org/specialCommitments",specialOpeningHoursSpecification:"http://schema.org/specialOpeningHoursSpecification",specialty:"http://schema.org/specialty",sport:"http://schema.org/sport",sportsActivityLocation:"http://schema.org/sportsActivityLocation",sportsEvent:"http://schema.org/sportsEvent",sportsTeam:"http://schema.org/sportsTeam",spouse:"http://schema.org/spouse",starRating:"http://schema.org/starRating",startDate:"http://schema.org/startDate",startTime:"http://schema.org/startTime",steeringPosition:"http://schema.org/steeringPosition",stepValue:"http://schema.org/stepValue",steps:"http://schema.org/steps",storageRequirements:"http://schema.org/storageRequirements",streetAddress:"http://schema.org/streetAddress",subEvents:"http://schema.org/subEvents",subReservation:"http://schema.org/subReservation",subtitleLanguage:"http://schema.org/subtitleLanguage",successorOf:"http://schema.org/successorOf",sugarContent:"http://schema.org/sugarContent",suggestedGender:"http://schema.org/suggestedGender",suggestedMaxAge:"http://schema.org/suggestedMaxAge",suggestedMinAge:"http://schema.org/suggestedMinAge",suitableForDiet:"http://schema.org/suitableForDiet",supportingData:"http://schema.org/supportingData",surface:"http://schema.org/surface",target:"http://schema.org/target",targetDescription:"http://schema.org/targetDescription",targetName:"http://schema.org/targetName",targetPlatform:"http://schema.org/targetPlatform",targetProduct:"http://schema.org/targetProduct",targetUrl:"http://schema.org/targetUrl",taxID:"http://schema.org/taxID",telephone:"http://schema.org/telephone",temporal:"http://schema.org/temporal",text:"http://schema.org/text",thumbnail:"http://schema.org/thumbnail",thumbnailUrl:"http://schema.org/thumbnailUrl",tickerSymbol:"http://schema.org/tickerSymbol",ticketNumber:"http://schema.org/ticketNumber",ticketToken:"http://schema.org/ticketToken",ticketedSeat:"http://schema.org/ticketedSeat",timeRequired:"http://schema.org/timeRequired",title:"http://schema.org/title",toLocation:"http://schema.org/toLocation",toRecipient:"http://schema.org/toRecipient",tool:"http://schema.org/tool",totalPaymentDue:"http://schema.org/totalPaymentDue",totalPrice:"http://schema.org/totalPrice",totalTime:"http://schema.org/totalTime",touristType:"http://schema.org/touristType",trackingNumber:"http://schema.org/trackingNumber",trackingUrl:"http://schema.org/trackingUrl",tracks:"http://schema.org/tracks",trailer:"http://schema.org/trailer",trainName:"http://schema.org/trainName",trainNumber:"http://schema.org/trainNumber",transFatContent:"http://schema.org/transFatContent",transcript:"http://schema.org/transcript",translator:"http://schema.org/translator",typeOfBed:"http://schema.org/typeOfBed",typeOfGood:"http://schema.org/typeOfGood",typicalAgeRange:"http://schema.org/typicalAgeRange",underName:"http://schema.org/underName",unitCode:"http://schema.org/unitCode",unitText:"http://schema.org/unitText",unsaturatedFatContent:"http://schema.org/unsaturatedFatContent",uploadDate:"http://schema.org/uploadDate",upvoteCount:"http://schema.org/upvoteCount",url:"http://schema.org/url",urlTemplate:"http://schema.org/urlTemplate",userInteractionCount:"http://schema.org/userInteractionCount",validFor:"http://schema.org/validFor",validFrom:"http://schema.org/validFrom",validIn:"http://schema.org/validIn",validThrough:"http://schema.org/validThrough",validUntil:"http://schema.org/validUntil",value:"http://schema.org/value",valueAddedTaxIncluded:"http://schema.org/valueAddedTaxIncluded",valueMaxLength:"http://schema.org/valueMaxLength",valueMinLength:"http://schema.org/valueMinLength",valueName:"http://schema.org/valueName",valuePattern:"http://schema.org/valuePattern",valueReference:"http://schema.org/valueReference",valueRequired:"http://schema.org/valueRequired",vatID:"http://schema.org/vatID",vehicleConfiguration:"http://schema.org/vehicleConfiguration",vehicleEngine:"http://schema.org/vehicleEngine",vehicleIdentificationNumber:"http://schema.org/vehicleIdentificationNumber",vehicleInteriorColor:"http://schema.org/vehicleInteriorColor",vehicleInteriorType:"http://schema.org/vehicleInteriorType",vehicleModelDate:"http://schema.org/vehicleModelDate",vehicleSeatingCapacity:"http://schema.org/vehicleSeatingCapacity",vehicleTransmission:"http://schema.org/vehicleTransmission",vendor:"http://schema.org/vendor",version:"http://schema.org/version",video:"http://schema.org/video",videoFormat:"http://schema.org/videoFormat",videoFrameSize:"http://schema.org/videoFrameSize",videoQuality:"http://schema.org/videoQuality",volumeNumber:"http://schema.org/volumeNumber",warrantyPromise:"http://schema.org/warrantyPromise",warrantyScope:"http://schema.org/warrantyScope",webCheckinTime:"http://schema.org/webCheckinTime",weight:"http://schema.org/weight",width:"http://schema.org/width",winner:"http://schema.org/winner",wordCount:"http://schema.org/wordCount",workHours:"http://schema.org/workHours",workLocation:"http://schema.org/workLocation",workPerformed:"http://schema.org/workPerformed",workPresented:"http://schema.org/workPresented",worksFor:"http://schema.org/worksFor",worstRating:"http://schema.org/worstRating",xpath:"http://schema.org/xpath",yearlyRevenue:"http://schema.org/yearlyRevenue",yearsInOperation:"http://schema.org/yearsInOperation",actionApplication:"http://schema.org/actionApplication",actionOption:"http://schema.org/actionOption",actor:"http://schema.org/actor",album:"http://schema.org/album",albumRelease:"http://schema.org/albumRelease",alumni:"http://schema.org/alumni",alumniOf:"http://schema.org/alumniOf",artworkSurface:"http://schema.org/artworkSurface",attendee:"http://schema.org/attendee",audience:"http://schema.org/audience",availableOnDevice:"http://schema.org/availableOnDevice",award:"http://schema.org/award",blogPost:"http://schema.org/blogPost",broker:"http://schema.org/broker",codeSampleType:"http://schema.org/codeSampleType",colleague:"http://schema.org/colleague",contactPoint:"http://schema.org/contactPoint",containsPlace:"http://schema.org/containsPlace",containsSeason:"http://schema.org/containsSeason",contentLocation:"http://schema.org/contentLocation",dataset:"http://schema.org/dataset",description:"http://schema.org/description",director:"http://schema.org/director",duration:"http://schema.org/duration",employee:"http://schema.org/employee",encodesCreativeWork:"http://schema.org/encodesCreativeWork",encodingFormat:"http://schema.org/encodingFormat",episode:"http://schema.org/episode",event:"http://schema.org/event",exampleOfWork:"http://schema.org/exampleOfWork",executableLibraryName:"http://schema.org/executableLibraryName",exerciseCourse:"http://schema.org/exerciseCourse",founder:"http://schema.org/founder",game:"http://schema.org/game",gameServer:"http://schema.org/gameServer",hasBroadcastChannel:"http://schema.org/hasBroadcastChannel",hasMenu:"http://schema.org/hasMenu",inLanguage:"http://schema.org/inLanguage",incentiveCompensation:"http://schema.org/incentiveCompensation",interactionStatistic:"http://schema.org/interactionStatistic",isAccessibleForFree:"http://schema.org/isAccessibleForFree",isBasedOn:"http://schema.org/isBasedOn",jobBenefits:"http://schema.org/jobBenefits",mainEntity:"http://schema.org/mainEntity",mainEntityOfPage:"http://schema.org/mainEntityOfPage",makesOffer:"http://schema.org/makesOffer",offeredBy:"http://schema.org/offeredBy",parent:"http://schema.org/parent",partOfSeries:"http://schema.org/partOfSeries",paymentDueDate:"http://schema.org/paymentDueDate",performTime:"http://schema.org/performTime",performer:"http://schema.org/performer",photo:"http://schema.org/photo",provider:"http://schema.org/provider",providesBroadcastService:"http://schema.org/providesBroadcastService",recipeIngredient:"http://schema.org/recipeIngredient",recordedAs:"http://schema.org/recordedAs",recordedAt:"http://schema.org/recordedAt",recordedIn:"http://schema.org/recordedIn",recordingOf:"http://schema.org/recordingOf",releaseOf:"http://schema.org/releaseOf",review:"http://schema.org/review",roleName:"http://schema.org/roleName",runtimePlatform:"http://schema.org/runtimePlatform",season:"http://schema.org/season",serialNumber:"http://schema.org/serialNumber",serviceArea:"http://schema.org/serviceArea",serviceOutput:"http://schema.org/serviceOutput",sibling:"http://schema.org/sibling",significantLink:"http://schema.org/significantLink",softwareRequirements:"http://schema.org/softwareRequirements",sponsor:"http://schema.org/sponsor",subOrganization:"http://schema.org/subOrganization",subjectOf:"http://schema.org/subjectOf",suggestedAnswer:"http://schema.org/suggestedAnswer",superEvent:"http://schema.org/superEvent",targetCollection:"http://schema.org/targetCollection",temporalCoverage:"http://schema.org/temporalCoverage",track:"http://schema.org/track",warranty:"http://schema.org/warranty",workExample:"http://schema.org/workExample",yield__workaround:"http://schema.org/yield",about:"http://schema.org/about",competitor:"http://schema.org/competitor",containedInPlace:"http://schema.org/containedInPlace",encoding:"http://schema.org/encoding",hasMap:"http://schema.org/hasMap",image:"http://schema.org/image",material:"http://schema.org/material",memberOf:"http://schema.org/memberOf",parentOrganization:"http://schema.org/parentOrganization",result:"http://schema.org/result",seller:"http://schema.org/seller",step:"http://schema.org/step",subEvent:"http://schema.org/subEvent",supply:"http://schema.org/supply",workFeatured:"http://schema.org/workFeatured",areaServed:"http://schema.org/areaServed",includedInDataCatalog:"http://schema.org/includedInDataCatalog",member:"http://schema.org/member",recipient:"http://schema.org/recipient",hasPart:"http://schema.org/hasPart",isPartOf:"http://schema.org/isPartOf",position:"http://schema.org/position",instrument:"http://schema.org/instrument",object:"http://schema.org/object",location:"http://schema.org/location",participant:"http://schema.org/participant",identifier:"http://schema.org/identifier",AMRadioChannel:"http://schema.org/AMRadioChannel",APIReference:"http://schema.org/APIReference",AboutPage:"http://schema.org/AboutPage",AcceptAction:"http://schema.org/AcceptAction",Accommodation:"http://schema.org/Accommodation",AccountingService:"http://schema.org/AccountingService",AchieveAction:"http://schema.org/AchieveAction",Action:"http://schema.org/Action",ActionAccessSpecification:"http://schema.org/ActionAccessSpecification",ActionStatusType:"http://schema.org/ActionStatusType",ActivateAction:"http://schema.org/ActivateAction",AddAction:"http://schema.org/AddAction",AdministrativeArea:"http://schema.org/AdministrativeArea",AdultEntertainment:"http://schema.org/AdultEntertainment",AggregateOffer:"http://schema.org/AggregateOffer",AggregateRating:"http://schema.org/AggregateRating",AgreeAction:"http://schema.org/AgreeAction",Airline:"http://schema.org/Airline",Airport:"http://schema.org/Airport",AlignmentObject:"http://schema.org/AlignmentObject",AllocateAction:"http://schema.org/AllocateAction",AmusementPark:"http://schema.org/AmusementPark",AnimalShelter:"http://schema.org/AnimalShelter",Answer:"http://schema.org/Answer",Apartment:"http://schema.org/Apartment",ApartmentComplex:"http://schema.org/ApartmentComplex",AppendAction:"http://schema.org/AppendAction",ApplyAction:"http://schema.org/ApplyAction",Aquarium:"http://schema.org/Aquarium",ArriveAction:"http://schema.org/ArriveAction",ArtGallery:"http://schema.org/ArtGallery",Article:"http://schema.org/Article",AskAction:"http://schema.org/AskAction",AssessAction:"http://schema.org/AssessAction",AssignAction:"http://schema.org/AssignAction",Attorney:"http://schema.org/Attorney",Audience:"http://schema.org/Audience",AudioObject:"http://schema.org/AudioObject",AuthorizeAction:"http://schema.org/AuthorizeAction",AutoBodyShop:"http://schema.org/AutoBodyShop",AutoDealer:"http://schema.org/AutoDealer",AutoPartsStore:"http://schema.org/AutoPartsStore",AutoRental:"http://schema.org/AutoRental",AutoRepair:"http://schema.org/AutoRepair",AutoWash:"http://schema.org/AutoWash",AutomatedTeller:"http://schema.org/AutomatedTeller",AutomotiveBusiness:"http://schema.org/AutomotiveBusiness",Bakery:"http://schema.org/Bakery",BankAccount:"http://schema.org/BankAccount",BankOrCreditUnion:"http://schema.org/BankOrCreditUnion",BarOrPub:"http://schema.org/BarOrPub",Barcode:"http://schema.org/Barcode",Beach:"http://schema.org/Beach",BeautySalon:"http://schema.org/BeautySalon",BedAndBreakfast:"http://schema.org/BedAndBreakfast",BedDetails:"http://schema.org/BedDetails",BedType:"http://schema.org/BedType",BefriendAction:"http://schema.org/BefriendAction",BikeStore:"http://schema.org/BikeStore",Blog:"http://schema.org/Blog",BlogPosting:"http://schema.org/BlogPosting",BoardingPolicyType:"http://schema.org/BoardingPolicyType",BodyOfWater:"http://schema.org/BodyOfWater",Book:"http://schema.org/Book",BookFormatType:"http://schema.org/BookFormatType",BookSeries:"http://schema.org/BookSeries",BookStore:"http://schema.org/BookStore",BookmarkAction:"http://schema.org/BookmarkAction",Boolean__workaround:"http://schema.org/Boolean",BorrowAction:"http://schema.org/BorrowAction",BowlingAlley:"http://schema.org/BowlingAlley",Brand:"http://schema.org/Brand",BreadcrumbList:"http://schema.org/BreadcrumbList",Brewery:"http://schema.org/Brewery",Bridge:"http://schema.org/Bridge",BroadcastChannel:"http://schema.org/BroadcastChannel",BroadcastEvent:"http://schema.org/BroadcastEvent",BroadcastFrequencySpecification:"http://schema.org/BroadcastFrequencySpecification",BroadcastService:"http://schema.org/BroadcastService",BuddhistTemple:"http://schema.org/BuddhistTemple",BusReservation:"http://schema.org/BusReservation",BusStation:"http://schema.org/BusStation",BusStop:"http://schema.org/BusStop",BusTrip:"http://schema.org/BusTrip",BusinessAudience:"http://schema.org/BusinessAudience",BusinessEntityType:"http://schema.org/BusinessEntityType",BusinessEvent:"http://schema.org/BusinessEvent",BusinessFunction:"http://schema.org/BusinessFunction",BuyAction:"http://schema.org/BuyAction",CableOrSatelliteService:"http://schema.org/CableOrSatelliteService",CafeOrCoffeeShop:"http://schema.org/CafeOrCoffeeShop",Campground:"http://schema.org/Campground",CampingPitch:"http://schema.org/CampingPitch",Canal:"http://schema.org/Canal",CancelAction:"http://schema.org/CancelAction",Car:"http://schema.org/Car",Casino:"http://schema.org/Casino",CatholicChurch:"http://schema.org/CatholicChurch",Cemetery:"http://schema.org/Cemetery",CheckAction:"http://schema.org/CheckAction",CheckInAction:"http://schema.org/CheckInAction",CheckOutAction:"http://schema.org/CheckOutAction",CheckoutPage:"http://schema.org/CheckoutPage",ChildCare:"http://schema.org/ChildCare",ChildrensEvent:"http://schema.org/ChildrensEvent",ChooseAction:"http://schema.org/ChooseAction",Church:"http://schema.org/Church",City:"http://schema.org/City",CityHall:"http://schema.org/CityHall",CivicStructure:"http://schema.org/CivicStructure",ClaimReview:"http://schema.org/ClaimReview",Clip:"http://schema.org/Clip",ClothingStore:"http://schema.org/ClothingStore",Code:"http://schema.org/Code",CollectionPage:"http://schema.org/CollectionPage",CollegeOrUniversity:"http://schema.org/CollegeOrUniversity",ComedyClub:"http://schema.org/ComedyClub",ComedyEvent:"http://schema.org/ComedyEvent",Comment:"http://schema.org/Comment",CommentAction:"http://schema.org/CommentAction",CommunicateAction:"http://schema.org/CommunicateAction",CompoundPriceSpecification:"http://schema.org/CompoundPriceSpecification",ComputerLanguage:"http://schema.org/ComputerLanguage",ComputerStore:"http://schema.org/ComputerStore",ConfirmAction:"http://schema.org/ConfirmAction",ConsumeAction:"http://schema.org/ConsumeAction",ContactPage:"http://schema.org/ContactPage",ContactPoint:"http://schema.org/ContactPoint",ContactPointOption:"http://schema.org/ContactPointOption",Continent:"http://schema.org/Continent",ControlAction:"http://schema.org/ControlAction",ConvenienceStore:"http://schema.org/ConvenienceStore",Conversation:"http://schema.org/Conversation",CookAction:"http://schema.org/CookAction",Corporation:"http://schema.org/Corporation",Country:"http://schema.org/Country",Course:"http://schema.org/Course",CourseInstance:"http://schema.org/CourseInstance",Courthouse:"http://schema.org/Courthouse",CreateAction:"http://schema.org/CreateAction",CreativeWork:"http://schema.org/CreativeWork",CreativeWorkSeason:"http://schema.org/CreativeWorkSeason",CreativeWorkSeries:"http://schema.org/CreativeWorkSeries",CreditCard:"http://schema.org/CreditCard",Crematorium:"http://schema.org/Crematorium",CurrencyConversionService:"http://schema.org/CurrencyConversionService",DanceEvent:"http://schema.org/DanceEvent",DanceGroup:"http://schema.org/DanceGroup",DataCatalog:"http://schema.org/DataCatalog",DataDownload:"http://schema.org/DataDownload",DataFeed:"http://schema.org/DataFeed",DataFeedItem:"http://schema.org/DataFeedItem",DataType:"http://schema.org/DataType",Dataset:"http://schema.org/Dataset",Date__workaround:"http://schema.org/Date",DateTime:"http://schema.org/DateTime",DatedMoneySpecification:"http://schema.org/DatedMoneySpecification",DayOfWeek:"http://schema.org/DayOfWeek",DaySpa:"http://schema.org/DaySpa",DeactivateAction:"http://schema.org/DeactivateAction",DefenceEstablishment:"http://schema.org/DefenceEstablishment",DeleteAction:"http://schema.org/DeleteAction",DeliveryChargeSpecification:"http://schema.org/DeliveryChargeSpecification",DeliveryEvent:"http://schema.org/DeliveryEvent",DeliveryMethod:"http://schema.org/DeliveryMethod",Demand:"http://schema.org/Demand",Dentist:"http://schema.org/Dentist",DepartAction:"http://schema.org/DepartAction",DepartmentStore:"http://schema.org/DepartmentStore",DepositAccount:"http://schema.org/DepositAccount",DigitalDocument:"http://schema.org/DigitalDocument",DigitalDocumentPermission:"http://schema.org/DigitalDocumentPermission",DigitalDocumentPermissionType:"http://schema.org/DigitalDocumentPermissionType",DisagreeAction:"http://schema.org/DisagreeAction",DiscoverAction:"http://schema.org/DiscoverAction",DiscussionForumPosting:"http://schema.org/DiscussionForumPosting",DislikeAction:"http://schema.org/DislikeAction",Distance:"http://schema.org/Distance",Distillery:"http://schema.org/Distillery",DonateAction:"http://schema.org/DonateAction",DownloadAction:"http://schema.org/DownloadAction",DrawAction:"http://schema.org/DrawAction",DrinkAction:"http://schema.org/DrinkAction",DriveWheelConfigurationValue:"http://schema.org/DriveWheelConfigurationValue",DryCleaningOrLaundry:"http://schema.org/DryCleaningOrLaundry",Duration:"http://schema.org/Duration",EatAction:"http://schema.org/EatAction",EducationEvent:"http://schema.org/EducationEvent",EducationalAudience:"http://schema.org/EducationalAudience",EducationalOrganization:"http://schema.org/EducationalOrganization",Electrician:"http://schema.org/Electrician",ElectronicsStore:"http://schema.org/ElectronicsStore",ElementarySchool:"http://schema.org/ElementarySchool",EmailMessage:"http://schema.org/EmailMessage",Embassy:"http://schema.org/Embassy",EmergencyService:"http://schema.org/EmergencyService",EmployeeRole:"http://schema.org/EmployeeRole",EmployerAggregateRating:"http://schema.org/EmployerAggregateRating",EmploymentAgency:"http://schema.org/EmploymentAgency",EndorseAction:"http://schema.org/EndorseAction",EndorsementRating:"http://schema.org/EndorsementRating",Energy:"http://schema.org/Energy",EngineSpecification:"http://schema.org/EngineSpecification",EntertainmentBusiness:"http://schema.org/EntertainmentBusiness",EntryPoint:"http://schema.org/EntryPoint",Enumeration:"http://schema.org/Enumeration",Episode:"http://schema.org/Episode",Event:"http://schema.org/Event",EventReservation:"http://schema.org/EventReservation",EventStatusType:"http://schema.org/EventStatusType",EventVenue:"http://schema.org/EventVenue",ExerciseAction:"http://schema.org/ExerciseAction",ExerciseGym:"http://schema.org/ExerciseGym",ExhibitionEvent:"http://schema.org/ExhibitionEvent",FAQPage:"http://schema.org/FAQPage",FMRadioChannel:"http://schema.org/FMRadioChannel",FastFoodRestaurant:"http://schema.org/FastFoodRestaurant",Festival:"http://schema.org/Festival",FilmAction:"http://schema.org/FilmAction",FinancialProduct:"http://schema.org/FinancialProduct",FinancialService:"http://schema.org/FinancialService",FindAction:"http://schema.org/FindAction",FireStation:"http://schema.org/FireStation",Flight:"http://schema.org/Flight",FlightReservation:"http://schema.org/FlightReservation",Float:"http://schema.org/Float",Florist:"http://schema.org/Florist",FollowAction:"http://schema.org/FollowAction",FoodEstablishment:"http://schema.org/FoodEstablishment",FoodEstablishmentReservation:"http://schema.org/FoodEstablishmentReservation",FoodEvent:"http://schema.org/FoodEvent",FoodService:"http://schema.org/FoodService",FurnitureStore:"http://schema.org/FurnitureStore",Game:"http://schema.org/Game",GamePlayMode:"http://schema.org/GamePlayMode",GameServer:"http://schema.org/GameServer",GameServerStatus:"http://schema.org/GameServerStatus",GardenStore:"http://schema.org/GardenStore",GasStation:"http://schema.org/GasStation",GatedResidenceCommunity:"http://schema.org/GatedResidenceCommunity",GenderType:"http://schema.org/GenderType",GeneralContractor:"http://schema.org/GeneralContractor",GeoCircle:"http://schema.org/GeoCircle",GeoCoordinates:"http://schema.org/GeoCoordinates",GeoShape:"http://schema.org/GeoShape",GiveAction:"http://schema.org/GiveAction",GolfCourse:"http://schema.org/GolfCourse",GovernmentBuilding:"http://schema.org/GovernmentBuilding",GovernmentOffice:"http://schema.org/GovernmentOffice",GovernmentOrganization:"http://schema.org/GovernmentOrganization",GovernmentPermit:"http://schema.org/GovernmentPermit",GovernmentService:"http://schema.org/GovernmentService",GroceryStore:"http://schema.org/GroceryStore",HVACBusiness:"http://schema.org/HVACBusiness",HairSalon:"http://schema.org/HairSalon",HardwareStore:"http://schema.org/HardwareStore",HealthAndBeautyBusiness:"http://schema.org/HealthAndBeautyBusiness",HealthClub:"http://schema.org/HealthClub",HighSchool:"http://schema.org/HighSchool",HinduTemple:"http://schema.org/HinduTemple",HobbyShop:"http://schema.org/HobbyShop",HomeAndConstructionBusiness:"http://schema.org/HomeAndConstructionBusiness",HomeGoodsStore:"http://schema.org/HomeGoodsStore",Hospital:"http://schema.org/Hospital",Hostel:"http://schema.org/Hostel",Hotel:"http://schema.org/Hotel",HotelRoom:"http://schema.org/HotelRoom",House:"http://schema.org/House",HousePainter:"http://schema.org/HousePainter",HowTo:"http://schema.org/HowTo",HowToDirection:"http://schema.org/HowToDirection",HowToItem:"http://schema.org/HowToItem",HowToSection:"http://schema.org/HowToSection",HowToStep:"http://schema.org/HowToStep",HowToSupply:"http://schema.org/HowToSupply",HowToTip:"http://schema.org/HowToTip",HowToTool:"http://schema.org/HowToTool",IceCreamShop:"http://schema.org/IceCreamShop",IgnoreAction:"http://schema.org/IgnoreAction",ImageGallery:"http://schema.org/ImageGallery",ImageObject:"http://schema.org/ImageObject",IndividualProduct:"http://schema.org/IndividualProduct",InformAction:"http://schema.org/InformAction",InsertAction:"http://schema.org/InsertAction",InstallAction:"http://schema.org/InstallAction",InsuranceAgency:"http://schema.org/InsuranceAgency",Intangible:"http://schema.org/Intangible",Integer:"http://schema.org/Integer",InteractAction:"http://schema.org/InteractAction",InteractionCounter:"http://schema.org/InteractionCounter",InternetCafe:"http://schema.org/InternetCafe",InvestmentOrDeposit:"http://schema.org/InvestmentOrDeposit",InviteAction:"http://schema.org/InviteAction",Invoice:"http://schema.org/Invoice",ItemAvailability:"http://schema.org/ItemAvailability",ItemList:"http://schema.org/ItemList",ItemListOrderType:"http://schema.org/ItemListOrderType",ItemPage:"http://schema.org/ItemPage",JewelryStore:"http://schema.org/JewelryStore",JobPosting:"http://schema.org/JobPosting",JoinAction:"http://schema.org/JoinAction",LakeBodyOfWater:"http://schema.org/LakeBodyOfWater",Landform:"http://schema.org/Landform",LandmarksOrHistoricalBuildings:"http://schema.org/LandmarksOrHistoricalBuildings",Language:"http://schema.org/Language",LeaveAction:"http://schema.org/LeaveAction",LegalService:"http://schema.org/LegalService",LegislativeBuilding:"http://schema.org/LegislativeBuilding",LendAction:"http://schema.org/LendAction",Library:"http://schema.org/Library",LikeAction:"http://schema.org/LikeAction",LiquorStore:"http://schema.org/LiquorStore",ListItem:"http://schema.org/ListItem",ListenAction:"http://schema.org/ListenAction",LiteraryEvent:"http://schema.org/LiteraryEvent",LiveBlogPosting:"http://schema.org/LiveBlogPosting",LoanOrCredit:"http://schema.org/LoanOrCredit",LocalBusiness:"http://schema.org/LocalBusiness",LocationFeatureSpecification:"http://schema.org/LocationFeatureSpecification",LockerDelivery:"http://schema.org/LockerDelivery",Locksmith:"http://schema.org/Locksmith",LodgingBusiness:"http://schema.org/LodgingBusiness",LodgingReservation:"http://schema.org/LodgingReservation",LoseAction:"http://schema.org/LoseAction",Map__workaround:"http://schema.org/Map",MapCategoryType:"http://schema.org/MapCategoryType",MarryAction:"http://schema.org/MarryAction",Mass:"http://schema.org/Mass",MediaObject:"http://schema.org/MediaObject",MediaSubscription:"http://schema.org/MediaSubscription",MedicalOrganization:"http://schema.org/MedicalOrganization",MeetingRoom:"http://schema.org/MeetingRoom",MensClothingStore:"http://schema.org/MensClothingStore",Menu:"http://schema.org/Menu",MenuItem:"http://schema.org/MenuItem",MenuSection:"http://schema.org/MenuSection",Message:"http://schema.org/Message",MiddleSchool:"http://schema.org/MiddleSchool",MobileApplication:"http://schema.org/MobileApplication",MobilePhoneStore:"http://schema.org/MobilePhoneStore",MonetaryAmount:"http://schema.org/MonetaryAmount",MonetaryAmountDistribution:"http://schema.org/MonetaryAmountDistribution",Mosque:"http://schema.org/Mosque",Motel:"http://schema.org/Motel",MotorcycleDealer:"http://schema.org/MotorcycleDealer",MotorcycleRepair:"http://schema.org/MotorcycleRepair",Mountain:"http://schema.org/Mountain",MoveAction:"http://schema.org/MoveAction",Movie:"http://schema.org/Movie",MovieClip:"http://schema.org/MovieClip",MovieRentalStore:"http://schema.org/MovieRentalStore",MovieSeries:"http://schema.org/MovieSeries",MovieTheater:"http://schema.org/MovieTheater",MovingCompany:"http://schema.org/MovingCompany",Museum:"http://schema.org/Museum",MusicAlbum:"http://schema.org/MusicAlbum",MusicAlbumProductionType:"http://schema.org/MusicAlbumProductionType",MusicAlbumReleaseType:"http://schema.org/MusicAlbumReleaseType",MusicComposition:"http://schema.org/MusicComposition",MusicEvent:"http://schema.org/MusicEvent",MusicGroup:"http://schema.org/MusicGroup",MusicPlaylist:"http://schema.org/MusicPlaylist",MusicRecording:"http://schema.org/MusicRecording",MusicRelease:"http://schema.org/MusicRelease",MusicReleaseFormatType:"http://schema.org/MusicReleaseFormatType",MusicStore:"http://schema.org/MusicStore",MusicVenue:"http://schema.org/MusicVenue",MusicVideoObject:"http://schema.org/MusicVideoObject",NGO:"http://schema.org/NGO",NailSalon:"http://schema.org/NailSalon",NewsArticle:"http://schema.org/NewsArticle",NightClub:"http://schema.org/NightClub",Notary:"http://schema.org/Notary",NoteDigitalDocument:"http://schema.org/NoteDigitalDocument",Number__workaround:"http://schema.org/Number",NutritionInformation:"http://schema.org/NutritionInformation",Occupation:"http://schema.org/Occupation",OceanBodyOfWater:"http://schema.org/OceanBodyOfWater",Offer:"http://schema.org/Offer",OfferCatalog:"http://schema.org/OfferCatalog",OfferItemCondition:"http://schema.org/OfferItemCondition",OfficeEquipmentStore:"http://schema.org/OfficeEquipmentStore",OnDemandEvent:"http://schema.org/OnDemandEvent",OpeningHoursSpecification:"http://schema.org/OpeningHoursSpecification",Order:"http://schema.org/Order",OrderAction:"http://schema.org/OrderAction",OrderItem:"http://schema.org/OrderItem",OrderStatus:"http://schema.org/OrderStatus",Organization:"http://schema.org/Organization",OrganizationRole:"http://schema.org/OrganizationRole",OrganizeAction:"http://schema.org/OrganizeAction",OutletStore:"http://schema.org/OutletStore",OwnershipInfo:"http://schema.org/OwnershipInfo",PaintAction:"http://schema.org/PaintAction",Painting:"http://schema.org/Painting",ParcelDelivery:"http://schema.org/ParcelDelivery",ParcelService:"http://schema.org/ParcelService",ParentAudience:"http://schema.org/ParentAudience",Park:"http://schema.org/Park",ParkingFacility:"http://schema.org/ParkingFacility",PawnShop:"http://schema.org/PawnShop",PayAction:"http://schema.org/PayAction",PaymentCard:"http://schema.org/PaymentCard",PaymentChargeSpecification:"http://schema.org/PaymentChargeSpecification",PaymentMethod:"http://schema.org/PaymentMethod",PaymentService:"http://schema.org/PaymentService",PaymentStatusType:"http://schema.org/PaymentStatusType",PeopleAudience:"http://schema.org/PeopleAudience",PerformAction:"http://schema.org/PerformAction",PerformanceRole:"http://schema.org/PerformanceRole",PerformingArtsTheater:"http://schema.org/PerformingArtsTheater",PerformingGroup:"http://schema.org/PerformingGroup",Periodical:"http://schema.org/Periodical",Permit:"http://schema.org/Permit",Person:"http://schema.org/Person",PetStore:"http://schema.org/PetStore",Pharmacy:"http://schema.org/Pharmacy",Photograph:"http://schema.org/Photograph",PhotographAction:"http://schema.org/PhotographAction",Physician:"http://schema.org/Physician",Place:"http://schema.org/Place",PlaceOfWorship:"http://schema.org/PlaceOfWorship",PlanAction:"http://schema.org/PlanAction",PlayAction:"http://schema.org/PlayAction",Playground:"http://schema.org/Playground",Plumber:"http://schema.org/Plumber",PoliceStation:"http://schema.org/PoliceStation",Pond:"http://schema.org/Pond",PostOffice:"http://schema.org/PostOffice",PostalAddress:"http://schema.org/PostalAddress",PreOrderAction:"http://schema.org/PreOrderAction",PrependAction:"http://schema.org/PrependAction",Preschool:"http://schema.org/Preschool",PresentationDigitalDocument:"http://schema.org/PresentationDigitalDocument",PriceSpecification:"http://schema.org/PriceSpecification",Product:"http://schema.org/Product",ProductModel:"http://schema.org/ProductModel",ProfessionalService:"http://schema.org/ProfessionalService",ProfilePage:"http://schema.org/ProfilePage",ProgramMembership:"http://schema.org/ProgramMembership",PropertyValue:"http://schema.org/PropertyValue",PropertyValueSpecification:"http://schema.org/PropertyValueSpecification",PublicSwimmingPool:"http://schema.org/PublicSwimmingPool",PublicationEvent:"http://schema.org/PublicationEvent",PublicationIssue:"http://schema.org/PublicationIssue",PublicationVolume:"http://schema.org/PublicationVolume",QAPage:"http://schema.org/QAPage",QualitativeValue:"http://schema.org/QualitativeValue",QuantitativeValue:"http://schema.org/QuantitativeValue",QuantitativeValueDistribution:"http://schema.org/QuantitativeValueDistribution",Quantity:"http://schema.org/Quantity",Question:"http://schema.org/Question",QuoteAction:"http://schema.org/QuoteAction",RVPark:"http://schema.org/RVPark",RadioChannel:"http://schema.org/RadioChannel",RadioClip:"http://schema.org/RadioClip",RadioEpisode:"http://schema.org/RadioEpisode",RadioSeason:"http://schema.org/RadioSeason",RadioSeries:"http://schema.org/RadioSeries",RadioStation:"http://schema.org/RadioStation",Rating:"http://schema.org/Rating",ReactAction:"http://schema.org/ReactAction",ReadAction:"http://schema.org/ReadAction",RealEstateAgent:"http://schema.org/RealEstateAgent",ReceiveAction:"http://schema.org/ReceiveAction",Recipe:"http://schema.org/Recipe",RecyclingCenter:"http://schema.org/RecyclingCenter",RegisterAction:"http://schema.org/RegisterAction",RejectAction:"http://schema.org/RejectAction",RentAction:"http://schema.org/RentAction",RentalCarReservation:"http://schema.org/RentalCarReservation",ReplaceAction:"http://schema.org/ReplaceAction",ReplyAction:"http://schema.org/ReplyAction",Report:"http://schema.org/Report",Reservation:"http://schema.org/Reservation",ReservationPackage:"http://schema.org/ReservationPackage",ReservationStatusType:"http://schema.org/ReservationStatusType",ReserveAction:"http://schema.org/ReserveAction",Reservoir:"http://schema.org/Reservoir",Residence:"http://schema.org/Residence",Resort:"http://schema.org/Resort",Restaurant:"http://schema.org/Restaurant",RestrictedDiet:"http://schema.org/RestrictedDiet",ResumeAction:"http://schema.org/ResumeAction",ReturnAction:"http://schema.org/ReturnAction",Review:"http://schema.org/Review",ReviewAction:"http://schema.org/ReviewAction",RiverBodyOfWater:"http://schema.org/RiverBodyOfWater",Role:"http://schema.org/Role",RoofingContractor:"http://schema.org/RoofingContractor",Room:"http://schema.org/Room",RsvpAction:"http://schema.org/RsvpAction",RsvpResponseType:"http://schema.org/RsvpResponseType",SaleEvent:"http://schema.org/SaleEvent",ScheduleAction:"http://schema.org/ScheduleAction",ScholarlyArticle:"http://schema.org/ScholarlyArticle",School:"http://schema.org/School",ScreeningEvent:"http://schema.org/ScreeningEvent",Sculpture:"http://schema.org/Sculpture",SeaBodyOfWater:"http://schema.org/SeaBodyOfWater",SearchAction:"http://schema.org/SearchAction",SearchResultsPage:"http://schema.org/SearchResultsPage",Season:"http://schema.org/Season",Seat:"http://schema.org/Seat",SelfStorage:"http://schema.org/SelfStorage",SellAction:"http://schema.org/SellAction",SendAction:"http://schema.org/SendAction",Series:"http://schema.org/Series",Service:"http://schema.org/Service",ServiceChannel:"http://schema.org/ServiceChannel",ShareAction:"http://schema.org/ShareAction",ShoeStore:"http://schema.org/ShoeStore",ShoppingCenter:"http://schema.org/ShoppingCenter",SingleFamilyResidence:"http://schema.org/SingleFamilyResidence",SiteNavigationElement:"http://schema.org/SiteNavigationElement",SkiResort:"http://schema.org/SkiResort",SocialEvent:"http://schema.org/SocialEvent",SocialMediaPosting:"http://schema.org/SocialMediaPosting",SoftwareApplication:"http://schema.org/SoftwareApplication",SoftwareSourceCode:"http://schema.org/SoftwareSourceCode",SomeProducts:"http://schema.org/SomeProducts",SpeakableSpecification:"http://schema.org/SpeakableSpecification",Specialty:"http://schema.org/Specialty",SportingGoodsStore:"http://schema.org/SportingGoodsStore",SportsActivityLocation:"http://schema.org/SportsActivityLocation",SportsClub:"http://schema.org/SportsClub",SportsEvent:"http://schema.org/SportsEvent",SportsOrganization:"http://schema.org/SportsOrganization",SportsTeam:"http://schema.org/SportsTeam",SpreadsheetDigitalDocument:"http://schema.org/SpreadsheetDigitalDocument",StadiumOrArena:"http://schema.org/StadiumOrArena",State:"http://schema.org/State",SteeringPositionValue:"http://schema.org/SteeringPositionValue",Store:"http://schema.org/Store",StructuredValue:"http://schema.org/StructuredValue",SubscribeAction:"http://schema.org/SubscribeAction",SubwayStation:"http://schema.org/SubwayStation",Suite:"http://schema.org/Suite",SuspendAction:"http://schema.org/SuspendAction",Synagogue:"http://schema.org/Synagogue",TVClip:"http://schema.org/TVClip",TVEpisode:"http://schema.org/TVEpisode",TVSeason:"http://schema.org/TVSeason",TVSeries:"http://schema.org/TVSeries",Table:"http://schema.org/Table",TakeAction:"http://schema.org/TakeAction",TattooParlor:"http://schema.org/TattooParlor",Taxi:"http://schema.org/Taxi",TaxiReservation:"http://schema.org/TaxiReservation",TaxiService:"http://schema.org/TaxiService",TaxiStand:"http://schema.org/TaxiStand",TechArticle:"http://schema.org/TechArticle",TelevisionChannel:"http://schema.org/TelevisionChannel",TelevisionStation:"http://schema.org/TelevisionStation",TennisComplex:"http://schema.org/TennisComplex",Text:"http://schema.org/Text",TextDigitalDocument:"http://schema.org/TextDigitalDocument",TheaterEvent:"http://schema.org/TheaterEvent",TheaterGroup:"http://schema.org/TheaterGroup",Thing:"http://schema.org/Thing",Ticket:"http://schema.org/Ticket",TieAction:"http://schema.org/TieAction",Time:"http://schema.org/Time",TipAction:"http://schema.org/TipAction",TireShop:"http://schema.org/TireShop",TouristAttraction:"http://schema.org/TouristAttraction",TouristInformationCenter:"http://schema.org/TouristInformationCenter",ToyStore:"http://schema.org/ToyStore",TrackAction:"http://schema.org/TrackAction",TradeAction:"http://schema.org/TradeAction",TrainReservation:"http://schema.org/TrainReservation",TrainStation:"http://schema.org/TrainStation",TrainTrip:"http://schema.org/TrainTrip",TransferAction:"http://schema.org/TransferAction",TravelAction:"http://schema.org/TravelAction",TravelAgency:"http://schema.org/TravelAgency",Trip:"http://schema.org/Trip",TypeAndQuantityNode:"http://schema.org/TypeAndQuantityNode",URL:"http://schema.org/URL",UnRegisterAction:"http://schema.org/UnRegisterAction",UnitPriceSpecification:"http://schema.org/UnitPriceSpecification",UpdateAction:"http://schema.org/UpdateAction",UseAction:"http://schema.org/UseAction",UserBlocks:"http://schema.org/UserBlocks",UserCheckins:"http://schema.org/UserCheckins",UserComments:"http://schema.org/UserComments",UserDownloads:"http://schema.org/UserDownloads",UserInteraction:"http://schema.org/UserInteraction",UserLikes:"http://schema.org/UserLikes",UserPageVisits:"http://schema.org/UserPageVisits",UserPlays:"http://schema.org/UserPlays",UserPlusOnes:"http://schema.org/UserPlusOnes",UserTweets:"http://schema.org/UserTweets",Vehicle:"http://schema.org/Vehicle",VideoGallery:"http://schema.org/VideoGallery",VideoGame:"http://schema.org/VideoGame",VideoGameClip:"http://schema.org/VideoGameClip",VideoGameSeries:"http://schema.org/VideoGameSeries",VideoObject:"http://schema.org/VideoObject",ViewAction:"http://schema.org/ViewAction",VisualArtsEvent:"http://schema.org/VisualArtsEvent",VisualArtwork:"http://schema.org/VisualArtwork",Volcano:"http://schema.org/Volcano",VoteAction:"http://schema.org/VoteAction",WPAdBlock:"http://schema.org/WPAdBlock",WPFooter:"http://schema.org/WPFooter",WPHeader:"http://schema.org/WPHeader",WPSideBar:"http://schema.org/WPSideBar",WantAction:"http://schema.org/WantAction",WarrantyPromise:"http://schema.org/WarrantyPromise",WarrantyScope:"http://schema.org/WarrantyScope",WatchAction:"http://schema.org/WatchAction",Waterfall:"http://schema.org/Waterfall",WearAction:"http://schema.org/WearAction",WebApplication:"http://schema.org/WebApplication",WebPage:"http://schema.org/WebPage",WebPageElement:"http://schema.org/WebPageElement",WebSite:"http://schema.org/WebSite",WholesaleStore:"http://schema.org/WholesaleStore",WinAction:"http://schema.org/WinAction",Winery:"http://schema.org/Winery",WorkersUnion:"http://schema.org/WorkersUnion",WriteAction:"http://schema.org/WriteAction",Zoo:"http://schema.org/Zoo"}),a=n,s=o,c=i,u=Object.freeze({Acquaintance:"http://www.w3.org/2006/vcard/ns#Acquaintance",Agent:"http://www.w3.org/2006/vcard/ns#Agent",BBS:"http://www.w3.org/2006/vcard/ns#BBS",Car:"http://www.w3.org/2006/vcard/ns#Car",Cell:"http://www.w3.org/2006/vcard/ns#Cell",Child:"http://www.w3.org/2006/vcard/ns#Child",Colleague:"http://www.w3.org/2006/vcard/ns#Colleague",Contact:"http://www.w3.org/2006/vcard/ns#Contact",Coresident:"http://www.w3.org/2006/vcard/ns#Coresident",Coworker:"http://www.w3.org/2006/vcard/ns#Coworker",Crush:"http://www.w3.org/2006/vcard/ns#Crush",Date__workaround:"http://www.w3.org/2006/vcard/ns#Date",Dom:"http://www.w3.org/2006/vcard/ns#Dom",Emergency:"http://www.w3.org/2006/vcard/ns#Emergency",Fax:"http://www.w3.org/2006/vcard/ns#Fax",Female:"http://www.w3.org/2006/vcard/ns#Female",Friend:"http://www.w3.org/2006/vcard/ns#Friend",Home:"http://www.w3.org/2006/vcard/ns#Home",ISDN:"http://www.w3.org/2006/vcard/ns#ISDN",Internet:"http://www.w3.org/2006/vcard/ns#Internet",Intl__workaround:"http://www.w3.org/2006/vcard/ns#Intl",Kin:"http://www.w3.org/2006/vcard/ns#Kin",Label:"http://www.w3.org/2006/vcard/ns#Label",Male:"http://www.w3.org/2006/vcard/ns#Male",Me:"http://www.w3.org/2006/vcard/ns#Me",Met:"http://www.w3.org/2006/vcard/ns#Met",Modem:"http://www.w3.org/2006/vcard/ns#Modem",Msg:"http://www.w3.org/2006/vcard/ns#Msg",Muse:"http://www.w3.org/2006/vcard/ns#Muse",Neighbor:"http://www.w3.org/2006/vcard/ns#Neighbor",None:"http://www.w3.org/2006/vcard/ns#None",Other:"http://www.w3.org/2006/vcard/ns#Other",PCS:"http://www.w3.org/2006/vcard/ns#PCS",Pager:"http://www.w3.org/2006/vcard/ns#Pager",Parcel:"http://www.w3.org/2006/vcard/ns#Parcel",Parent:"http://www.w3.org/2006/vcard/ns#Parent",Postal:"http://www.w3.org/2006/vcard/ns#Postal",Pref:"http://www.w3.org/2006/vcard/ns#Pref",Sibling:"http://www.w3.org/2006/vcard/ns#Sibling",Spouse:"http://www.w3.org/2006/vcard/ns#Spouse",Sweetheart:"http://www.w3.org/2006/vcard/ns#Sweetheart",Tel:"http://www.w3.org/2006/vcard/ns#Tel",Text:"http://www.w3.org/2006/vcard/ns#Text",TextPhone:"http://www.w3.org/2006/vcard/ns#TextPhone",Unknown:"http://www.w3.org/2006/vcard/ns#Unknown",Video:"http://www.w3.org/2006/vcard/ns#Video",Voice:"http://www.w3.org/2006/vcard/ns#Voice",Work:"http://www.w3.org/2006/vcard/ns#Work",X400:"http://www.w3.org/2006/vcard/ns#X400",Address:"http://www.w3.org/2006/vcard/ns#Address",Email:"http://www.w3.org/2006/vcard/ns#Email",Group:"http://www.w3.org/2006/vcard/ns#Group",Individual:"http://www.w3.org/2006/vcard/ns#Individual",Name:"http://www.w3.org/2006/vcard/ns#Name",VCard:"http://www.w3.org/2006/vcard/ns#VCard",Location:"http://www.w3.org/2006/vcard/ns#Location",Organization:"http://www.w3.org/2006/vcard/ns#Organization",Gender:"http://www.w3.org/2006/vcard/ns#Gender",Kind:"http://www.w3.org/2006/vcard/ns#Kind",Type:"http://www.w3.org/2006/vcard/ns#Type",TelephoneType:"http://www.w3.org/2006/vcard/ns#TelephoneType",RelatedType:"http://www.w3.org/2006/vcard/ns#RelatedType",adr:"http://www.w3.org/2006/vcard/ns#adr",agent:"http://www.w3.org/2006/vcard/ns#agent",email:"http://www.w3.org/2006/vcard/ns#email",geo:"http://www.w3.org/2006/vcard/ns#geo",hasAdditionalName:"http://www.w3.org/2006/vcard/ns#hasAdditionalName",hasCalendarBusy:"http://www.w3.org/2006/vcard/ns#hasCalendarBusy",hasCalendarLink:"http://www.w3.org/2006/vcard/ns#hasCalendarLink",hasCalendarRequest:"http://www.w3.org/2006/vcard/ns#hasCalendarRequest",hasCategory:"http://www.w3.org/2006/vcard/ns#hasCategory",hasCountryName:"http://www.w3.org/2006/vcard/ns#hasCountryName",hasFN:"http://www.w3.org/2006/vcard/ns#hasFN",hasFamilyName:"http://www.w3.org/2006/vcard/ns#hasFamilyName",hasGender:"http://www.w3.org/2006/vcard/ns#hasGender",hasGivenName:"http://www.w3.org/2006/vcard/ns#hasGivenName",hasHonorificPrefix:"http://www.w3.org/2006/vcard/ns#hasHonorificPrefix",hasHonorificSuffix:"http://www.w3.org/2006/vcard/ns#hasHonorificSuffix",hasInstantMessage:"http://www.w3.org/2006/vcard/ns#hasInstantMessage",hasLanguage:"http://www.w3.org/2006/vcard/ns#hasLanguage",hasLocality:"http://www.w3.org/2006/vcard/ns#hasLocality",hasNickname:"http://www.w3.org/2006/vcard/ns#hasNickname",hasNote:"http://www.w3.org/2006/vcard/ns#hasNote",hasOrganizationName:"http://www.w3.org/2006/vcard/ns#hasOrganizationName",hasOrganizationUnit:"http://www.w3.org/2006/vcard/ns#hasOrganizationUnit",hasPostalCode:"http://www.w3.org/2006/vcard/ns#hasPostalCode",hasRegion:"http://www.w3.org/2006/vcard/ns#hasRegion",hasRelated:"http://www.w3.org/2006/vcard/ns#hasRelated",hasRole:"http://www.w3.org/2006/vcard/ns#hasRole",hasSource:"http://www.w3.org/2006/vcard/ns#hasSource",hasStreetAddress:"http://www.w3.org/2006/vcard/ns#hasStreetAddress",hasTitle:"http://www.w3.org/2006/vcard/ns#hasTitle",hasUID:"http://www.w3.org/2006/vcard/ns#hasUID",hasValue:"http://www.w3.org/2006/vcard/ns#hasValue",org:"http://www.w3.org/2006/vcard/ns#org",hasAddress:"http://www.w3.org/2006/vcard/ns#hasAddress",hasEmail:"http://www.w3.org/2006/vcard/ns#hasEmail",hasGeo:"http://www.w3.org/2006/vcard/ns#hasGeo",hasKey:"http://www.w3.org/2006/vcard/ns#hasKey",hasLogo:"http://www.w3.org/2006/vcard/ns#hasLogo",hasName:"http://www.w3.org/2006/vcard/ns#hasName",hasPhoto:"http://www.w3.org/2006/vcard/ns#hasPhoto",hasSound:"http://www.w3.org/2006/vcard/ns#hasSound",hasTelephone:"http://www.w3.org/2006/vcard/ns#hasTelephone",hasURL:"http://www.w3.org/2006/vcard/ns#hasURL",key:"http://www.w3.org/2006/vcard/ns#key",logo:"http://www.w3.org/2006/vcard/ns#logo",n:"http://www.w3.org/2006/vcard/ns#n",photo:"http://www.w3.org/2006/vcard/ns#photo",sound:"http://www.w3.org/2006/vcard/ns#sound",tel:"http://www.w3.org/2006/vcard/ns#tel",url:"http://www.w3.org/2006/vcard/ns#url",hasMember:"http://www.w3.org/2006/vcard/ns#hasMember",anniversary:"http://www.w3.org/2006/vcard/ns#anniversary",bday:"http://www.w3.org/2006/vcard/ns#bday",category:"http://www.w3.org/2006/vcard/ns#category",class__workaround:"http://www.w3.org/2006/vcard/ns#class",label:"http://www.w3.org/2006/vcard/ns#label",language:"http://www.w3.org/2006/vcard/ns#language",latitude:"http://www.w3.org/2006/vcard/ns#latitude",longitude:"http://www.w3.org/2006/vcard/ns#longitude",mailer:"http://www.w3.org/2006/vcard/ns#mailer",note:"http://www.w3.org/2006/vcard/ns#note",prodid:"http://www.w3.org/2006/vcard/ns#prodid",rev:"http://www.w3.org/2006/vcard/ns#rev",role:"http://www.w3.org/2006/vcard/ns#role",title:"http://www.w3.org/2006/vcard/ns#title",tz:"http://www.w3.org/2006/vcard/ns#tz",value:"http://www.w3.org/2006/vcard/ns#value",fn:"http://www.w3.org/2006/vcard/ns#fn",nickname:"http://www.w3.org/2006/vcard/ns#nickname",locality:"http://www.w3.org/2006/vcard/ns#locality",region:"http://www.w3.org/2006/vcard/ns#region"})},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(24);function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(n.a)(e,t)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(28),o=r(35),i=r(61);function a(e){var t=Object(o.a)();return function(){var r,o=Object(n.a)(e);if(t){var a=Object(n.a)(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return Object(i.a)(this,r)}}},function(e,t,r){var n=r(49);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},function(e,t,r){var n=r(38);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}},function(e,t,r){var n=r(50),o=r(51),i=r(84);e.exports=function(e){var t=o();return function(){var r,o=n(e);if(t){var a=n(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return i(this,r)}}},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(27);function o(e,t){if(e){if("string"===typeof e)return Object(n.a)(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(n.a)(e,t):void 0}}},function(e,t,r){"use strict";function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.r(t),r.d(t,"clearOidcPersistentStorage",(function(){return E})),r.d(t,"getBearerToken",(function(){return b})),r.d(t,"getDpopToken",(function(){return S})),r.d(t,"registerClient",(function(){return p})),r.d(t,"removeOidcQueryParam",(function(){return k}));var n=r(0),o=r.n(n),i=r(1),a=r(13);r.d(t,"CordovaIFrameNavigator",(function(){return a.CordovaIFrameNavigator})),r.d(t,"CordovaPopupNavigator",(function(){return a.CordovaPopupNavigator})),r.d(t,"InMemoryWebStorage",(function(){return a.InMemoryWebStorage})),r.d(t,"Log",(function(){return a.Log})),r.d(t,"OidcClient",(function(){return a.OidcClient})),r.d(t,"SessionMonitor",(function(){return a.SessionMonitor})),r.d(t,"User",(function(){return a.User})),r.d(t,"UserManager",(function(){return a.UserManager})),r.d(t,"Version",(function(){return a.Version})),r.d(t,"WebStorageStateStore",(function(){return a.WebStorageStateStore}));var s=r(11),c=r(65),u=r.n(c);function l(e,t){var r,n,o,i;if("invalid_redirect_uri"===e.error)throw new Error("Dynamic client registration failed: the provided redirect uri [".concat(null===(r=t.redirectUrl)||void 0===r?void 0:r.toString(),"] is invalid - ").concat(null!==(n=e.error_description)&&void 0!==n?n:""));if("invalid_client_metadata"===e.error)throw new Error("Dynamic client registration failed: the provided client metadata ".concat(JSON.stringify(t)," is invalid - ").concat(null!==(o=e.error_description)&&void 0!==o?o:""));throw new Error("Dynamic client registration failed: ".concat(e.error," - ").concat(null!==(i=e.error_description)&&void 0!==i?i:""))}function h(e,t){if(void 0===e.client_id)throw new Error("Dynamic client registration failed: no client_id has been found on ".concat(JSON.stringify(e)));if(t.redirectUrl&&(void 0===e.redirect_uris||e.redirect_uris[0]!==t.redirectUrl.toString()))throw new Error("Dynamic client registration failed: the returned redirect URIs ".concat(JSON.stringify(e.redirect_uris)," don't match the provided ").concat(JSON.stringify([t.redirectUrl.toString()])))}function p(e,t){return f.apply(this,arguments)}function f(){return(f=Object(i.a)(o.a.mark((function e(t,r){var n,i,a,c,u,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.registrationEndpoint){e.next=2;break}throw new Error("Dynamic Registration could not be completed because the issuer has no registration endpoint.");case 2:if(Array.isArray(r.idTokenSigningAlgValuesSupported)){e.next=4;break}throw new Error("The OIDC issuer discovery profile is missing the 'id_token_signing_alg_values_supported' value, which is mandatory.");case 4:return i=Object(s.determineSigningAlg)(r.idTokenSigningAlgValuesSupported,s.PREFERRED_SIGNING_ALG),a={client_name:t.clientName,application_type:"web",redirect_uris:[null===(n=t.redirectUrl)||void 0===n?void 0:n.toString()],subject_type:"pairwise",token_endpoint_auth_method:"client_secret_basic",id_token_signed_response_alg:i},c={"Content-Type":"application/json"},t.registrationAccessToken&&(c.Authorization="Bearer ".concat(t.registrationAccessToken)),e.next=10,fetch(r.registrationEndpoint.toString(),{method:"POST",headers:c,body:JSON.stringify(a)});case 10:if(!(u=e.sent).ok){e.next=17;break}return e.next=14,u.json();case 14:return h(p=e.sent,t),e.abrupt("return",{clientId:p.client_id,clientSecret:p.client_secret,idTokenSignedResponseAlg:p.id_token_signed_response_alg,clientType:"dynamic"});case 17:if(400!==u.status){e.next=24;break}return e.t0=l,e.next=21,u.json();case 21:e.t1=e.sent,e.t2=t,(0,e.t0)(e.t1,e.t2);case 24:return e.t3=Error,e.t4="Dynamic client registration failed: the server returned ".concat(u.status," ").concat(u.statusText," - "),e.next=28,u.text();case 28:throw e.t5=e.sent,e.t6=e.t4.concat.call(e.t4,e.t5),new e.t3(e.t6);case 31:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return void 0!==e.refresh_token&&"string"===typeof e.refresh_token}function g(e,t){if(t.grantType&&(!e.grantTypesSupported||!e.grantTypesSupported.includes(t.grantType)))throw new Error("The issuer [".concat(e.issuer,"] does not support the [").concat(t.grantType,"] grant"));if(!e.tokenEndpoint)throw new Error("This issuer [".concat(e.issuer,"] does not have a token endpoint"))}function m(e,t){if(void 0!==(r=e).error&&"string"===typeof r.error)throw new Error("Token endpoint returned error [".concat(e.error,"]").concat(function(e){return void 0!==e.error_description&&"string"===typeof e.error_description}(e)?": ".concat(e.error_description):"").concat(function(e){return void 0!==e.error_uri&&"string"===typeof e.error_uri}(e)?" (see ".concat(e.error_uri,")"):""));var r;if(!function(e){return void 0!==e.access_token&&"string"===typeof e.access_token}(e))throw new Error("Invalid token endpoint response (missing the field 'access_token'): ".concat(JSON.stringify(e)));if(!function(e){return void 0!==e.id_token&&"string"===typeof e.id_token}(e))throw new Error("Invalid token endpoint response (missing the field 'id_token'): ".concat(JSON.stringify(e),"."));if(!function(e){return void 0!==e.token_type&&"string"===typeof e.token_type}(e))throw new Error("Invalid token endpoint response (missing the field 'token_type'): ".concat(JSON.stringify(e)));if(!function(e){return void 0===e.expires_in||"number"===typeof e.expires_in}(e))throw new Error("Invalid token endpoint response (invalid field 'expires_in'): ".concat(JSON.stringify(e)));if(!t&&"bearer"!==e.token_type.toLowerCase())throw new Error("Invalid token endpoint response: requested a [Bearer] token, but got a 'token_type' value of [".concat(e.token_type,"]."));return e}function v(e,t,r,n){return y.apply(this,arguments)}function y(){return(y=Object(i.a)(o.a.mark((function e(t,r,n,i){var a,c,l,h,p,f,v;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g(t,n),a={"content-type":"application/x-www-form-urlencoded"},!i){e.next=9;break}return e.next=5,Object(s.generateDpopKeyPair)();case 5:return c=e.sent,e.next=8,Object(s.createDpopHeader)(t.tokenEndpoint,"POST",c);case 8:a.DPoP=e.sent;case 9:return r.clientSecret&&(a.Authorization="Basic ".concat(btoa("".concat(r.clientId,":").concat(r.clientSecret)))),l={method:"POST",headers:a,body:u()({grant_type:n.grantType,redirect_uri:n.redirectUrl,code:n.code,code_verifier:n.codeVerifier,client_id:r.clientId})},e.next=13,fetch(t.tokenEndpoint,l);case 13:return h=e.sent,e.next=16,h.json();case 16:return p=e.sent,f=m(p,i),e.next=20,Object(s.getWebidFromTokenPayload)(f.id_token,t.jwksUri,t.issuer,r.clientId);case 20:return v=e.sent,e.abrupt("return",{accessToken:f.access_token,idToken:f.id_token,refreshToken:d(f)?f.refresh_token:void 0,webId:v,dpopKey:c,expiresIn:f.expires_in});case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return w.apply(this,arguments)}function w(){return(w=Object(i.a)(o.a.mark((function e(t){var r,n,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new a.OidcClient({response_mode:"query",loadUserInfo:!1}),e.next=4,n.processSigninResponse(t);case 4:if(r=e.sent,void 0!==n.settings.metadata){e.next=7;break}throw new Error("Cannot retrieve issuer metadata from client information in storage.");case 7:if(void 0!==n.settings.metadata.jwks_uri){e.next=9;break}throw new Error("Missing some issuer metadata from client information in storage: 'jwks_uri' is undefined");case 9:if(void 0!==n.settings.metadata.issuer){e.next=11;break}throw new Error("Missing some issuer metadata from client information in storage: 'issuer' is undefined");case 11:if(void 0!==n.settings.client_id){e.next=13;break}throw new Error("Missing some client information in storage: 'client_id' is undefined");case 13:return e.next=15,Object(s.getWebidFromTokenPayload)(r.id_token,n.settings.metadata.jwks_uri,n.settings.metadata.issuer,n.settings.client_id);case 15:return i=e.sent,e.abrupt("return",{accessToken:r.access_token,idToken:r.id_token,webId:i,refreshToken:r.refresh_token});case 19:throw e.prev=19,e.t0=e.catch(0),new Error("Problem handling Auth Code Grant (Flow) redirect - URL [".concat(t,"]: ").concat(e.t0));case 22:case"end":return e.stop()}}),e,null,[[0,19]])})))).apply(this,arguments)}function S(e,t,r){return _.apply(this,arguments)}function _(){return(_=Object(i.a)(o.a.mark((function e(t,r,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v(t,r,n,!0));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){var t=new URL(e);return t.searchParams.delete("code"),t.searchParams.delete("state"),t.hash="",t.toString()}function E(){return x.apply(this,arguments)}function x(){return(x=Object(i.a)(o.a.mark((function e(){var t,r,n,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new a.OidcClient({response_mode:"query"}),e.next=3,t.clearStaleState(new a.WebStorageStateStore({}));case 3:for(r=window.localStorage,n=[],i=0;i<=r.length;i+=1)(s=r.key(i))&&(s.match(/^oidc\..+$/)||s.match(/^solidClientAuthenticationUser:.+$/))&&n.push(s);n.forEach((function(e){return r.removeItem(e)}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(23);function o(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=Object(n.a)(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw a}}}}},function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r.d(t,"a",(function(){return n}))},function(e,t,r){var n=r(125);e.exports=n},function(e,t,r){var n=r(87),o=r(88),i=r(39),a=r(89);e.exports=function(e){return n(e)||o(e)||i(e)||a()}},function(e,t,r){var n=r(50),o=r(38),i=r(90),a=r(91);function s(t){var r="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!i(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return a(e,arguments,n(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o(t,e)},s(t)}e.exports=s},function(e,t,r){"use strict";var n=r(33),o=r(8),i=r(96),a=r(30),s=r(19),c=r(0),u=r(10),l=r(57),h=r(6),p=r(52),f=r(20),d=r(21),g=r(31);Object.defineProperty(t,"__esModule",{value:!0});var m=function(e){f(r,e);var t=d(r);function r(e){var n;return h(this,r),(n=t.call(this,e)).code=r.code,n.name=n.constructor.name,Error.captureStackTrace&&Error.captureStackTrace(p(n),n.constructor),n}return r}(g(Error));m.code="ERR_JOSE_GENERIC";var v=function(e){f(r,e);var t=d(r);function r(e){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unspecified",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unspecified";return h(this,r),(n=t.call(this,e)).code=r.code,n.claim=o,n.reason=i,n}return r}(m);v.code="ERR_JWT_CLAIM_VALIDATION_FAILED";var y=function(e){f(r,e);var t=d(r);function r(){var e;return h(this,r),(e=t.apply(this,arguments)).code=r.code,e}return r}(m);y.code="ERR_JOSE_ALG_NOT_ALLOWED";var b=function(e){f(r,e);var t=d(r);function r(){var e;return h(this,r),(e=t.apply(this,arguments)).code=r.code,e}return r}(m);b.code="ERR_JOSE_NOT_SUPPORTED";var w=function(e){f(r,e);var t=d(r);function r(){var e;return h(this,r),(e=t.apply(this,arguments)).code=r.code,e.message="decryption operation failed",e}return r}(m);w.code="ERR_JWE_DECRYPTION_FAILED";var S=function(e){f(r,e);var t=d(r);function r(){var e;return h(this,r),(e=t.apply(this,arguments)).code=r.code,e}return r}(m);S.code="ERR_JWE_INVALID";var _=function(e){f(r,e);var t=d(r);function r(){var e;return h(this,r),(e=t.apply(this,arguments)).code=r.code,e}return r}(m);_.code="ERR_JWS_INVALID";var k=function(e){f(r,e);var t=d(r);function r(){var e;return h(this,r),(e=t.apply(this,arguments)).code=r.code,e}return r}(m);k.code="ERR_JWT_INVALID";var E=function(e){f(r,e);var t=d(r);function r(){var e;return h(this,r),(e=t.apply(this,arguments)).code=r.code,e}return r}(m);E.code="ERR_JWK_INVALID";var x=function(e){f(r,e);var t=d(r);function r(){var e;return h(this,r),(e=t.apply(this,arguments)).code=r.code,e}return r}(m);x.code="ERR_JWKS_INVALID";var A=function(e){f(r,e);var t=d(r);function r(){var e;return h(this,r),(e=t.apply(this,arguments)).code=r.code,e.message="no applicable key found in the JSON Web Key Set",e}return r}(m);A.code="ERR_JWKS_NO_MATCHING_KEY";var C=function(e){f(r,e);var t=d(r);function r(){var e;return h(this,r),(e=t.apply(this,arguments)).code=r.code,e.message="multiple matching keys found in the JSON Web Key Set",e}return r}(m);C.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";var P=function(e){f(r,e);var t=d(r);function r(){var e;return h(this,r),(e=t.apply(this,arguments)).code=r.code,e.message="signature verification failed",e}return r}(m);P.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";var F=function(e){f(r,e);var t=d(r);function r(){var e;return h(this,r),(e=t.apply(this,arguments)).code=r.code,e}return r}(v);F.code="ERR_JWT_EXPIRED";var T=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,o=t.filter(Boolean);if(0===o.length||1===o.length)return!0;var i,a=l(o);try{for(a.s();!(i=a.n()).done;){var s=i.value,c=Object.keys(s);if(n&&0!==n.size)for(var u=0,h=c;u<h.length;u++){var p=h[u];if(n.has(p))return!1;n.add(p)}else n=new Set(c)}}catch(f){a.e(f)}finally{a.f()}return!0};function O(e){if("object"!==typeof(t=e)||null===t||"[object Object]"!==Object.prototype.toString.call(e))return!1;var t;if(null===Object.getPrototypeOf(e))return!0;for(var r=e;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r}var R=new TextEncoder,I=new TextDecoder,j=Math.pow(2,32);function D(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.reduce((function(e,t){return e+t.length}),0),o=new Uint8Array(n),i=0;return t.forEach((function(e){o.set(e,i),i+=e.length})),o}function U(e,t){return D(R.encode(e),new Uint8Array([0]),t)}function N(e,t,r){if(t<0||t>=j)throw new RangeError("value must be >= 0 and <= ".concat(j-1,". Received ").concat(t));e.set([t>>>24,t>>>16,t>>>8,255&t],r)}function L(e){var t=Math.floor(e/j),r=e%j,n=new Uint8Array(8);return N(n,t,0),N(n,r,4),n}function M(e){var t=new Uint8Array(4);return N(t,e),t}function B(e){return D(M(e.length),e)}function H(e,t,r,n){return K.apply(this,arguments)}function K(){return(K=u(c.mark((function e(t,r,n,o){var i,a,s,u;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Math.ceil((n>>3)/32),s=1;case 2:if(!(s<=i)){e.next=22;break}if((u=new Uint8Array(4+r.length+o.length)).set(M(s)),u.set(r,4),u.set(o,4+r.length),a){e.next=13;break}return e.next=10,t("sha256",u);case 10:a=e.sent,e.next=19;break;case 13:return e.t0=D,e.t1=a,e.next=17,t("sha256",u);case 17:e.t2=e.sent,a=(0,e.t0)(e.t1,e.t2);case 19:s++,e.next=2;break;case 22:return a=a.slice(0,n>>3),e.abrupt("return",a);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var V=function(){if("undefined"!==typeof globalThis)return globalThis;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;throw new Error("unable to locate global object")}(),W=function(e){var t=e;"string"===typeof t&&(t=R.encode(t));for(var r=[],n=0;n<t.length;n+=32768)r.push(String.fromCharCode.apply(null,t.subarray(n,n+32768)));return V.btoa(r.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},q=function(e){var t=e;t instanceof Uint8Array&&(t=I.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return new Uint8Array(V.atob(t).split("").map((function(e){return e.charCodeAt(0)})))}catch(r){throw new TypeError("The input to be decoded is not correctly encoded.")}},z=new Map([["A128CBC-HS256",128],["A128GCM",96],["A128GCMKW",96],["A192CBC-HS384",128],["A192GCM",96],["A192GCMKW",96],["A256CBC-HS512",128],["A256GCM",96],["A256GCMKW",96]]),J=function(e){return function(t){var r=z.get(t);if(!r)throw new b("Unsupported JWE Algorithm: ".concat(t));return e(new Uint8Array(r>>3))}},G=function(e,t){if(t.length<<3!==z.get(e))throw new S("Invalid Initialization Vector length")},Y=function(e,t){var r;switch(e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":if(r=parseInt(e.substr(-3),10),!(t instanceof Uint8Array))throw new TypeError("".concat(e," content encryption requires Uint8Array as key input"));break;case"A128GCM":case"A192GCM":case"A256GCM":r=parseInt(e.substr(1,3),10);break;default:throw new b("Content Encryption Algorithm ".concat(e," is not supported either by JOSE or your javascript runtime"))}if(t instanceof Uint8Array){if(t.length<<3!==r)throw new S("Invalid Content Encryption Key length")}else{if(void 0===t.algorithm)throw new TypeError("Invalid Content Encryption Key type");if(t.algorithm.length!==r)throw new S("Invalid Content Encryption Key length")}},$=function(e,t){if(!(e instanceof Uint8Array))throw new TypeError("First argument must be a buffer");if(!(t instanceof Uint8Array))throw new TypeError("Second argument must be a buffer");if(e.length!==t.length)throw new TypeError("Input buffers must have the same length");for(var r=e.length,n=0,o=-1;++o<r;)n|=e[o]^t[o];return 0===n},Q=V.crypto;function X(e){return"undefined"!==typeof V.CryptoKey&&(null!=e&&e instanceof V.CryptoKey)}var Z=function(e){for(var t="Key must be ",r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];if(n.length>2){var i=n.pop();t+="one of type ".concat(n.join(", "),", or ").concat(i,".")}else 2===n.length?t+="one of type ".concat(n[0]," or ").concat(n[1],"."):t+="of type ".concat(n[0],".");return null==e?t+=" Received ".concat(e):"function"===typeof e&&e.name?t+=" Received function ".concat(e.name):"object"===typeof e&&null!=e&&e.constructor&&e.constructor.name&&(t+=" Received an instance of ".concat(e.constructor.name)),t};function ee(e,t,r,n,o,i){return te.apply(this,arguments)}function te(){return(te=u(c.mark((function e(t,r,n,o,i,a){var s,u,l,h,p,f,d;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=parseInt(t.substr(1,3),10),e.next=3,Q.subtle.importKey("raw",r.subarray(s>>3),"AES-CBC",!1,["decrypt"]);case 3:return u=e.sent,e.next=6,Q.subtle.importKey("raw",r.subarray(0,s>>3),{hash:{name:"SHA-".concat(s<<1)},name:"HMAC"},!1,["sign"]);case 6:return l=e.sent,h=D(a,o,n,L(a.length<<3)),e.t0=Uint8Array,e.next=11,Q.subtle.sign("HMAC",l,h);case 11:e.t1=e.sent.slice(0,s>>3),p=new e.t0(e.t1);try{f=$(i,p)}catch(c){}if(f){e.next=16;break}throw new w;case 16:return e.prev=16,e.t2=Uint8Array,e.next=20,Q.subtle.decrypt({iv:o,name:"AES-CBC"},u,n);case 20:e.t3=e.sent,d=new e.t2(e.t3),e.next=26;break;case 24:e.prev=24,e.t4=e.catch(16);case 26:if(d){e.next=28;break}throw new w;case 28:return e.abrupt("return",d);case 29:case"end":return e.stop()}}),e,null,[[16,24]])})))).apply(this,arguments)}function re(e,t,r,n,o){return ne.apply(this,arguments)}function ne(){return(ne=u(c.mark((function e(t,r,n,o,i){var a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t instanceof Uint8Array)){e.next=6;break}return e.next=3,Q.subtle.importKey("raw",t,"AES-GCM",!1,["decrypt"]);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=t;case 7:return a=e.t0,e.prev=8,e.t1=Uint8Array,e.next=12,Q.subtle.decrypt({additionalData:i,iv:n,name:"AES-GCM",tagLength:128},a,D(r,o));case 12:return e.t2=e.sent,e.abrupt("return",new e.t1(e.t2));case 16:throw e.prev=16,e.t3=e.catch(8),new w;case 19:case"end":return e.stop()}}),e,null,[[8,16]])})))).apply(this,arguments)}var oe=function(){var e=u(c.mark((function e(t,r,n,o,i,a){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(X(r)||r instanceof Uint8Array){e.next=2;break}throw new TypeError(Z(r,"CryptoKey","Uint8Array"));case 2:if(Y(t,r),G(t,o),"CBC"!==t.substr(4,3)){e.next=6;break}return e.abrupt("return",ee(t,r,n,o,i,a));case 6:return e.abrupt("return",re(r,n,o,i,a));case 7:case"end":return e.stop()}}),e)})));return function(t,r,n,o,i,a){return e.apply(this,arguments)}}(),ie=function(){var e=u(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new b('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `inflateRaw` decrypt option to provide Inflate Raw implementation, e.g. using the "pako" module.');case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=u(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new b('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime.');case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=[{hash:{name:"SHA-256"},name:"HMAC"},!0,["sign"]];function ce(e,t){if(e.algorithm.length!==parseInt(t.substr(1,3),10))throw new TypeError("invalid key size for alg: ".concat(t))}function ue(e,t){if(X(e))return e;if(e instanceof Uint8Array)return Q.subtle.importKey("raw",e,"AES-KW",!0,[t]);throw new TypeError(Z(e,"CryptoKey","Uint8Array"))}var le=function(){var e=u(c.mark((function e(t,r,n){var o,i,a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue(r,"wrapKey");case 2:return ce(i=e.sent,t),e.next=6,(o=Q.subtle).importKey.apply(o,["raw",n].concat(se));case 6:return a=e.sent,e.t0=Uint8Array,e.next=10,Q.subtle.wrapKey("raw",a,i,"AES-KW");case 10:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 12:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),he=function(){var e=u(c.mark((function e(t,r,n){var o,i,a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue(r,"unwrapKey");case 2:return ce(i=e.sent,t),e.next=6,(o=Q.subtle).unwrapKey.apply(o,["raw",n,i,"AES-KW"].concat(se));case 6:return a=e.sent,e.t0=Uint8Array,e.next=10,Q.subtle.exportKey("raw",a);case 10:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 12:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),pe=function(){var e=u(c.mark((function e(t,r){var n;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="SHA-".concat(t.substr(-3)),e.t0=Uint8Array,e.next=4,Q.subtle.digest(n,r);case 4:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),fe=function(){var e=u(c.mark((function e(t,r,n,o){var i,a,s,u,l=arguments;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=l.length>4&&void 0!==l[4]?l[4]:new Uint8Array(0),a=l.length>5&&void 0!==l[5]?l[5]:new Uint8Array(0),X(t)){e.next=4;break}throw new TypeError(Z(t,"CryptoKey"));case 4:if(X(r)){e.next=6;break}throw new TypeError(Z(r,"CryptoKey"));case 6:if(s=D(B(R.encode(n)),B(i),B(a),M(o)),r.usages.includes("deriveBits")){e.next=9;break}throw new TypeError('ECDH-ES private key "usages" must include "deriveBits"');case 9:return e.t0=Uint8Array,e.next=12,Q.subtle.deriveBits({name:"ECDH",public:t},r,Math.ceil(parseInt(r.algorithm.namedCurve.substr(-3),10)/8)<<3);case 12:return e.t1=e.sent,u=new e.t0(e.t1),e.abrupt("return",H(pe,u,o,s));case 15:case"end":return e.stop()}}),e)})));return function(t,r,n,o){return e.apply(this,arguments)}}(),de=function(){var e=u(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(X(t)){e.next=2;break}throw new TypeError(Z(t,"CryptoKey"));case 2:return e.next=4,Q.subtle.generateKey({name:"ECDH",namedCurve:t.algorithm.namedCurve},!0,["deriveBits"]);case 4:return e.abrupt("return",e.sent.privateKey);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(e){if(!X(e))throw new TypeError(Z(e,"CryptoKey"));return["P-256","P-384","P-521"].includes(e.algorithm.namedCurve)},me=Q.getRandomValues.bind(Q);function ve(e){if(!(e instanceof Uint8Array)||e.length<8)throw new S("PBES2 Salt Input must be 8 or more octets")}function ye(e){if(e instanceof Uint8Array)return Q.subtle.importKey("raw",e,"PBKDF2",!1,["deriveBits"]);if(X(e))return e;throw new TypeError(Z(e,"CryptoKey","Uint8Array"))}var be=function(){var e=u(c.mark((function e(t,r,n){var o,i,a,s,u,l,h,p,f,d=arguments;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=d.length>3&&void 0!==d[3]?d[3]:Math.floor(2049*Math.random())+2048,ve(i=d.length>4&&void 0!==d[4]?d[4]:me(new Uint8Array(16))),a=U(t,i),s=parseInt(t.substr(13,3),10),u={hash:{name:"SHA-".concat(t.substr(8,3))},iterations:o,name:"PBKDF2",salt:a},l={length:s,name:"AES-KW"},e.next=9,ye(r);case 9:if(!(h=e.sent).usages.includes("deriveBits")){e.next=18;break}return e.t0=Uint8Array,e.next=14,Q.subtle.deriveBits(u,h,s);case 14:e.t1=e.sent,p=new e.t0(e.t1),e.next=25;break;case 18:if(!h.usages.includes("deriveKey")){e.next=24;break}return e.next=21,Q.subtle.deriveKey(u,h,l,!1,["wrapKey"]);case 21:p=e.sent,e.next=25;break;case 24:throw new TypeError('PBKDF2 key "usages" must include "deriveBits" or "deriveKey"');case 25:return e.next=27,le(t.substr(-6),p,n);case 27:return f=e.sent,e.abrupt("return",{encryptedKey:f,p2c:o,p2s:W(i)});case 29:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),we=function(){var e=u(c.mark((function e(t,r,n,o,i){var a,s,u,l,h,p;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ve(i),a=U(t,i),s=parseInt(t.substr(13,3),10),u={hash:{name:"SHA-".concat(t.substr(8,3))},iterations:o,name:"PBKDF2",salt:a},l={length:s,name:"AES-KW"},e.next=7,ye(r);case 7:if(!(h=e.sent).usages.includes("deriveBits")){e.next=16;break}return e.t0=Uint8Array,e.next=12,Q.subtle.deriveBits(u,h,s);case 12:e.t1=e.sent,p=new e.t0(e.t1),e.next=23;break;case 16:if(!h.usages.includes("deriveKey")){e.next=22;break}return e.next=19,Q.subtle.deriveKey(u,h,l,!1,["unwrapKey"]);case 19:p=e.sent,e.next=23;break;case 22:throw new TypeError('PBKDF2 key "usages" must include "deriveBits" or "deriveKey"');case 23:return e.abrupt("return",he(t.substr(-6),p,n));case 24:case"end":return e.stop()}}),e)})));return function(t,r,n,o,i){return e.apply(this,arguments)}}();function Se(e){switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new b("alg ".concat(e," is not supported either by JOSE or your javascript runtime"))}}var _e=function(e,t){if(e.startsWith("HS")){var r=parseInt(e.substr(-3),10),n=t.algorithm.length;if("number"!==typeof n||n<r)throw new TypeError("".concat(e," requires symmetric keys to be ").concat(r," bits or larger"))}if(e.startsWith("RS")||e.startsWith("PS")){var o=t.algorithm.modulusLength;if("number"!==typeof o||o<2048)throw new TypeError("".concat(e," requires key modulusLength to be 2048 bits or larger"))}},ke=function(){var e=u(c.mark((function e(t,r,n){var o,i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(X(r)){e.next=2;break}throw new TypeError(Z(r,"CryptoKey"));case 2:if(_e(t,r),!r.usages.includes("encrypt")){e.next=9;break}return e.t0=Uint8Array,e.next=7,Q.subtle.encrypt(Se(t),r,n);case 7:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 9:if(!r.usages.includes("wrapKey")){e.next=18;break}return e.next=12,(o=Q.subtle).importKey.apply(o,["raw",n].concat(se));case 12:return i=e.sent,e.t2=Uint8Array,e.next=16,Q.subtle.wrapKey("raw",i,r,Se(t));case 16:return e.t3=e.sent,e.abrupt("return",new e.t2(e.t3));case 18:throw new TypeError('RSA-OAEP key "usages" must include "encrypt" or "wrapKey" for this operation');case 19:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),Ee=function(){var e=u(c.mark((function e(t,r,n){var o,i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(X(r)){e.next=2;break}throw new TypeError(Z(r,"CryptoKey"));case 2:if(_e(t,r),!r.usages.includes("decrypt")){e.next=9;break}return e.t0=Uint8Array,e.next=7,Q.subtle.decrypt(Se(t),r,n);case 7:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 9:if(!r.usages.includes("unwrapKey")){e.next=18;break}return e.next=12,(o=Q.subtle).unwrapKey.apply(o,["raw",n,r,Se(t)].concat(se));case 12:return i=e.sent,e.t2=Uint8Array,e.next=16,Q.subtle.exportKey("raw",i);case 16:return e.t3=e.sent,e.abrupt("return",new e.t2(e.t3));case 18:throw new TypeError('RSA-OAEP key "usages" must include "decrypt" or "unwrapKey" for this operation');case 19:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}();function xe(e,t,r,n,o){return Ae.apply(this,arguments)}function Ae(){return(Ae=u(c.mark((function e(t,r,n,o,i){var a,s,u,l,h,p;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=parseInt(t.substr(1,3),10),e.next=3,Q.subtle.importKey("raw",n.subarray(a>>3),"AES-CBC",!1,["encrypt"]);case 3:return s=e.sent,e.next=6,Q.subtle.importKey("raw",n.subarray(0,a>>3),{hash:{name:"SHA-".concat(a<<1)},name:"HMAC"},!1,["sign"]);case 6:return u=e.sent,e.t0=Uint8Array,e.next=10,Q.subtle.encrypt({iv:o,name:"AES-CBC"},s,r);case 10:return e.t1=e.sent,l=new e.t0(e.t1),h=D(i,o,l,L(i.length<<3)),e.t2=Uint8Array,e.next=16,Q.subtle.sign("HMAC",u,h);case 16:return e.t3=e.sent.slice(0,a>>3),p=new e.t2(e.t3),e.abrupt("return",{ciphertext:l,tag:p});case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ce(e,t,r,n){return Pe.apply(this,arguments)}function Pe(){return(Pe=u(c.mark((function e(t,r,n,o){var i,a,s,u;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r instanceof Uint8Array)){e.next=6;break}return e.next=3,Q.subtle.importKey("raw",r,"AES-GCM",!1,["encrypt"]);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=r;case 7:return i=e.t0,e.t1=Uint8Array,e.next=11,Q.subtle.encrypt({additionalData:o,iv:n,name:"AES-GCM",tagLength:128},i,t);case 11:return e.t2=e.sent,a=new e.t1(e.t2),s=a.slice(-16),u=a.slice(0,-16),e.abrupt("return",{ciphertext:u,tag:s});case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Fe=function(){var e=u(c.mark((function e(t,r,n,o,i){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(X(n)||n instanceof Uint8Array){e.next=2;break}throw new TypeError(Z(n,"CryptoKey","Uint8Array"));case 2:if(Y(t,n),G(t,o),"CBC"!==t.substr(4,3)){e.next=6;break}return e.abrupt("return",xe(t,r,n,o,i));case 6:return e.abrupt("return",Ce(r,n,o,i));case 7:case"end":return e.stop()}}),e)})));return function(t,r,n,o,i){return e.apply(this,arguments)}}(),Te=J(me),Oe=function(){var e=u(c.mark((function e(t,r,n,o){var i,a,s,u;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.substr(0,7),o||(o=Te(i)),e.next=4,Fe(i,n,r,o,new Uint8Array(0));case 4:return a=e.sent,s=a.ciphertext,u=a.tag,e.abrupt("return",{encryptedKey:s,iv:W(o),tag:W(u)});case 8:case"end":return e.stop()}}),e)})));return function(t,r,n,o){return e.apply(this,arguments)}}(),Re=function(){var e=u(c.mark((function e(t,r,n,o,i){var a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.substr(0,7),e.abrupt("return",oe(a,r,n,o,i,new Uint8Array(0)));case 2:case"end":return e.stop()}}),e)})));return function(t,r,n,o,i){return e.apply(this,arguments)}}(),Ie=new Map([["A128CBC-HS256",256],["A128GCM",128],["A192CBC-HS384",384],["A192GCM",192],["A256CBC-HS512",512],["A256GCM",256]]),je=function(e){return function(t){var r=Ie.get(t);if(!r)throw new b("Unsupported JWE Algorithm: ".concat(t));return e(new Uint8Array(r>>3))}};function De(e){var t,r;switch(e.kty){case"oct":switch(e.alg){case"HS256":case"HS384":case"HS512":t={name:"HMAC",hash:{name:"SHA-".concat(e.alg.substr(-3))}},r=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":throw new b("".concat(e.alg," keys cannot be imported as CryptoKey instances"));case"A128GCM":case"A192GCM":case"A256GCM":case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":t={name:"AES-GCM"},r=["encrypt","decrypt"];break;case"A128KW":case"A192KW":case"A256KW":t={name:"AES-KW"},r=["wrapKey","unwrapKey"];break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":t={name:"PBKDF2"},r=["deriveBits"];break;default:throw new b('unsupported or invalid JWK "alg" (Algorithm) Parameter value')}break;case"RSA":switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:{name:"SHA-".concat(e.alg.substr(-3))}},r=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-".concat(e.alg.substr(-3))}},r=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:{name:"SHA-".concat(parseInt(e.alg.substr(-3),10)||1)}},r=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new b('unsupported or invalid JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(e.alg){case"ES256":case"ES384":case"ES512":t={name:"ECDSA",namedCurve:e.crv},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new b('unsupported or invalid JWK "alg" (Algorithm) Parameter value')}break;default:throw new b('unsupported or invalid JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:r}}var Ue=function(){var e=u(c.mark((function e(t){var r,n,o,i,a,u,l;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=De(t),i=o.algorithm,a=o.keyUsages,u="jwk",delete(l=s({},t)).alg,"PBKDF2"===i.name&&(u="raw",l=q(t.k)),e.abrupt("return",Q.subtle.importKey(u,l,i,null!==(r=t.ext)&&void 0!==r&&r,null!==(n=t.key_ops)&&void 0!==n?n:a));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Ne(e,t,r){return Le.apply(this,arguments)}function Le(){return(Le=u(c.mark((function e(t,r,n){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O(t)){e.next=2;break}throw new TypeError("JWK must be an object");case 2:if(r||(r=t.alg),"string"===typeof r&&r){e.next=5;break}throw new TypeError('"alg" argument is required when "jwk.alg" is not present');case 5:e.t0=t.kty,e.next="oct"===e.t0?8:"RSA"===e.t0?14:"EC"===e.t0||"OKP"===e.t0?16:17;break;case 8:if("string"===typeof t.k&&t.k){e.next=10;break}throw new TypeError('missing "k" (Key Value) Parameter value');case 10:if(null!==n&&void 0!==n||(n=!0!==t.ext),!n){e.next=13;break}return e.abrupt("return",Ue(s(s({},t),{},{alg:r,ext:!1})));case 13:return e.abrupt("return",q(t.k));case 14:if(void 0===t.oth){e.next=16;break}throw new b('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case 16:return e.abrupt("return",Ue(s(s({},t),{},{alg:r})));case 17:throw new b('unsupported "kty" (Key Type) Parameter value');case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Me=function(e,t,r){if(!(t instanceof Uint8Array)&&!(null===t||void 0===t?void 0:t.type))throw new TypeError(Z(t,"KeyObject","CryptoKey","Uint8Array"));if(e.startsWith("HS")||"dir"===e||e.startsWith("PBES2")||e.match(/^A\d{3}(?:GCM)?KW$/)){if(t instanceof Uint8Array||"secret"===t.type)return;throw new TypeError('CryptoKey or KeyObject instances for symmetric algorithms must be of type "secret"')}if(t instanceof Uint8Array)throw new TypeError(Z(t,"KeyObject","CryptoKey"));if("secret"===t.type)throw new TypeError('CryptoKey or KeyObject instances for asymmetric algorithms must not be of type "secret"');if("sign"===r&&"public"===t.type)throw new TypeError('CryptoKey or KeyObject instances for asymmetric algorithm signing must be of type "private"');if("decrypt"===r&&"public"===t.type)throw new TypeError('CryptoKey or KeyObject instances for asymmetric algorithm decryption must be of type "private"')};function Be(e){if(!e)throw new S("JWE Encrypted Key missing")}function He(e,t,r){if(void 0===e[t])throw new S("JOSE Header ".concat(r," (").concat(t,") missing"))}function Ke(e,t,r,n){return Ve.apply(this,arguments)}function Ve(){return(Ve=u(c.mark((function e(t,r,n,o){var i,a,s,u,l,h,p,f,d;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Me(t,r,"decrypt"),e.t0=t,e.next="dir"===e.t0?4:"ECDH-ES"===e.t0?7:"ECDH-ES+A128KW"===e.t0||"ECDH-ES+A192KW"===e.t0||"ECDH-ES+A256KW"===e.t0?9:"RSA1_5"===e.t0||"RSA-OAEP"===e.t0||"RSA-OAEP-256"===e.t0||"RSA-OAEP-384"===e.t0||"RSA-OAEP-512"===e.t0?25:"PBES2-HS256+A128KW"===e.t0||"PBES2-HS384+A192KW"===e.t0||"PBES2-HS512+A256KW"===e.t0?27:"A128KW"===e.t0||"A192KW"===e.t0||"A256KW"===e.t0?33:"A128GCMKW"===e.t0||"A192GCMKW"===e.t0||"A256GCMKW"===e.t0?35:41;break;case 4:if(void 0===n){e.next=6;break}throw new S("Encountered unexpected JWE Encrypted Key");case 6:return e.abrupt("return",r);case 7:if(void 0===n){e.next=9;break}throw new S("Encountered unexpected JWE Encrypted Key");case 9:if(He(o,"epk","Ephemeral Public Key"),ge(r)){e.next=12;break}throw new b("ECDH-ES with the provided key is not allowed or not supported by your javascript runtime");case 12:return e.next=14,Ne(o.epk,t);case 14:return i=e.sent,void 0!==o.apu&&(a=q(o.apu)),void 0!==o.apv&&(s=q(o.apv)),e.next=19,fe(i,r,"ECDH-ES"===t?o.enc:t,parseInt(t.substr(-5,3),10)||Ie.get(o.enc),a,s);case 19:if(u=e.sent,"ECDH-ES"!==t){e.next=22;break}return e.abrupt("return",u);case 22:return Be(n),l=t.substr(-6),e.abrupt("return",he(l,u,n));case 25:return Be(n),e.abrupt("return",Ee(t,r,n));case 27:return Be(n),He(o,"p2c","PBES2 Count"),He(o,"p2s","PBES2 Salt"),h=o.p2c,p=q(o.p2s),e.abrupt("return",we(t,r,n,h,p));case 33:return Be(n),e.abrupt("return",he(t,r,n));case 35:return Be(n),He(o,"iv","Initialization Vector"),He(o,"tag","Authentication Tag"),f=q(o.iv),d=q(o.tag),e.abrupt("return",Re(t,r,n,f,d));case 41:throw new b('unsupported or invalid "alg" (JWE Algorithm) header value');case 42:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function We(e,t,r,n,o){if(void 0!==o.crit&&void 0===n.crit)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!n||void 0===n.crit)return new Set;if(!Array.isArray(n.crit)||0===n.crit.length||n.crit.some((function(e){return"string"!==typeof e||0===e.length})))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');var i;i=void 0!==r?new Map([].concat(a(Object.entries(r)),a(t.entries()))):t;var s,c=l(n.crit);try{for(c.s();!(s=c.n()).done;){var u=s.value;if(!i.has(u))throw new b('Extension Header Parameter "'.concat(u,'" is not recognized'));if(void 0===o[u])throw new e('Extension Header Parameter "'.concat(u,'" is missing'));if(i.get(u)&&void 0===n[u])throw new e('Extension Header Parameter "'.concat(u,'" MUST be integrity protected'))}}catch(h){c.e(h)}finally{c.f()}return new Set(n.crit)}var qe=function(e,t){if(void 0!==t&&(!Array.isArray(t)||t.some((function(e){return"string"!==typeof e}))))throw new TypeError('"'.concat(e,'" option must be an array of strings'));if(t)return new Set(t)},ze=je(me),Je=We.bind(void 0,S,new Map),Ge=qe.bind(void 0,"keyManagementAlgorithms"),Ye=qe.bind(void 0,"contentEncryptionAlgorithms");function $e(e,t,r){return Qe.apply(this,arguments)}function Qe(){return(Qe=u(c.mark((function e(t,r,n){var o,i,a,u,l,h,p,f,d,g,m,v,w,_,k,E;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O(t)){e.next=2;break}throw new S("Flattened JWE must be an object");case 2:if(void 0!==t.protected||void 0!==t.header||void 0!==t.unprotected){e.next=4;break}throw new S("JOSE Header missing");case 4:if("string"===typeof t.iv){e.next=6;break}throw new S("JWE Initialization Vector missing or incorrect type");case 6:if("string"===typeof t.ciphertext){e.next=8;break}throw new S("JWE Ciphertext missing or incorrect type");case 8:if("string"===typeof t.tag){e.next=10;break}throw new S("JWE Authentication Tag missing or incorrect type");case 10:if(void 0===t.protected||"string"===typeof t.protected){e.next=12;break}throw new S("JWE Protected Header incorrect type");case 12:if(void 0===t.encrypted_key||"string"===typeof t.encrypted_key){e.next=14;break}throw new S("JWE Encrypted Key incorrect type");case 14:if(void 0===t.aad||"string"===typeof t.aad){e.next=16;break}throw new S("JWE AAD incorrect type");case 16:if(void 0===t.header||O(t.header)){e.next=18;break}throw new S("JWE Shared Unprotected Header incorrect type");case 18:if(void 0===t.unprotected||O(t.unprotected)){e.next=20;break}throw new S("JWE Per-Recipient Unprotected Header incorrect type");case 20:if(t.protected&&(a=q(t.protected),i=JSON.parse(I.decode(a))),T(i,t.header,t.unprotected)){e.next=23;break}throw new S("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");case 23:if(u=s(s(s({},i),t.header),t.unprotected),Je(null===n||void 0===n?void 0:n.crit,i,u),void 0===u.zip){e.next=30;break}if(i&&i.zip){e.next=28;break}throw new S('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');case 28:if("DEF"===u.zip){e.next=30;break}throw new b('unsupported JWE "zip" (Compression Algorithm) Header Parameter value');case 30:if(l=u.alg,h=u.enc,"string"===typeof l&&l){e.next=33;break}throw new S("missing JWE Algorithm (alg) in JWE Header");case 33:if("string"===typeof h&&h){e.next=35;break}throw new S("missing JWE Encryption Algorithm (enc) in JWE Header");case 35:if(p=n&&Ge(n.keyManagementAlgorithms),f=n&&Ye(n.contentEncryptionAlgorithms),!p||p.has(l)){e.next=39;break}throw new y('"alg" (Algorithm) Header Parameter not allowed');case 39:if(!f||f.has(h)){e.next=41;break}throw new y('"enc" (Encryption Algorithm) Header Parameter not allowed');case 41:if(void 0!==t.encrypted_key&&(d=q(t.encrypted_key)),"function"!==typeof r){e.next=46;break}return e.next=45,r(i,t);case 45:r=e.sent;case 46:return e.prev=46,e.next=49,Ke(l,r,d,u);case 49:g=e.sent,e.next=57;break;case 52:if(e.prev=52,e.t0=e.catch(46),!(e.t0 instanceof TypeError)){e.next=56;break}throw e.t0;case 56:g=ze(h);case 57:return m=q(t.iv),v=q(t.tag),w=R.encode(null!==(o=t.protected)&&void 0!==o?o:""),_=void 0!==t.aad?D(w,R.encode("."),R.encode(t.aad)):w,e.next=63,oe(h,g,q(t.ciphertext),m,v,_);case 63:if(k=e.sent,"DEF"!==u.zip){e.next=68;break}return e.next=67,((null===n||void 0===n?void 0:n.inflateRaw)||ie)(k);case 67:k=e.sent;case 68:return E={plaintext:k},void 0!==t.protected&&(E.protectedHeader=i),void 0!==t.aad&&(E.additionalAuthenticatedData=q(t.aad)),void 0!==t.unprotected&&(E.sharedUnprotectedHeader=t.unprotected),void 0!==t.header&&(E.unprotectedHeader=t.header),e.abrupt("return",E);case 74:case"end":return e.stop()}}),e,null,[[46,52]])})))).apply(this,arguments)}function Xe(e,t,r){return Ze.apply(this,arguments)}function Ze(){return(Ze=u(c.mark((function e(t,r,n){var o,i,a,s,u,l,h;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof Uint8Array&&(t=I.decode(t)),"string"===typeof t){e.next=3;break}throw new S("Compact JWE must be a string or Uint8Array");case 3:if(o=t.split("."),i=o[0],a=o[1],s=o[2],u=o[3],l=o[4],5===o.length){e.next=6;break}throw new S("Invalid Compact JWE");case 6:return e.next=8,$e({ciphertext:u||void 0,iv:s||void 0,protected:i||void 0,tag:l||void 0,encrypted_key:a||void 0},r,n);case 8:return h=e.sent,e.abrupt("return",{plaintext:h.plaintext,protectedHeader:h.protectedHeader});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var et=function(){var e=u(c.mark((function e(t){var r,n;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t instanceof Uint8Array)){e.next=2;break}return e.abrupt("return",{kty:"oct",k:W(t)});case 2:if(X(t)){e.next=4;break}throw new TypeError(Z(t,"CryptoKey","Uint8Array"));case 4:if(t.extractable){e.next=6;break}throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");case 6:return e.next=8,Q.subtle.exportKey("jwk",t);case 8:return r=e.sent,r.ext,r.key_ops,r.alg,r.use,n=i(r,["ext","key_ops","alg","use"]),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function tt(e){return rt.apply(this,arguments)}function rt(){return(rt=u(c.mark((function e(t){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",et(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var nt=je(me);function ot(e,t,r,n){return it.apply(this,arguments)}function it(){return(it=u(c.mark((function e(t,r,n,o){var a,s,u,l,h,p,f,d,g,m,v,y,w,S,_,k,E,x,A,C=arguments;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=C.length>4&&void 0!==C[4]?C[4]:{},Me(t,n,"encrypt"),e.t0=t,e.next="dir"===e.t0?5:"ECDH-ES"===e.t0||"ECDH-ES+A128KW"===e.t0||"ECDH-ES+A192KW"===e.t0||"ECDH-ES+A256KW"===e.t0?7:"RSA1_5"===e.t0||"RSA-OAEP"===e.t0||"RSA-OAEP-256"===e.t0||"RSA-OAEP-384"===e.t0||"RSA-OAEP-512"===e.t0?38:"PBES2-HS256+A128KW"===e.t0||"PBES2-HS384+A192KW"===e.t0||"PBES2-HS512+A256KW"===e.t0?43:"A128KW"===e.t0||"A192KW"===e.t0||"A256KW"===e.t0?52:"A128GCMKW"===e.t0||"A192GCMKW"===e.t0||"A256GCMKW"===e.t0?57:66;break;case 5:return l=n,e.abrupt("break",67);case 7:if(ge(n)){e.next=9;break}throw new b("ECDH-ES with the provided key is not allowed or not supported by your javascript runtime");case 9:if(h=a.apu,p=a.apv,f=a.epk,e.t1=f,e.t1){e.next=16;break}return e.next=15,de(n);case 15:f=e.sent;case 16:return e.next=18,tt(f);case 18:return d=e.sent,g=d.x,m=d.y,v=d.crv,y=d.kty,e.next=25,fe(n,f,"ECDH-ES"===t?r:t,parseInt(t.substr(-5,3),10)||Ie.get(r),h,p);case 25:if(w=e.sent,u={epk:{x:g,y:m,crv:v,kty:y}},h&&(u.apu=W(h)),p&&(u.apv=W(p)),"ECDH-ES"!==t){e.next=32;break}return l=w,e.abrupt("break",67);case 32:return l=o||nt(r),S=t.substr(-6),e.next=36,le(S,w,l);case 36:return s=e.sent,e.abrupt("break",67);case 38:return l=o||nt(r),e.next=41,ke(t,n,l);case 41:return s=e.sent,e.abrupt("break",67);case 43:return l=o||nt(r),_=a.p2c,k=a.p2s,e.next=47,be(t,n,l,_,k);case 47:return E=e.sent,s=E.encryptedKey,u=i(E,["encryptedKey"]),e.abrupt("break",67);case 52:return l=o||nt(r),e.next=55,le(t,n,l);case 55:return s=e.sent,e.abrupt("break",67);case 57:return l=o||nt(r),x=a.iv,e.next=61,Oe(t,n,l,x);case 61:return A=e.sent,s=A.encryptedKey,u=i(A,["encryptedKey"]),e.abrupt("break",67);case 66:throw new b('unsupported or invalid "alg" (JWE Algorithm) header value');case 67:return e.abrupt("return",{cek:l,encryptedKey:s,parameters:u});case 68:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var at=J(me),st=We.bind(void 0,S,new Map),ct=function(){function e(t){h(this,e),this._plaintext=t}return o(e,[{key:"setKeyManagementParameters",value:function(e){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}},{key:"setProtectedHeader",value:function(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}},{key:"setSharedUnprotectedHeader",value:function(e){if(this._sharedUnprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=e,this}},{key:"setUnprotectedHeader",value:function(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}},{key:"setAdditionalAuthenticatedData",value:function(e){return this._aad=e,this}},{key:"setContentEncryptionKey",value:function(e){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}},{key:"setInitializationVector",value:function(e){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=e,this}},{key:"encrypt",value:function(){var e=u(c.mark((function e(t,r){var n,o,i,a,u,l,h,p,f,d,g,m,v,y,w,_;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._protectedHeader||this._unprotectedHeader||this._sharedUnprotectedHeader){e.next=2;break}throw new S("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");case 2:if(T(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader)){e.next=4;break}throw new S("JWE Shared Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");case 4:if(n=s(s(s({},this._protectedHeader),this._unprotectedHeader),this._sharedUnprotectedHeader),st(null===r||void 0===r?void 0:r.crit,this._protectedHeader,n),void 0===n.zip){e.next=11;break}if(this._protectedHeader&&this._protectedHeader.zip){e.next=9;break}throw new S('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');case 9:if("DEF"===n.zip){e.next=11;break}throw new b('unsupported JWE "zip" (Compression Algorithm) Header Parameter value');case 11:if(o=n.alg,i=n.enc,"string"===typeof o&&o){e.next=14;break}throw new S('JWE "alg" (Algorithm) Header Parameter missing or invalid');case 14:if("string"===typeof i&&i){e.next=16;break}throw new S('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');case 16:if("dir"!==o){e.next=21;break}if(!this._cek){e.next=19;break}throw new TypeError("setContentEncryptionKey cannot be called when using Direct Encryption");case 19:e.next=24;break;case 21:if("ECDH-ES"!==o){e.next=24;break}if(!this._cek){e.next=24;break}throw new TypeError("setContentEncryptionKey cannot be called when using Direct Key Agreement");case 24:return e.next=26,ot(o,i,t,this._cek,this._keyManagementParameters);case 26:if(h=e.sent,u=h.cek,a=h.encryptedKey,(l=h.parameters)&&(this._protectedHeader?this._protectedHeader=s(s({},this._protectedHeader),l):this.setProtectedHeader(l)),this._iv||(this._iv=at(i)),f=this._protectedHeader?R.encode(W(JSON.stringify(this._protectedHeader))):R.encode(""),this._aad?(d=W(this._aad),p=D(f,R.encode("."),R.encode(d))):p=f,"DEF"!==n.zip){e.next=45;break}return e.next=37,((null===r||void 0===r?void 0:r.deflateRaw)||ae)(this._plaintext);case 37:return v=e.sent,e.next=40,Fe(i,v,u,this._iv,p);case 40:y=e.sent,g=y.ciphertext,m=y.tag,e.next=50;break;case 45:return e.next=47,Fe(i,this._plaintext,u,this._iv,p);case 47:w=e.sent,g=w.ciphertext,m=w.tag;case 50:return _={ciphertext:W(g),iv:W(this._iv),tag:W(m)},a&&(_.encrypted_key=W(a)),d&&(_.aad=d),this._protectedHeader&&(_.protected=I.decode(f)),this._sharedUnprotectedHeader&&(_.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(_.header=this._unprotectedHeader),e.abrupt("return",_);case 57:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}(),ut=function(){function e(t){h(this,e),this._flattened=new ct(t)}return o(e,[{key:"setContentEncryptionKey",value:function(e){return this._flattened.setContentEncryptionKey(e),this}},{key:"setInitializationVector",value:function(e){return this._flattened.setInitializationVector(e),this}},{key:"setProtectedHeader",value:function(e){return this._flattened.setProtectedHeader(e),this}},{key:"setKeyManagementParameters",value:function(e){return this._flattened.setKeyManagementParameters(e),this}},{key:"encrypt",value:function(){var e=u(c.mark((function e(t,r){var n;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._flattened.encrypt(t,r);case 2:return n=e.sent,e.abrupt("return",[n.protected,n.encrypted_key,n.iv,n.ciphertext,n.tag].join("."));case 4:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}();function lt(){return(lt=u(c.mark((function e(t,r,n){var o,i,a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O(t)){e.next=2;break}throw new S("General JWE must be an object");case 2:if(Array.isArray(t.recipients)&&t.recipients.every(O)){e.next=4;break}throw new S("JWE Recipients missing or incorrect type");case 4:o=l(t.recipients),e.prev=5,o.s();case 7:if((i=o.n()).done){e.next=19;break}return a=i.value,e.prev=9,e.next=12,$e({aad:t.aad,ciphertext:t.ciphertext,encrypted_key:a.encrypted_key,header:a.header,iv:t.iv,protected:t.protected,tag:t.tag,unprotected:t.unprotected},r,n);case 12:return e.abrupt("return",e.sent);case 15:e.prev=15,e.t0=e.catch(9);case 17:e.next=7;break;case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(5),o.e(e.t1);case 24:return e.prev=24,o.f(),e.finish(24);case 27:throw new w;case 28:case"end":return e.stop()}}),e,null,[[5,21,24,27],[9,15]])})))).apply(this,arguments)}function ht(){return(ht=u(c.mark((function e(t,r){var n,o;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O((n=s(s({},t),r.header)).jwk)){e.next=3;break}throw new _('"jwk" (JSON Web Key) Header Parameter must be a JSON object');case 3:return e.next=5,Ne(n.jwk,n.alg,!0);case 5:if("public"===(o=e.sent).type){e.next=8;break}throw new _('"jwk" (JSON Web Key) Header Parameter must be a public key');case 8:return e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pt=function(e,t){if("string"!==typeof e||!e)throw new E("".concat(t," missing or invalid"))};function ft(){return(ft=u(c.mark((function e(t){var r,n,o,i=arguments;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>1&&void 0!==i[1]?i[1]:"sha256",O(t)){e.next=3;break}throw new TypeError("JWK must be an object");case 3:e.t0=t.kty,e.next="EC"===e.t0?6:"OKP"===e.t0?11:"RSA"===e.t0?15:"oct"===e.t0?19:22;break;case 6:return pt(t.crv,'"crv" (Curve) Parameter'),pt(t.x,'"x" (X Coordinate) Parameter'),pt(t.y,'"y" (Y Coordinate) Parameter'),n={crv:t.crv,kty:t.kty,x:t.x,y:t.y},e.abrupt("break",23);case 11:return pt(t.crv,'"crv" (Subtype of Key Pair) Parameter'),pt(t.x,'"x" (Public Key) Parameter'),n={crv:t.crv,kty:t.kty,x:t.x},e.abrupt("break",23);case 15:return pt(t.e,'"e" (Exponent) Parameter'),pt(t.n,'"n" (Modulus) Parameter'),n={e:t.e,kty:t.kty,n:t.n},e.abrupt("break",23);case 19:return pt(t.k,'"k" (Key Value) Parameter'),n={k:t.k,kty:t.kty},e.abrupt("break",23);case 22:throw new b('"kty" (Key Type) Parameter missing or unsupported');case 23:return o=R.encode(JSON.stringify(n)),e.t1=W,e.next=27,pe(r,o);case 27:return e.t2=e.sent,e.abrupt("return",(0,e.t1)(e.t2));case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var dt=function(){var e=u(c.mark((function e(t,r){var n,o;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"function"===typeof AbortController&&(n=new AbortController,setTimeout((function(){return n.abort()}),r)),e.next=3,V.fetch(t.href,{signal:n?n.signal:void 0,redirect:"manual",referrerPolicy:"no-referrer",credentials:"omit",mode:"cors",method:"GET"});case 3:if(200===(o=e.sent).status){e.next=6;break}throw new m("Expected 200 OK from the JSON Web Key Set HTTP response");case 6:return e.prev=6,e.next=9,o.json();case 9:return e.abrupt("return",e.sent);case 12:throw e.prev=12,e.t0=e.catch(6),new m("Failed to parse the JSON Web Key Set HTTP response as JSON");case 15:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(t,r){return e.apply(this,arguments)}}();function gt(e){switch(e.substr(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new b('Unsupported "alg" value for a JSON Web Key Set')}}function mt(e){return O(e)}var vt=function(){function e(t,r){if(h(this,e),this._cached=new WeakMap,!(t instanceof URL))throw new TypeError("url must be an instance of URL");this._url=new URL(t.href),this._options={agent:null===r||void 0===r?void 0:r.agent},this._timeoutDuration="number"===typeof(null===r||void 0===r?void 0:r.timeoutDuration)?null===r||void 0===r?void 0:r.timeoutDuration:5e3,this._cooldownDuration="number"===typeof(null===r||void 0===r?void 0:r.cooldownDuration)?null===r||void 0===r?void 0:r.cooldownDuration:3e4}return o(e,[{key:"coolingDown",value:function(){return"undefined"!==typeof this._cooldownStarted&&Date.now()<this._cooldownStarted+this._cooldownDuration}},{key:"getKey",value:function(){var e=u(c.mark((function e(t){var r,n,o,i,a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._jwks){e.next=3;break}return e.next=3,this.reload();case 3:if(r=this._jwks.keys.filter((function(e){var r=e.kty===gt(t.alg);if(r&&"string"===typeof t.kid&&(r=t.kid===e.kid),r&&"string"===typeof e.alg&&(r=t.alg===e.alg),r&&"string"===typeof e.use&&(r="sig"===e.use),r&&Array.isArray(e.key_ops)&&(r=e.key_ops.includes("verify")),r&&"EdDSA"===t.alg&&(r=["Ed25519","Ed448"].includes(e.crv)),r)switch(t.alg){case"ES256":r="P-256"===e.crv;break;case"ES256K":r="secp256k1"===e.crv;break;case"ES384":r="P-384"===e.crv;break;case"ES512":r="P-521"===e.crv}return r})),n=r[0],0!==(o=r.length)){e.next=13;break}if(!1!==this.coolingDown()){e.next=10;break}return e.next=9,this.reload();case 9:return e.abrupt("return",this.getKey(t));case 10:throw new A;case 13:if(1===o){e.next=15;break}throw new C;case 15:if(this._cached.has(n)||this._cached.set(n,{}),void 0!==(i=this._cached.get(n))[t.alg]){e.next=24;break}return e.next=20,Ne(s(s({},n),{},{alg:t.alg}));case 20:if("public"===(a=e.sent).type){e.next=23;break}throw new x("JSON Web Key Set members must be public keys");case 23:i[t.alg]=a;case 24:return e.abrupt("return",i[t.alg]);case 25:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reload",value:function(){var e=u(c.mark((function e(){var t=this;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._pendingFetch||(this._pendingFetch=dt(this._url,this._timeoutDuration,this._options).then((function(e){if("object"!==typeof e||!e||!Array.isArray(e.keys)||!e.keys.every(mt))throw new x("JSON Web Key Set malformed");t._jwks={keys:e.keys},t._cooldownStarted=Date.now(),t._pendingFetch=void 0})).catch((function(e){throw t._pendingFetch=void 0,e}))),e.next=3,this._pendingFetch;case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function yt(e){switch(e){case"HS256":return{hash:{name:"SHA-256"},name:"HMAC"};case"HS384":return{hash:{name:"SHA-384"},name:"HMAC"};case"HS512":return{hash:{name:"SHA-512"},name:"HMAC"};case"PS256":return{hash:{name:"SHA-256"},name:"RSA-PSS",saltLength:32};case"PS384":return{hash:{name:"SHA-384"},name:"RSA-PSS",saltLength:48};case"PS512":return{hash:{name:"SHA-512"},name:"RSA-PSS",saltLength:64};case"RS256":return{hash:{name:"SHA-256"},name:"RSASSA-PKCS1-v1_5"};case"RS384":return{hash:{name:"SHA-384"},name:"RSASSA-PKCS1-v1_5"};case"RS512":return{hash:{name:"SHA-512"},name:"RSASSA-PKCS1-v1_5"};case"ES256":return{hash:{name:"SHA-256"},name:"ECDSA",namedCurve:"P-256"};case"ES384":return{hash:{name:"SHA-384"},name:"ECDSA",namedCurve:"P-384"};case"ES512":return{hash:{name:"SHA-512"},name:"ECDSA",namedCurve:"P-521"};default:throw new b("alg ".concat(e," is not supported either by JOSE or your javascript runtime"))}}function bt(e,t,r){if(X(t))return t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError(Z(t,"CryptoKey"));return Q.subtle.importKey("raw",t,{hash:{name:"SHA-".concat(e.substr(-3))},name:"HMAC"},!1,[r])}throw new TypeError(Z(t,"CryptoKey","Uint8Array"))}var wt=function(){var e=u(c.mark((function e(t,r,n){var o,i;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bt(t,r,"sign");case 2:return o=e.sent,_e(t,o),e.next=6,Q.subtle.sign(yt(t),o,n);case 6:return i=e.sent,e.abrupt("return",new Uint8Array(i));case 8:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),St=We.bind(void 0,_,new Map([["b64",!0]])),_t=function(){function e(t){h(this,e),this._payload=t}return o(e,[{key:"setProtectedHeader",value:function(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}},{key:"setUnprotectedHeader",value:function(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}},{key:"sign",value:function(){var e=u(c.mark((function e(t,r){var n,o,i,a,u,l,h,p,f;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._protectedHeader||this._unprotectedHeader){e.next=2;break}throw new _("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");case 2:if(T(this._protectedHeader,this._unprotectedHeader)){e.next=4;break}throw new _("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");case 4:if(n=s(s({},this._protectedHeader),this._unprotectedHeader),o=St(null===r||void 0===r?void 0:r.crit,this._protectedHeader,n),i=!0,!o.has("b64")){e.next=11;break}if("boolean"===typeof(i=this._protectedHeader.b64)){e.next=11;break}throw new _('The "b64" (base64url-encode payload) Header Parameter must be a boolean');case 11:if("string"===typeof(a=n.alg)&&a){e.next=14;break}throw new _('JWS "alg" (Algorithm) Header Parameter missing or invalid');case 14:return Me(a,t,"sign"),u=this._payload,i&&(u=R.encode(W(u))),l=this._protectedHeader?R.encode(W(JSON.stringify(this._protectedHeader))):R.encode(""),h=D(l,R.encode("."),u),e.next=21,wt(a,t,h);case 21:return p=e.sent,f={signature:W(p)},i&&(f.payload=I.decode(u)),this._unprotectedHeader&&(f.header=this._unprotectedHeader),this._protectedHeader&&(f.protected=I.decode(l)),e.abrupt("return",f);case 27:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}(),kt=function(){function e(t){h(this,e),this._flattened=new _t(t)}return o(e,[{key:"setProtectedHeader",value:function(e){return this._flattened.setProtectedHeader(e),this}},{key:"sign",value:function(){var e=u(c.mark((function e(t,r){var n;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._flattened.sign(t,r);case 2:if(void 0!==(n=e.sent).payload){e.next=5;break}throw new TypeError("use the flattened module for creating JWS with b64: false");case 5:return e.abrupt("return","".concat(n.protected,".").concat(n.payload,".").concat(n.signature));case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}(),Et=function(){var e=u(c.mark((function e(t,r,n,o){var i,a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bt(t,r,"verify");case 2:return i=e.sent,_e(t,i),a=yt(t),e.prev=5,e.next=8,Q.subtle.verify(a,i,n,o);case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(5),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t,r,n,o){return e.apply(this,arguments)}}(),xt=We.bind(void 0,_,new Map([["b64",!0]])),At=qe.bind(void 0,"algorithms");function Ct(e,t,r){return Pt.apply(this,arguments)}function Pt(){return(Pt=u(c.mark((function e(t,r,n){var o,i,a,u,l,h,p,f,d,g,m,v;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O(t)){e.next=2;break}throw new _("Flattened JWS must be an object");case 2:if(void 0!==t.protected||void 0!==t.header){e.next=4;break}throw new _('Flattened JWS must have either of the "protected" or "header" members');case 4:if(void 0===t.protected||"string"===typeof t.protected){e.next=6;break}throw new _("JWS Protected Header incorrect type");case 6:if(void 0!==t.payload){e.next=8;break}throw new _("JWS Payload missing");case 8:if("string"===typeof t.signature){e.next=10;break}throw new _("JWS Signature missing or incorrect type");case 10:if(void 0===t.header||O(t.header)){e.next=12;break}throw new _("JWS Unprotected Header incorrect type");case 12:if(i={},t.protected&&(a=q(t.protected),i=JSON.parse(I.decode(a))),T(i,t.header)){e.next=16;break}throw new _("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");case 16:if(u=s(s({},i),t.header),l=xt(null===n||void 0===n?void 0:n.crit,i,u),h=!0,!l.has("b64")){e.next=23;break}if("boolean"===typeof(h=i.b64)){e.next=23;break}throw new _('The "b64" (base64url-encode payload) Header Parameter must be a boolean');case 23:if("string"===typeof(p=u.alg)&&p){e.next=26;break}throw new _('JWS "alg" (Algorithm) Header Parameter missing or invalid');case 26:if(!(f=n&&At(n.algorithms))||f.has(p)){e.next=29;break}throw new y('"alg" (Algorithm) Header Parameter not allowed');case 29:if(!h){e.next=34;break}if("string"===typeof t.payload){e.next=32;break}throw new _("JWS Payload must be a string");case 32:e.next=36;break;case 34:if("string"===typeof t.payload||t.payload instanceof Uint8Array){e.next=36;break}throw new _("JWS Payload must be a string or an Uint8Array instance");case 36:if("function"!==typeof r){e.next=40;break}return e.next=39,r(i,t);case 39:r=e.sent;case 40:return Me(p,r,"verify"),d=D(R.encode(null!==(o=t.protected)&&void 0!==o?o:""),R.encode("."),"string"===typeof t.payload?R.encode(t.payload):t.payload),g=q(t.signature),e.next=45,Et(p,r,g,d);case 45:if(e.sent){e.next=48;break}throw new P;case 48:return m=h?q(t.payload):"string"===typeof t.payload?R.encode(t.payload):t.payload,v={payload:m},void 0!==t.protected&&(v.protectedHeader=i),void 0!==t.header&&(v.unprotectedHeader=t.header),e.abrupt("return",v);case 53:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ft(e,t,r){return Tt.apply(this,arguments)}function Tt(){return(Tt=u(c.mark((function e(t,r,n){var o,i,a,s,u;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof Uint8Array&&(t=I.decode(t)),"string"===typeof t){e.next=3;break}throw new _("Compact JWS must be a string or Uint8Array");case 3:if(o=t.split("."),i=o[0],a=o[1],s=o[2],3===o.length){e.next=6;break}throw new _("Invalid Compact JWS");case 6:return e.next=8,Ct({payload:a||void 0,protected:i||void 0,signature:s||void 0},r,n);case 8:return u=e.sent,e.abrupt("return",{payload:u.payload,protectedHeader:u.protectedHeader});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ot=new WeakMap,Rt=function(){function e(){h(this,e)}return o(e,[{key:"setProtectedHeader",value:function(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}},{key:"setUnprotectedHeader",value:function(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}},{key:"_protectedHeader",get:function(){return Ot.get(this).protectedHeader},set:function(e){Ot.get(this).protectedHeader=e}},{key:"_unprotectedHeader",get:function(){return Ot.get(this).unprotectedHeader},set:function(e){Ot.get(this).unprotectedHeader=e}}]),e}(),It=function(){function e(t){h(this,e),this._signatures=[],this._payload=t}return o(e,[{key:"addSignature",value:function(e,t){var r=new Rt;return Ot.set(r,{key:e,options:t}),this._signatures.push(r),r}},{key:"sign",value:function(){var e=u(c.mark((function e(){var t,r=this;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._signatures.length){e.next=2;break}throw new _("at least one signature must be added");case 2:return t={signatures:[]},e.next=5,Promise.all(this._signatures.map(function(){var e=u(c.mark((function e(n,o){var a,s,u,l,h,p,f,d,g;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ot.get(n),s=a.protectedHeader,u=a.unprotectedHeader,l=a.options,h=a.key,p=new _t(r._payload),s&&p.setProtectedHeader(s),u&&p.setUnprotectedHeader(u),e.next=6,p.sign(h,l);case 6:if(f=e.sent,d=f.payload,g=i(f,["payload"]),!("payload"in t)||t.payload===d){e.next=13;break}throw new _("index ".concat(o," signature produced a different payload"));case 13:t.payload=d;case 14:t.signatures.push(g);case 15:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()));case 5:return"payload"in t&&void 0===t.payload&&delete t.payload,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function jt(){return(jt=u(c.mark((function e(t,r,n){var o,i,a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O(t)){e.next=2;break}throw new _("General JWS must be an object");case 2:if(Array.isArray(t.signatures)&&t.signatures.every(O)){e.next=4;break}throw new _("JWS Signatures missing or incorrect type");case 4:o=l(t.signatures),e.prev=5,o.s();case 7:if((i=o.n()).done){e.next=19;break}return a=i.value,e.prev=9,e.next=12,Ct({header:a.header,payload:t.payload,protected:a.protected,signature:a.signature},r,n);case 12:return e.abrupt("return",e.sent);case 15:e.prev=15,e.t0=e.catch(9);case 17:e.next=7;break;case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(5),o.e(e.t1);case 24:return e.prev=24,o.f(),e.finish(24);case 27:throw new P;case 28:case"end":return e.stop()}}),e,null,[[5,21,24,27],[9,15]])})))).apply(this,arguments)}var Dt=function(e){return Math.floor(e.getTime()/1e3)},Ut=86400,Nt=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i,Lt=function(e){var t=Nt.exec(e);if(!t)throw new TypeError("Invalid time period format");var r=parseFloat(t[1]);switch(t[2].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(r);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(60*r);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(3600*r);case"day":case"days":case"d":return Math.round(r*Ut);case"week":case"weeks":case"w":return Math.round(604800*r);default:return Math.round(31557600*r)}},Mt=function(e){return e.toLowerCase().replace(/^application\//,"")},Bt=function(e,t){return"string"===typeof e?t.includes(e):!!Array.isArray(e)&&t.some(Set.prototype.has.bind(new Set(e)))},Ht=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.typ;if(o&&("string"!==typeof e.typ||Mt(e.typ)!==Mt(o)))throw new v('unexpected "typ" JWT header value',"typ","check_failed");try{r=JSON.parse(I.decode(t))}catch(f){}if(!O(r))throw new k("JWT Claims Set must be a top-level JSON object");var i=n.issuer;if(i&&!(Array.isArray(i)?i:[i]).includes(r.iss))throw new v('unexpected "iss" claim value',"iss","check_failed");var a=n.subject;if(a&&r.sub!==a)throw new v('unexpected "sub" claim value',"sub","check_failed");var s,c=n.audience;if(c&&!Bt(r.aud,"string"===typeof c?[c]:c))throw new v('unexpected "aud" claim value',"aud","check_failed");switch(typeof n.clockTolerance){case"string":s=Lt(n.clockTolerance);break;case"number":s=n.clockTolerance;break;case"undefined":s=0;break;default:throw new TypeError("Invalid clockTolerance option type")}var u=n.currentDate,l=Dt(u||new Date);if(void 0!==r.iat||n.maxTokenAge){if("number"!==typeof r.iat)throw new v('"iat" claim must be a number',"iat","invalid");if(void 0===r.exp&&r.iat>l+s)throw new v('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}if(void 0!==r.nbf){if("number"!==typeof r.nbf)throw new v('"nbf" claim must be a number',"nbf","invalid");if(r.nbf>l+s)throw new v('"nbf" claim timestamp check failed',"nbf","check_failed")}if(void 0!==r.exp){if("number"!==typeof r.exp)throw new v('"exp" claim must be a number',"exp","invalid");if(r.exp<=l-s)throw new F('"exp" claim timestamp check failed',"exp","check_failed")}if(n.maxTokenAge){var h=l-r.iat,p="number"===typeof n.maxTokenAge?n.maxTokenAge:Lt(n.maxTokenAge);if(h-s>p)throw new F('"iat" claim timestamp check failed (too far in the past)',"iat","check_failed");if(h<0-s)throw new v('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}return r};function Kt(){return(Kt=u(c.mark((function e(t,r,n){var o,i,a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xe(t,r,n);case 2:if(o=e.sent,i=Ht(o.protectedHeader,o.plaintext,n),void 0===(a=o.protectedHeader).iss||a.iss===i.iss){e.next=7;break}throw new v('replicated "iss" claim header parameter mismatch',"iss","mismatch");case 7:if(void 0===a.sub||a.sub===i.sub){e.next=9;break}throw new v('replicated "sub" claim header parameter mismatch',"sub","mismatch");case 9:if(void 0===a.aud||JSON.stringify(a.aud)===JSON.stringify(i.aud)){e.next=11;break}throw new v('replicated "aud" claim header parameter mismatch',"aud","mismatch");case 11:return e.abrupt("return",{payload:i,protectedHeader:a});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Vt=function(){function e(t){if(h(this,e),!O(t))throw new TypeError("JWT Claims Set MUST be an object");this._payload=t}return o(e,[{key:"setIssuer",value:function(e){return this._payload=s(s({},this._payload),{},{iss:e}),this}},{key:"setSubject",value:function(e){return this._payload=s(s({},this._payload),{},{sub:e}),this}},{key:"setAudience",value:function(e){return this._payload=s(s({},this._payload),{},{aud:e}),this}},{key:"setJti",value:function(e){return this._payload=s(s({},this._payload),{},{jti:e}),this}},{key:"setNotBefore",value:function(e){return this._payload=s(s({},this._payload),{},"number"===typeof e?{nbf:e}:{nbf:Dt(new Date)+Lt(e)}),this}},{key:"setExpirationTime",value:function(e){return this._payload=s(s({},this._payload),{},"number"===typeof e?{exp:e}:{exp:Dt(new Date)+Lt(e)}),this}},{key:"setIssuedAt",value:function(e){return this._payload=s(s({},this._payload),{},"undefined"===typeof e?{iat:Dt(new Date)}:{iat:e}),this}}]),e}(),Wt=function(e){f(r,e);var t=d(r);function r(){return h(this,r),t.apply(this,arguments)}return o(r,[{key:"setProtectedHeader",value:function(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}},{key:"setKeyManagementParameters",value:function(e){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}},{key:"setContentEncryptionKey",value:function(e){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}},{key:"setInitializationVector",value:function(e){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=e,this}},{key:"replicateIssuerAsHeader",value:function(){return this._replicateIssuerAsHeader=!0,this}},{key:"replicateSubjectAsHeader",value:function(){return this._replicateSubjectAsHeader=!0,this}},{key:"replicateAudienceAsHeader",value:function(){return this._replicateAudienceAsHeader=!0,this}},{key:"encrypt",value:function(){var e=u(c.mark((function e(t,r){var n;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new ut(R.encode(JSON.stringify(this._payload))),this._replicateIssuerAsHeader&&(this._protectedHeader=s(s({},this._protectedHeader),{},{iss:this._payload.iss})),this._replicateSubjectAsHeader&&(this._protectedHeader=s(s({},this._protectedHeader),{},{sub:this._payload.sub})),this._replicateAudienceAsHeader&&(this._protectedHeader=s(s({},this._protectedHeader),{},{aud:this._payload.aud})),n.setProtectedHeader(this._protectedHeader),this._iv&&n.setInitializationVector(this._iv),this._cek&&n.setContentEncryptionKey(this._cek),this._keyManagementParameters&&n.setKeyManagementParameters(this._keyManagementParameters),e.abrupt("return",n.encrypt(t,r));case 9:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),r}(Vt),qt=function(e){f(r,e);var t=d(r);function r(){return h(this,r),t.apply(this,arguments)}return o(r,[{key:"setProtectedHeader",value:function(e){return this._protectedHeader=e,this}},{key:"sign",value:function(){var e=u(c.mark((function e(t,r){var n,o;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((o=new kt(R.encode(JSON.stringify(this._payload)))).setProtectedHeader(this._protectedHeader),!Array.isArray(null===(n=this._protectedHeader)||void 0===n?void 0:n.crit)||!this._protectedHeader.crit.includes("b64")||!1!==this._protectedHeader.b64){e.next=4;break}throw new k("JWTs MUST NOT use unencoded payload");case 4:return e.abrupt("return",o.sign(t,r));case 5:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),r}(Vt),zt=function(e){f(r,e);var t=d(r);function r(){return h(this,r),t.apply(this,arguments)}return o(r,[{key:"encode",value:function(){var e=W(JSON.stringify({alg:"none"})),t=W(JSON.stringify(this._payload));return"".concat(e,".").concat(t,".")}}],[{key:"decode",value:function(e,t){if("string"!==typeof e)throw new k("Unsecured JWT must be a string");var r,n=e.split("."),o=n[0],i=n[1],a=n[2];if(3!==n.length||""!==a)throw new k("Invalid Unsecured JWT");try{if("none"!==(r=JSON.parse(I.decode(q(o)))).alg)throw new Error}catch(s){throw new k("Invalid Unsecured JWT")}return{payload:Ht(r,q(i),t),header:r}}}]),r}(Vt);function Jt(){return(Jt=u(c.mark((function e(t,r,n){var o,i,a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ft(t,r,n);case 2:if(i=e.sent,!(null===(o=i.protectedHeader.crit)||void 0===o?void 0:o.includes("b64"))||!1!==i.protectedHeader.b64){e.next=5;break}throw new k("JWTs MUST NOT use unencoded payload");case 5:return a=Ht(i.protectedHeader,i.payload,n),e.abrupt("return",{payload:a,protectedHeader:i.protectedHeader});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Gt=W,Yt=q;function $t(e,t){return Qt.apply(this,arguments)}function Qt(){return(Qt=u(c.mark((function e(t,r){var n,o,i,a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="HS256"===e.t0||"HS384"===e.t0||"HS512"===e.t0?3:"A128CBC-HS256"===e.t0||"A192CBC-HS384"===e.t0||"A256CBC-HS512"===e.t0?7:"A128KW"===e.t0||"A192KW"===e.t0||"A256KW"===e.t0?9:"A128GCMKW"===e.t0||"A192GCMKW"===e.t0||"A256GCMKW"===e.t0||"A128GCM"===e.t0||"A192GCM"===e.t0||"A256GCM"===e.t0?13:17;break;case 3:return o=parseInt(t.substr(-3),10),i={name:"HMAC",hash:{name:"SHA-".concat(t.substr(-3))},length:o},a=["sign","verify"],e.abrupt("break",18);case 7:return o=parseInt(t.substr(-3),10),e.abrupt("return",me(new Uint8Array(o>>3)));case 9:return o=parseInt(t.substring(1,4),10),i={name:"AES-KW",length:o},a=["wrapKey","unwrapKey"],e.abrupt("break",18);case 13:return o=parseInt(t.substring(1,4),10),i={name:"AES-GCM",length:o},a=["encrypt","decrypt"],e.abrupt("break",18);case 17:throw new b('unsupported or invalid JWK "alg" (Algorithm) Parameter value');case 18:return e.abrupt("return",Q.subtle.generateKey(i,null!==(n=null===r||void 0===r?void 0:r.extractable)&&void 0!==n&&n,a));case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xt(e){var t,r=null!==(t=null===e||void 0===e?void 0:e.modulusLength)&&void 0!==t?t:2048;if("number"!==typeof r||r<2048)throw new b("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return r}function Zt(e,t){return er.apply(this,arguments)}function er(){return(er=u(c.mark((function e(t,r){var n,o,i,a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="PS256"===e.t0||"PS384"===e.t0||"PS512"===e.t0?3:"RS256"===e.t0||"RS384"===e.t0||"RS512"===e.t0?6:"RSA-OAEP"===e.t0||"RSA-OAEP-256"===e.t0||"RSA-OAEP-384"===e.t0||"RSA-OAEP-512"===e.t0?9:"ES256"===e.t0?12:"ES384"===e.t0?15:"ES512"===e.t0?18:"ECDH-ES"===e.t0||"ECDH-ES+A128KW"===e.t0||"ECDH-ES+A192KW"===e.t0||"ECDH-ES+A256KW"===e.t0?21:24;break;case 3:return i={name:"RSA-PSS",hash:{name:"SHA-".concat(t.substr(-3))},publicExponent:new Uint8Array([1,0,1]),modulusLength:Xt(r)},a=["sign","verify"],e.abrupt("break",25);case 6:return i={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-".concat(t.substr(-3))},publicExponent:new Uint8Array([1,0,1]),modulusLength:Xt(r)},a=["sign","verify"],e.abrupt("break",25);case 9:return i={name:"RSA-OAEP",hash:{name:"SHA-".concat(parseInt(t.substr(-3),10)||1)},publicExponent:new Uint8Array([1,0,1]),modulusLength:Xt(r)},a=["decrypt","unwrapKey","encrypt","wrapKey"],e.abrupt("break",25);case 12:return i={name:"ECDSA",namedCurve:"P-256"},a=["sign","verify"],e.abrupt("break",25);case 15:return i={name:"ECDSA",namedCurve:"P-384"},a=["sign","verify"],e.abrupt("break",25);case 18:return i={name:"ECDSA",namedCurve:"P-521"},a=["sign","verify"],e.abrupt("break",25);case 21:return i={name:"ECDH",namedCurve:null!==(n=null===r||void 0===r?void 0:r.crv)&&void 0!==n?n:"P-256"},a=["deriveKey","deriveBits"],e.abrupt("break",25);case 24:throw new b('unsupported or invalid JWK "alg" (Algorithm) Parameter value');case 25:return e.abrupt("return",Q.subtle.generateKey(i,null!==(o=null===r||void 0===r?void 0:r.extractable)&&void 0!==o&&o,a));case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tr(){return(tr=u(c.mark((function e(t,r){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zt(t,r));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rr(){return(rr=u(c.mark((function e(t,r){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$t(t,r));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var nr=me;t.CompactEncrypt=ut,t.CompactSign=kt,t.EmbeddedJWK=function(e,t){return ht.apply(this,arguments)},t.EncryptJWT=Wt,t.FlattenedEncrypt=ct,t.FlattenedSign=_t,t.GeneralSign=It,t.JOSEAlgNotAllowed=y,t.JOSEError=m,t.JOSENotSupported=b,t.JWEDecryptionFailed=w,t.JWEInvalid=S,t.JWKInvalid=E,t.JWKSInvalid=x,t.JWKSMultipleMatchingKeys=C,t.JWKSNoMatchingKey=A,t.JWSInvalid=_,t.JWSSignatureVerificationFailed=P,t.JWTClaimValidationFailed=v,t.JWTExpired=F,t.JWTInvalid=k,t.SignJWT=qt,t.UnsecuredJWT=zt,t.base64UrlDecode=Yt,t.base64UrlEncode=Gt,t.calculateThumbprint=function(e){return ft.apply(this,arguments)},t.compactDecrypt=Xe,t.compactVerify=Ft,t.createRemoteJWKSet=function(e,t){var r=new vt(e,t);return r.getKey.bind(r)},t.decodeProtectedHeader=function(e){var t;if("string"===typeof e){var r=e.split(".");if(3===r.length||5===r.length)t=n(r,1)[0]}else if("object"===typeof e&&e){if(!("protected"in e))throw new TypeError("Token does not contain a Protected Header");t=e.protected}try{if("string"!==typeof t||!t)throw new Error;var o=JSON.parse(I.decode(Yt(t)));if(!O(o))throw new Error;return o}catch(i){throw new TypeError("Invalid Token or Protected Header formatting")}},t.flattenedDecrypt=$e,t.flattenedVerify=Ct,t.fromKeyLike=tt,t.generalDecrypt=function(e,t,r){return lt.apply(this,arguments)},t.generalVerify=function(e,t,r){return jt.apply(this,arguments)},t.generateKeyPair=function(e,t){return tr.apply(this,arguments)},t.generateSecret=function(e,t){return rr.apply(this,arguments)},t.jwtDecrypt=function(e,t,r){return Kt.apply(this,arguments)},t.jwtVerify=function(e,t,r){return Jt.apply(this,arguments)},t.parseJwk=Ne,t.random=nr},function(e,t,r){var n=r(93),o=r(94),i=r(39),a=r(95);e.exports=function(e,t){return n(e)||o(e,t)||i(e,t)||a()}},function(e,t){var r="undefined"!==typeof self?self:this,n=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){var r="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,o="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),i="FormData"in e,a="ArrayBuffer"in e;if(a)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!==typeof e&&(e=String(e)),e}function h(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function d(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function g(e){var t=new FileReader,r=d(t);return t.readAsArrayBuffer(e),r}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:o&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:i&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a&&o&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=m(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,r=d(t);return t.readAsText(e),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(e,t){e=u(e),t=l(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},p.prototype.delete=function(e){delete this.map[u(e)]},p.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},p.prototype.set=function(e,t){this.map[u(e)]=l(t)},p.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),h(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),h(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),h(e)},n&&(p.prototype[Symbol.iterator]=p.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){var r=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=function(e){var t=e.toUpperCase();return y.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(o))}})),t}function S(e){var t=new p;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();t.append(n,o)}})),t}function _(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},v.call(b.prototype),v.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},_.error=function(){var e=new _(null,{status:0,statusText:""});return e.type="error",e};var k=[301,302,303,307,308];_.redirect=function(e,t){if(-1===k.indexOf(t))throw new RangeError("Invalid status code");return new _(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(x){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function E(e,r){return new Promise((function(n,i){var a=new b(e,r);if(a.signal&&a.signal.aborted)return i(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function c(){s.abort()}s.onload=function(){var e={status:s.status,statusText:s.statusText,headers:S(s.getAllResponseHeaders()||"")};e.url="responseURL"in s?s.responseURL:e.headers.get("X-Request-URL");var t="response"in s?s.response:s.responseText;n(new _(t,e))},s.onerror=function(){i(new TypeError("Network request failed"))},s.ontimeout=function(){i(new TypeError("Network request failed"))},s.onabort=function(){i(new t.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&o&&(s.responseType="blob"),a.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),a.signal&&(a.signal.addEventListener("abort",c),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",c)}),s.send("undefined"===typeof a._bodyInit?null:a._bodyInit)}))}E.polyfill=!0,e.fetch||(e.fetch=E,e.Headers=p,e.Request=b,e.Response=_),t.Headers=p,t.Request=b,t.Response=_,t.fetch=E,Object.defineProperty(t,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var o=n;(t=o.fetch).default=o.fetch,t.fetch=o.fetch,t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response,e.exports=t},function(e,t,r){"use strict";function n(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";e.exports=r(132)},function(e,t,r){"use strict";var n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(o){return!1}}()?Object.assign:function(e,t){for(var r,s,c=a(e),u=1;u<arguments.length;u++){for(var l in r=Object(arguments[u]))o.call(r,l)&&(c[l]=r[l]);if(n){s=n(r);for(var h=0;h<s.length;h++)i.call(r,s[h])&&(c[s[h]]=r[s[h]])}}return c}},function(e,t){function r(t,n){return e.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(t,n)}e.exports=r},function(e,t,r){var n=r(55);e.exports=function(e,t){if(e){if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KEY_CURRENT_URL=t.KEY_CURRENT_SESSION=void 0;var n=r(11);t.KEY_CURRENT_SESSION="".concat(n.SOLID_CLIENT_AUTHN_KEY_PREFIX,"currentSession"),t.KEY_CURRENT_URL="".concat(n.SOLID_CLIENT_AUTHN_KEY_PREFIX,"currentUrl")},function(e,t,r){"use strict";var n;r.r(t),r.d(t,"v1",(function(){return g})),r.d(t,"v3",(function(){return x})),r.d(t,"v4",(function(){return A})),r.d(t,"v5",(function(){return F})),r.d(t,"NIL",(function(){return T})),r.d(t,"version",(function(){return O})),r.d(t,"validate",(function(){return s})),r.d(t,"stringify",(function(){return p})),r.d(t,"parse",(function(){return m}));var o=new Uint8Array(16);function i(){if(!n&&!(n="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(o)}var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var s=function(e){return"string"===typeof e&&a.test(e)},c=[],u=0;u<256;++u)c.push((u+256).toString(16).substr(1));var l,h,p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]).toLowerCase();if(!s(r))throw TypeError("Stringified UUID is invalid");return r},f=0,d=0;var g=function(e,t,r){var n=t&&r||0,o=t||new Array(16),a=(e=e||{}).node||l,s=void 0!==e.clockseq?e.clockseq:h;if(null==a||null==s){var c=e.random||(e.rng||i)();null==a&&(a=l=[1|c[0],c[1],c[2],c[3],c[4],c[5]]),null==s&&(s=h=16383&(c[6]<<8|c[7]))}var u=void 0!==e.msecs?e.msecs:Date.now(),g=void 0!==e.nsecs?e.nsecs:d+1,m=u-f+(g-d)/1e4;if(m<0&&void 0===e.clockseq&&(s=s+1&16383),(m<0||u>f)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f=u,d=g,h=s;var v=(1e4*(268435455&(u+=122192928e5))+g)%4294967296;o[n++]=v>>>24&255,o[n++]=v>>>16&255,o[n++]=v>>>8&255,o[n++]=255&v;var y=u/4294967296*1e4&268435455;o[n++]=y>>>8&255,o[n++]=255&y,o[n++]=y>>>24&15|16,o[n++]=y>>>16&255,o[n++]=s>>>8|128,o[n++]=255&s;for(var b=0;b<6;++b)o[n+b]=a[b];return t||p(o)};var m=function(e){if(!s(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};var v=function(e,t,r){function n(e,n,o,i){if("string"===typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"===typeof n&&(n=m(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var a=new Uint8Array(16+e.length);if(a.set(n),a.set(e,n.length),(a=r(a))[6]=15&a[6]|t,a[8]=63&a[8]|128,o){i=i||0;for(var s=0;s<16;++s)o[i+s]=a[s];return o}return p(a)}try{n.name=e}catch(o){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n};function y(e){return 14+(e+64>>>9<<4)+1}function b(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function w(e,t,r,n,o,i){return b((a=b(b(t,e),b(n,i)))<<(s=o)|a>>>32-s,r);var a,s}function S(e,t,r,n,o,i,a){return w(t&r|~t&n,e,t,o,i,a)}function _(e,t,r,n,o,i,a){return w(t&n|r&~n,e,t,o,i,a)}function k(e,t,r,n,o,i,a){return w(t^r^n,e,t,o,i,a)}function E(e,t,r,n,o,i,a){return w(r^(t|~n),e,t,o,i,a)}var x=v("v3",48,(function(e){if("string"===typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){for(var t=[],r=32*e.length,n="0123456789abcdef",o=0;o<r;o+=8){var i=e[o>>5]>>>o%32&255,a=parseInt(n.charAt(i>>>4&15)+n.charAt(15&i),16);t.push(a)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[y(t)-1]=t;for(var r=1732584193,n=-271733879,o=-1732584194,i=271733878,a=0;a<e.length;a+=16){var s=r,c=n,u=o,l=i;r=S(r,n,o,i,e[a],7,-680876936),i=S(i,r,n,o,e[a+1],12,-389564586),o=S(o,i,r,n,e[a+2],17,606105819),n=S(n,o,i,r,e[a+3],22,-1044525330),r=S(r,n,o,i,e[a+4],7,-176418897),i=S(i,r,n,o,e[a+5],12,1200080426),o=S(o,i,r,n,e[a+6],17,-1473231341),n=S(n,o,i,r,e[a+7],22,-45705983),r=S(r,n,o,i,e[a+8],7,1770035416),i=S(i,r,n,o,e[a+9],12,-1958414417),o=S(o,i,r,n,e[a+10],17,-42063),n=S(n,o,i,r,e[a+11],22,-1990404162),r=S(r,n,o,i,e[a+12],7,1804603682),i=S(i,r,n,o,e[a+13],12,-40341101),o=S(o,i,r,n,e[a+14],17,-1502002290),r=_(r,n=S(n,o,i,r,e[a+15],22,1236535329),o,i,e[a+1],5,-165796510),i=_(i,r,n,o,e[a+6],9,-1069501632),o=_(o,i,r,n,e[a+11],14,643717713),n=_(n,o,i,r,e[a],20,-373897302),r=_(r,n,o,i,e[a+5],5,-701558691),i=_(i,r,n,o,e[a+10],9,38016083),o=_(o,i,r,n,e[a+15],14,-660478335),n=_(n,o,i,r,e[a+4],20,-405537848),r=_(r,n,o,i,e[a+9],5,568446438),i=_(i,r,n,o,e[a+14],9,-1019803690),o=_(o,i,r,n,e[a+3],14,-187363961),n=_(n,o,i,r,e[a+8],20,1163531501),r=_(r,n,o,i,e[a+13],5,-1444681467),i=_(i,r,n,o,e[a+2],9,-51403784),o=_(o,i,r,n,e[a+7],14,1735328473),r=k(r,n=_(n,o,i,r,e[a+12],20,-1926607734),o,i,e[a+5],4,-378558),i=k(i,r,n,o,e[a+8],11,-2022574463),o=k(o,i,r,n,e[a+11],16,1839030562),n=k(n,o,i,r,e[a+14],23,-35309556),r=k(r,n,o,i,e[a+1],4,-1530992060),i=k(i,r,n,o,e[a+4],11,1272893353),o=k(o,i,r,n,e[a+7],16,-155497632),n=k(n,o,i,r,e[a+10],23,-1094730640),r=k(r,n,o,i,e[a+13],4,681279174),i=k(i,r,n,o,e[a],11,-358537222),o=k(o,i,r,n,e[a+3],16,-722521979),n=k(n,o,i,r,e[a+6],23,76029189),r=k(r,n,o,i,e[a+9],4,-640364487),i=k(i,r,n,o,e[a+12],11,-421815835),o=k(o,i,r,n,e[a+15],16,530742520),r=E(r,n=k(n,o,i,r,e[a+2],23,-995338651),o,i,e[a],6,-198630844),i=E(i,r,n,o,e[a+7],10,1126891415),o=E(o,i,r,n,e[a+14],15,-1416354905),n=E(n,o,i,r,e[a+5],21,-57434055),r=E(r,n,o,i,e[a+12],6,1700485571),i=E(i,r,n,o,e[a+3],10,-1894986606),o=E(o,i,r,n,e[a+10],15,-1051523),n=E(n,o,i,r,e[a+1],21,-2054922799),r=E(r,n,o,i,e[a+8],6,1873313359),i=E(i,r,n,o,e[a+15],10,-30611744),o=E(o,i,r,n,e[a+6],15,-1560198380),n=E(n,o,i,r,e[a+13],21,1309151649),r=E(r,n,o,i,e[a+4],6,-145523070),i=E(i,r,n,o,e[a+11],10,-1120210379),o=E(o,i,r,n,e[a+2],15,718787259),n=E(n,o,i,r,e[a+9],21,-343485551),r=b(r,s),n=b(n,c),o=b(o,u),i=b(i,l)}return[r,n,o,i]}(function(e){if(0===e.length)return[];for(var t=8*e.length,r=new Uint32Array(y(t)),n=0;n<t;n+=8)r[n>>5]|=(255&e[n/8])<<n%32;return r}(e),8*e.length))}));var A=function(e,t,r){var n=(e=e||{}).random||(e.rng||i)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var o=0;o<16;++o)t[r+o]=n[o];return t}return p(n)};function C(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function P(e,t){return e<<t|e>>>32-t}var F=v("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"===typeof e){var n=unescape(encodeURIComponent(e));e=[];for(var o=0;o<n.length;++o)e.push(n.charCodeAt(o))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var i=e.length/4+2,a=Math.ceil(i/16),s=new Array(a),c=0;c<a;++c){for(var u=new Uint32Array(16),l=0;l<16;++l)u[l]=e[64*c+4*l]<<24|e[64*c+4*l+1]<<16|e[64*c+4*l+2]<<8|e[64*c+4*l+3];s[c]=u}s[a-1][14]=8*(e.length-1)/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=8*(e.length-1)&4294967295;for(var h=0;h<a;++h){for(var p=new Uint32Array(80),f=0;f<16;++f)p[f]=s[h][f];for(var d=16;d<80;++d)p[d]=P(p[d-3]^p[d-8]^p[d-14]^p[d-16],1);for(var g=r[0],m=r[1],v=r[2],y=r[3],b=r[4],w=0;w<80;++w){var S=Math.floor(w/20),_=P(g,5)+C(S,m,v,y)+b+t[S]+p[w]>>>0;b=y,y=v,v=P(m,30)>>>0,m=g,g=_}r[0]=r[0]+g>>>0,r[1]=r[1]+m>>>0,r[2]=r[2]+v>>>0,r[3]=r[3]+y>>>0,r[4]=r[4]+b>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]})),T="00000000-0000-0000-0000-000000000000";var O=function(e){if(!s(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},function(e,t,r){"use strict";function n(e){return"function"===typeof e?e():e}function o(){var e={};return e.promise=new Promise((function(t,r){e.resolve=t,e.reject=r})),e}e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=void 0,a=void 0,s=void 0,c=[];return function(){var l=n(t),h=(new Date).getTime(),p=!i||h-i>l;i=h;for(var f=arguments.length,d=Array(f),g=0;g<f;g++)d[g]=arguments[g];if(p&&r.leading)return r.accumulate?Promise.resolve(e.call(this,[d])).then((function(e){return e[0]})):Promise.resolve(e.call.apply(e,[this].concat(d)));if(a?clearTimeout(s):a=o(),c.push(d),s=setTimeout(u.bind(this),l),r.accumulate){var m=c.length-1;return a.promise.then((function(e){return e[m]}))}return a.promise};function u(){var t=a;clearTimeout(s),Promise.resolve(r.accumulate?e.call(this,c):e.apply(this,c[c.length-1])).then(t.resolve,t.reject),c=[],a=null}}},function(e,t,r){var n=r(29),o=r(131);e.exports=Object.assign({dataset:function(e){return new o(e)}},n)},function(e,t,r){"use strict";var n=r(36),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return n.isMemo(e)?a:s[e.$$typeof]||o}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[n.Memo]=a;var u=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,d=Object.prototype;e.exports=function e(t,r,n){if("string"!==typeof r){if(d){var o=f(r);o&&o!==d&&e(t,o,n)}var a=l(r);h&&(a=a.concat(h(r)));for(var s=c(t),g=c(r),m=0;m<a.length;++m){var v=a[m];if(!i[v]&&(!n||!n[v])&&(!g||!g[v])&&(!s||!s[v])){var y=p(r,v);try{u(t,v,y)}catch(b){}}}}return t}},function(e,t,r){"use strict";var n=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,o=function(e){var t={};return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}((function(e){return n.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));t.a=o},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}r.d(t,"a",(function(){return o}))},function(e,t,r){"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";var n=r(0),o=r(19),i=r(6),a=r(8),s=r(20),c=r(21),u=r(10);Object.defineProperty(t,"__esModule",{value:!0}),t.Session=t.silentlyAuthenticate=void 0;var l=r(77),h=r(41),p=r(53),f=r(40),d=r(60);function g(e,t){return m.apply(this,arguments)}function m(){return(m=u(n.mark((function e(t,r){var o,i,a,s=arguments;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=s.length>2&&void 0!==s[2]?s[2]:{inIframe:!1},e.next=3,r.validateCurrentSession();case 3:if(null===(a=e.sent)){e.next=9;break}return window.localStorage.setItem(f.KEY_CURRENT_URL,window.location.href),e.next=8,r.login({sessionId:t,prompt:"none",oidcIssuer:a.issuer,redirectUrl:a.redirectUrl,clientId:a.clientAppId,clientSecret:a.clientAppSecret,tokenType:null!==(i=a.tokenType)&&void 0!==i?i:"DPoP",inIframe:o.inIframe});case 8:return e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return!!(null===e||void 0===e?void 0:e.isLoggedIn)}t.silentlyAuthenticate=g;var y=function(e){s(r,e);var t=c(r);function r(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;return i(this,r),(e=t.call(this)).tokenRequestInProgress=!1,e.tmpFetchWithCookies=!1,e.login=function(){var t=u(n.mark((function t(r){var i;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.clientAuthentication.login(o(o({sessionId:e.info.sessionId},r),{},{tokenType:null!==(i=r.tokenType)&&void 0!==i?i:"DPoP"}));case 2:return t.abrupt("return",new Promise((function(){})));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.fetch=function(){var t=u(n.mark((function t(r,i){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.clientAuthentication.fetch(r,o(o({},i),{},{credentials:e.tmpFetchWithCookies?"include":null===i||void 0===i?void 0:i.credentials})));case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.logout=u(n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.clientAuthentication.logout(e.info.sessionId);case 2:e.info.isLoggedIn=!1,e.tmpFetchWithCookies=!1,e.emit("logout");case 5:case"end":return t.stop()}}),t)}))),e.handleIncomingRedirect=u(n.mark((function t(){var r,o,i,a,s,c,u,l,h,p,m,y,b,w,S=arguments;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=S.length>0&&void 0!==S[0]?S[0]:{},!e.info.isLoggedIn){t.next=3;break}return t.abrupt("return",e.info);case 3:if(!e.tokenRequestInProgress){t.next=5;break}return t.abrupt("return",void 0);case 5:if(a=null!==(o=(i="string"===typeof r?{url:r}:r).url)&&void 0!==o?o:window.location.href,null===window.frameElement){t.next=10;break}return d.postRedirectUrlToParent(a),t.abrupt("return",void 0);case 10:if(!0!==i.useEssSession||!0===i.restorePreviousSession?window.localStorage.setItem("tmp-resource-server-session-enabled","false"):window.localStorage.setItem("tmp-resource-server-session-enabled","true"),"string"!==typeof(s=window.localStorage.getItem("tmp-resource-server-session-info"))||!0===i.restorePreviousSession||!0!==i.useEssSession){t.next=25;break}if(c=function(e){var t,r=Object.keys(null!==(t=e.sessions)&&void 0!==t?t:{});return"string"===typeof e.webId&&r.length>0&&"number"===typeof e.sessions[r[0]].expiration},u=JSON.parse(s),!c(u)){t.next=25;break}if(l=Object.keys(u.sessions),h=new URL(u.webId).hostname,p=l.find((function(e){return new URL(e).hostname===h})),m=null!==p&&void 0!==p?p:l[0],!(u.sessions[m].expiration-Date.now()>3e5)){t.next=25;break}return e.info.isLoggedIn=!0,e.info.webId=u.webId,e.tmpFetchWithCookies=!0,t.abrupt("return",e.info);case 25:return e.tokenRequestInProgress=!0,t.next=28,e.clientAuthentication.handleIncomingRedirect(a);case 28:if(!v(y=t.sent)){t.next=35;break}e.setSessionInfo(y),null===(b=window.localStorage.getItem(f.KEY_CURRENT_URL))?e.emit("login"):(window.localStorage.removeItem(f.KEY_CURRENT_URL),e.emit("sessionRestore",b)),t.next=43;break;case 35:if(!0!==i.restorePreviousSession){t.next=43;break}if(null===(w=window.localStorage.getItem(f.KEY_CURRENT_SESSION))){t.next=43;break}return t.next=40,g(w,e.clientAuthentication);case 40:if(!t.sent){t.next=43;break}return t.abrupt("return",new Promise((function(){})));case 43:return e.tokenRequestInProgress=!1,t.abrupt("return",y);case 45:case"end":return t.stop()}}),t)}))),a.clientAuthentication?e.clientAuthentication=a.clientAuthentication:a.secureStorage&&a.insecureStorage?e.clientAuthentication=p.getClientAuthenticationWithDependencies({secureStorage:a.secureStorage,insecureStorage:a.insecureStorage}):e.clientAuthentication=p.getClientAuthenticationWithDependencies({}),a.sessionInfo?e.info={sessionId:a.sessionInfo.sessionId,isLoggedIn:!1,webId:a.sessionInfo.webId}:e.info={sessionId:null!==s&&void 0!==s?s:h.v4(),isLoggedIn:!1},d.setupIframeListener(function(){var t=u(n.mark((function t(r){var o;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.clientAuthentication.handleIncomingRedirect(r);case 2:if(v(o=t.sent)){t.next=5;break}return t.abrupt("return");case 5:e.setSessionInfo(o);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e.on("tokenRenewal",(function(){return g(e.info.sessionId,e.clientAuthentication,{inIframe:!0})})),e}return a(r,[{key:"onLogin",value:function(e){this.on("login",e)}},{key:"onLogout",value:function(e){this.on("logout",e)}},{key:"onSessionRestore",value:function(e){this.on("sessionRestore",e)}},{key:"setSessionInfo",value:function(e){var t=this;this.info.isLoggedIn=e.isLoggedIn,this.info.webId=e.webId,this.info.sessionId=e.sessionId,this.info.expirationDate=e.expirationDate,"number"===typeof e.expirationDate&&setTimeout(u(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.logout();case 2:case"end":return e.stop()}}),e)}))),e.expirationDate-Date.now())}}]),r}(l.EventEmitter);t.Session=y},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(t)}e.exports=r},function(e,t){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getClientAuthenticationWithDependencies=void 0;var o=r(11),i=n(r(107)),a=n(r(108)),s=n(r(109)),c=n(r(110)),u=n(r(111)),l=r(113),h=n(r(114)),p=r(59),f=r(115),d=n(r(116)),g=n(r(117)),m=n(r(118)),v=n(r(119));t.getClientAuthenticationWithDependencies=function(e){var t=new o.InMemoryStorage,r=e.secureStorage||t,n=e.insecureStorage||new g.default,y=new i.default(r,n),b=new u.default(y),w=new v.default(y),S=new p.SessionInfoManager(y),_=new s.default(y,new c.default(y,new m.default),b,w),k=new d.default([new f.AuthCodeRedirectHandler(y,S,b,w),new l.FallbackRedirectHandler]);return new a.default(_,k,new h.default(S),S,b)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PREFERRED_SIGNING_ALG=t.SOLID_CLIENT_AUTHN_KEY_PREFIX=void 0,t.SOLID_CLIENT_AUTHN_KEY_PREFIX="solidClientAuthn:",t.PREFERRED_SIGNING_ALG=["ES256","RS256"]},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},function(e,t,r){"use strict";var n=r(30),o=r(6),i=r(8),a=r(20),s=r(21),c=r(31);Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){a(r,e);var t=s(r);function r(e,n){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return o(this,r),t.call(this,"string"===typeof e?r.substituteParams(e,n):r.appendErrorIri(r.lookupErrorIri(e,n),e,i))}return i(r,[{key:"httpResponse",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.message=r.appendHttpResponseDetails(this.message,e,t),this.httpErrorResponse=e,this}},{key:"hasHttpResponse",value:function(){return void 0!==this.httpErrorResponse}},{key:"getHttpResponse",value:function(){return this.httpErrorResponse}},{key:"getHttpStatusCode",value:function(){if(void 0===this.httpErrorResponse)throw new r("This InruptError was not provided with a HTTP response - so we can't get its HTTP Status Code.");return this.httpErrorResponse.status}},{key:"getHttpStatusText",value:function(){if(void 0===this.httpErrorResponse)throw new r("This InruptError was not provided with a HTTP response - so we can't get its HTTP Status Text!");return this.httpErrorResponse.statusText}}],[{key:"determineIfVocabTerm",value:function(e){return void 0!==e.strict}},{key:"lookupErrorIri",value:function(e,t){if(r.determineIfVocabTerm(e)){var o=void 0===t?e.message:e.messageParams.apply(e,n(t));return void 0===o?"Looked up error message IRI [".concat(e.value,"], but found no message value."):o}return"Error message looked up at: [".concat(e.value,"]").concat(void 0===t?"":", with params [".concat(t.toString(),"]"))}},{key:"appendHttpResponseDetails",value:function(e,t,r){return r&&"undefined"!==typeof t?"".concat(e," HTTP details: status code [").concat(t.status,"], status text [").concat(t.statusText,"]."):e}},{key:"appendErrorIri",value:function(e,t,r){return r?"".concat(e," Error IRI: [").concat(t.value,"]."):e}},{key:"substituteParams",value:function(e,t){var r=e;if(void 0!==t){var n=e.split("{{").length-1;if(n!==t.length)throw new Error("Setting parameters on message [".concat(e,"], but it requires [").concat(n,"] params and we received [").concat(t.length,"]."));for(var o=0;o<t.length;o+=1){var i="{{".concat(o,"}}");r=r.replace(i,t[o])}}return r}}]),r}(c(Error));t.default=u},function(e,t,r){var n=r(39);e.exports=function(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=n(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw a}}}}},function(e,t,r){"use strict";var n=r(33),o=r(0),i=r(10);Object.defineProperty(t,"__esModule",{value:!0}),t.generateDpopKeyPair=t.createDpopHeader=void 0;var a=r(32),s=r(41),c=r(54);function u(e){var t=new URL(e);return t.hash="",t.username="",t.password="",t.toString()}function l(){return(l=i(o.mark((function e(t,r,n){return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new a.SignJWT({htu:u(t),htm:r.toUpperCase(),jti:s.v4()}).setProtectedHeader({alg:c.PREFERRED_SIGNING_ALG[0],jwk:n.publicKey,typ:"dpop+jwt"}).setIssuedAt().sign(n.privateKey,{}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=i(o.mark((function e(){var t,r,i,s,u;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.generateKeyPair(c.PREFERRED_SIGNING_ALG[0]);case 2:return t=e.sent,r=t.privateKey,i=t.publicKey,e.t0=r,e.next=8,a.fromKeyLike(i);case 8:return e.t1=e.sent,s={privateKey:e.t0,publicKey:e.t1},u=n(c.PREFERRED_SIGNING_ALG,1),s.publicKey.alg=u[0],e.abrupt("return",s);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.createDpopHeader=function(e,t,r){return l.apply(this,arguments)},t.generateDpopKeyPair=function(){return h.apply(this,arguments)}},function(e,t,r){"use strict";var n=r(0),o=r(6),i=r(8),a=r(10);Object.defineProperty(t,"__esModule",{value:!0}),t.SessionInfoManager=t.clear=t.getUnauthenticatedSession=void 0;var s=r(11),c=r(41),u=r(25);function l(e,t){return h.apply(this,arguments)}function h(){return(h=a(n.mark((function e(t,r){var o,i,a,s,c;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.get("tmp-resource-server-session-info");case 2:if(o=e.sent,i=JSON.parse(null!==o&&void 0!==o?o:"{}"),void 0===(a=i.webId)){e.next=10;break}return s=new URL(a),c=s.origin,e.next=10,r.clearResourceServerSessionInfo(c);case 10:return e.next=12,Promise.all([r.deleteAllUserData(t,{secure:!1}),r.deleteAllUserData(t,{secure:!0}),r.delete("clientKey",{secure:!1})]);case 12:return e.next=14,u.clearOidcPersistentStorage();case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.getUnauthenticatedSession=function(){return{isLoggedIn:!1,sessionId:c.v4(),fetch:fetch}},t.clear=l;var p=function(){function e(t){o(this,e),this.storageUtility=t}return i(e,[{key:"update",value:function(e,t){throw new Error("Not Implemented")}},{key:"get",value:function(){var e=a(n.mark((function e(t){var r,o,i,a,c,u,l,h,p,f;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageUtility.getForUser(t,"isLoggedIn",{secure:!0});case 2:return o=e.sent,e.next=5,this.storageUtility.getForUser(t,"webId",{secure:!0});case 5:return i=e.sent,e.next=8,this.storageUtility.getForUser(t,"clientId",{secure:!1});case 8:return a=e.sent,e.next=11,this.storageUtility.getForUser(t,"clientSecret",{secure:!1});case 11:return c=e.sent,e.next=14,this.storageUtility.getForUser(t,"idToken",{secure:!1});case 14:return u=e.sent,e.next=17,this.storageUtility.getForUser(t,"redirectUrl",{secure:!1});case 17:return l=e.sent,e.next=20,this.storageUtility.getForUser(t,"refreshToken",{secure:!0});case 20:return h=e.sent,e.next=23,this.storageUtility.getForUser(t,"issuer",{secure:!1});case 23:return p=e.sent,e.next=26,this.storageUtility.getForUser(t,"tokenType",{secure:!1});case 26:if(e.t1=r=e.sent,e.t0=null!==e.t1,!e.t0){e.next=30;break}e.t0=void 0!==r;case 30:if(!e.t0){e.next=34;break}e.t2=r,e.next=35;break;case 34:e.t2="DPoP";case 35:if(f=e.t2,s.isSupportedTokenType(f)){e.next=38;break}throw new Error("Tokens of type [".concat(f,"] are not supported."));case 38:if(void 0!==a||void 0!==u||void 0!==o||void 0!==i||void 0!==h){e.next=40;break}return e.abrupt("return",void 0);case 40:return e.abrupt("return",{sessionId:t,webId:i,isLoggedIn:"true"===o,redirectUrl:l,idToken:u,refreshToken:h,issuer:p,clientAppId:a,clientAppSecret:c,tokenType:f});case 41:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=a(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Not implemented");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"clear",value:function(){var e=a(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l(t,this.storageUtility));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"register",value:function(){var e=a(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Not implemented");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRegisteredSessionIdAll",value:function(){var e=a(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Not implemented");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"clearAll",value:function(){var e=a(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Not implemented");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();t.SessionInfoManager=p},function(e,t,r){"use strict";var n,o=r(0),i=r(10);function a(){return"undefined"===typeof n&&((n=window.document.createElement("iframe")).setAttribute("hidden","true"),n.setAttribute("sandbox","allow-scripts allow-same-origin")),n}Object.defineProperty(t,"__esModule",{value:!0}),t.postRedirectUrlToParent=t.setupIframeListener=t.redirectInIframe=void 0,t.redirectInIframe=function(e){var t=a();window.document.body.appendChild(t),t.src=e},t.setupIframeListener=function(e){"undefined"!==typeof window&&window.addEventListener("message",function(){var t=i(o.mark((function t(r){var n;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a(),r.origin!==window.location.origin||r.source!==n.contentWindow){t.next=5;break}if("string"!==typeof r.data.redirectUrl){t.next=5;break}return t.next=5,e(r.data.redirectUrl);case 5:window.document.body.contains(n)&&window.document.body.removeChild(n);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},t.postRedirectUrlToParent=function(e){window.top.postMessage({redirectUrl:e},window.location.origin)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(22),o=r(47);function i(e,t){return!t||"object"!==Object(n.a)(t)&&"function"!==typeof t?Object(o.a)(e):t}},function(e,t,r){var n=r(6),o=r(8),i=function(){"use strict";function e(){n(this,e)}return o(e,[{key:"equals",value:function(e){return!!e&&e.termType===this.termType}}]),e}();i.prototype.termType="DefaultGraph",i.prototype.value="",e.exports=i},function(e,t,r){var n=r(6),o=r(8),i=function(){"use strict";function e(t){n(this,e),this.value=t}return o(e,[{key:"equals",value:function(e){return!!e&&e.termType===this.termType&&e.value===this.value}}]),e}();i.prototype.termType="NamedNode",e.exports=i},function(e,t,r){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(79)},function(e,t){e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.sorted,n=t.skipIndex,o=t.ignorenull,i=t.skipBracket,a=t.useDot,s=t.whitespace,c=void 0===s?"+":s,u=function(e){return String(e).replace(/(?:(?![ !'-\*~])[\s\S])/g,encodeURIComponent).replace(/ /g,c).replace(/[!'()~*]/g,(function(e){return"%".concat(e.charCodeAt().toString(16).slice(-2).toUpperCase())}))},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.keys(e);return r?t.sort():t},h=function(e){return e.filter((function(e){return e})).join("&")},p=function(e,t){return h(l(t).map((function(r){return g(a?"".concat(e,".").concat(r):"".concat(e,"[").concat(r,"]"),t[r])})))},f=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i?"":"[]";return t.length?h(t.map((function(t,o){return g(n?e+r:e+"["+o+"]",t)}))):u(e+r)},d=function(e,t){return h(Array.from(t).map((function(t){return g(e,t)})))},g=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:typeof t,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return t===n?n=o?n:u(e)+"="+n:/string|number|boolean/.test(r)?n=u(e)+"="+u(t):Array.isArray(t)?n=f(e,t):t instanceof Set?n=d(e,t):"object"===r&&(n=p(e,t)),n};return e&&h(l(e).map((function(t){return g(t,e[t])})))}},function(e,t,r){"use strict";function n(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";(function(t){var n=r(30),o=r(6),i=r(8),a=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,s=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,c=/\s|\uFEFF|\xA0/,u=/\r?\n[\x20\x09]+/g,l=/[;,"]/,h=/[;,"]|\s/,p=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,f=1,d=2,g=4;function m(e){return e.replace(s,"")}function v(e){return c.test(e)}function y(e,t){for(;v(e[t]);)t++;return t}function b(e){return h.test(e)||!p.test(e)}var w=function(){function e(t){o(this,e),this.refs=[],t&&this.parse(t)}return i(e,[{key:"rel",value:function(e){for(var t=[],r=e.toLowerCase(),n=0;n<this.refs.length;n++)this.refs[n].rel.toLowerCase()===r&&t.push(this.refs[n]);return t}},{key:"get",value:function(e,t){e=e.toLowerCase();for(var r=[],n=0;n<this.refs.length;n++)this.refs[n][e]===t&&r.push(this.refs[n]);return r}},{key:"set",value:function(e){return this.refs.push(e),this}},{key:"has",value:function(e,t){e=e.toLowerCase();for(var r=0;r<this.refs.length;r++)if(this.refs[r][e]===t)return!0;return!1}},{key:"parse",value:function(t,r){t=m(t=(r=r||0)?t.slice(r):t).replace(u,"");for(var o,i=f,a=t.length,s=(r=0,null);r<a;)if(i===f){if(v(t[r])){r++;continue}if("<"!==t[r])throw new Error('Unexpected character "'+t[r]+'" at offset '+r);var c;if(null!=s&&(null!=s.rel?(c=this.refs).push.apply(c,n(e.expandRelations(s))):this.refs.push(s)),-1===(b=t.indexOf(">",r)))throw new Error("Expected end of URI delimiter at offset "+r);s={uri:t.slice(r+1,b)},r=b,i=d,r++}else if(i===d){if(v(t[r])){r++;continue}if(";"===t[r])i=g,r++;else{if(","!==t[r])throw new Error('Unexpected character "'+t[r]+'" at offset '+r);i=f,r++}}else{if(i!==g)throw new Error('Unknown parser state "'+i+'"');if(";"===t[r]||v(t[r])){r++;continue}if(-1===(b=t.indexOf("=",r)))throw new Error("Expected attribute delimiter at offset "+r);var h=m(t.slice(r,b)).toLowerCase(),p="";if('"'===t[r=y(t,r=b+1)])for(r++;r<a;){if('"'===t[r]){r++;break}"\\"===t[r]&&r++,p+=t[r],r++}else{for(var b=r+1;!l.test(t[b])&&b<a;)b++;p=t.slice(r,b),r=b}switch(s[h]&&e.isSingleOccurenceAttr(h)||("*"===h[h.length-1]?s[h]=e.parseExtendedValue(p):(p="type"===h?p.toLowerCase():p,null!=s[h]?Array.isArray(s[h])?s[h].push(p):s[h]=[s[h],p]:s[h]=p)),t[r]){case",":i=f;break;case";":i=g}r++}null!=s&&(null!=s.rel?(o=this.refs).push.apply(o,n(e.expandRelations(s))):this.refs.push(s));return s=null,this}},{key:"toString",value:function(){for(var t=[],r="",n=null,o=0;o<this.refs.length;o++)n=this.refs[o],r=Object.keys(this.refs[o]).reduce((function(t,r){return"uri"===r?t:t+"; "+e.formatAttribute(r,n[r])}),"<"+n.uri+">"),t.push(r);return t.join(", ")}}]),e}();w.isCompatibleEncoding=function(e){return a.test(e)},w.parse=function(e,t){return(new w).parse(e,t)},w.isSingleOccurenceAttr=function(e){return"rel"===e||"type"===e||"media"===e||"title"===e||"title*"===e},w.isTokenAttr=function(e){return"rel"===e||"type"===e||"anchor"===e},w.escapeQuotes=function(e){return e.replace(/"/g,'\\"')},w.expandRelations=function(e){return e.rel.split(" ").map((function(t){var r=Object.assign({},e);return r.rel=t,r}))},w.parseExtendedValue=function(e){var t=/([^']+)?(?:'([^']+)')?(.+)/.exec(e);return{language:t[2].toLowerCase(),encoding:w.isCompatibleEncoding(t[1])?null:t[1].toLowerCase(),value:w.isCompatibleEncoding(t[1])?decodeURIComponent(t[3]):t[3]}},w.formatExtendedAttribute=function(e,r){var n=(r.encoding||"utf-8").toUpperCase();return e+"="+n+"'"+(r.language||"en")+"'"+(t.isBuffer(r.value)&&w.isCompatibleEncoding(n)?r.value.toString(n):t.isBuffer(r.value)?r.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):encodeURIComponent(r.value))},w.formatAttribute=function(e,t){return Array.isArray(t)?t.map((function(t){return w.formatAttribute(e,t)})).join("; "):"*"===e[e.length-1]||"string"!==typeof t?w.formatExtendedAttribute(e,t):(w.isTokenAttr(e)?t=b(t)?'"'+w.escapeQuotes(t)+'"':w.escapeQuotes(t):b(t)&&(t='"'+(t=(t=encodeURIComponent(t)).replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"))+'"'),e+"="+t)},e.exports=w}).call(this,r(74).Buffer)},function(e,t,r){"use strict";(function(e){var n=r(36),o=r(3),i=r.n(o),a=r(69),s=r.n(a),c=r(70),u=r(71),l=r(45),h=r(44),p=r.n(h);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var d=function(e,t){for(var r=[e[0]],n=0,o=t.length;n<o;n+=1)r.push(t[n],e[n+1]);return r},g=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!Object(n.typeOf)(e)},m=Object.freeze([]),v=Object.freeze({});function y(e){return"function"==typeof e}function b(e){return e.displayName||e.name||"Component"}function w(e){return e&&"string"==typeof e.styledComponentId}var S="undefined"!=typeof e&&(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_ATTR||Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_ATTR)||"data-styled",_="undefined"!=typeof window&&"HTMLElement"in window,k=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof e&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY?"false"!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof e&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY&&("false"!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY));function E(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(r.length>0?" Args: "+r.join(", "):""))}var x=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,r=0;r<e;r++)t+=this.groupSizes[r];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var r=this.groupSizes,n=r.length,o=n;e>=o;)(o<<=1)<0&&E(16,""+e);this.groupSizes=new Uint32Array(o),this.groupSizes.set(r),this.length=o;for(var i=n;i<o;i++)this.groupSizes[i]=0}for(var a=this.indexOfGroup(e+1),s=0,c=t.length;s<c;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],r=this.indexOfGroup(e),n=r+t;this.groupSizes[e]=0;for(var o=r;o<n;o++)this.tag.deleteRule(r)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var r=this.groupSizes[e],n=this.indexOfGroup(e),o=n+r,i=n;i<o;i++)t+=this.tag.getRule(i)+"/*!sc*/\n";return t},e}(),A=new Map,C=new Map,P=1,F=function(e){if(A.has(e))return A.get(e);for(;C.has(P);)P++;var t=P++;return A.set(e,t),C.set(t,e),t},T=function(e){return C.get(e)},O=function(e,t){A.set(e,t),C.set(t,e)},R="style["+S+'][data-styled-version="5.3.0"]',I=new RegExp("^"+S+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),j=function(e,t,r){for(var n,o=r.split(","),i=0,a=o.length;i<a;i++)(n=o[i])&&e.registerName(t,n)},D=function(e,t){for(var r=t.innerHTML.split("/*!sc*/\n"),n=[],o=0,i=r.length;o<i;o++){var a=r[o].trim();if(a){var s=a.match(I);if(s){var c=0|parseInt(s[1],10),u=s[2];0!==c&&(O(u,c),j(e,u,s[3]),e.getTag().insertRules(c,n)),n.length=0}else n.push(a)}}},U=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},N=function(e){var t=document.head,r=e||t,n=document.createElement("style"),o=function(e){for(var t=e.childNodes,r=t.length;r>=0;r--){var n=t[r];if(n&&1===n.nodeType&&n.hasAttribute(S))return n}}(r),i=void 0!==o?o.nextSibling:null;n.setAttribute(S,"active"),n.setAttribute("data-styled-version","5.3.0");var a=U();return a&&n.setAttribute("nonce",a),r.insertBefore(n,i),n},L=function(){function e(e){var t=this.element=N(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,r=0,n=t.length;r<n;r++){var o=t[r];if(o.ownerNode===e)return o}E(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),M=function(){function e(e){var t=this.element=N(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var r=document.createTextNode(t),n=this.nodes[e];return this.element.insertBefore(r,n||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),B=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),H=_,K={isServer:!_,useCSSOMInjection:!k},V=function(){function e(e,t,r){void 0===e&&(e=v),void 0===t&&(t={}),this.options=f({},K,{},e),this.gs=t,this.names=new Map(r),!this.options.isServer&&_&&H&&(H=!1,function(e){for(var t=document.querySelectorAll(R),r=0,n=t.length;r<n;r++){var o=t[r];o&&"active"!==o.getAttribute(S)&&(D(e,o),o.parentNode&&o.parentNode.removeChild(o))}}(this))}e.registerId=function(e){return F(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,r){return void 0===r&&(r=!0),new e(f({},this.options,{},t),this.gs,r&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(r=(t=this.options).isServer,n=t.useCSSOMInjection,o=t.target,e=r?new B(o):n?new L(o):new M(o),new x(e)));var e,t,r,n,o},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(F(e),this.names.has(e))this.names.get(e).add(t);else{var r=new Set;r.add(t),this.names.set(e,r)}},t.insertRules=function(e,t,r){this.registerName(e,t),this.getTag().insertRules(F(e),r)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(F(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),r=t.length,n="",o=0;o<r;o++){var i=T(o);if(void 0!==i){var a=e.names.get(i),s=t.getGroup(o);if(void 0!==a&&0!==s.length){var c=S+".g"+o+'[id="'+i+'"]',u="";void 0!==a&&a.forEach((function(e){e.length>0&&(u+=e+",")})),n+=""+s+c+'{content:"'+u+'"}/*!sc*/\n'}}}return n}(this)},e}(),W=/(a)(d)/gi,q=function(e){return String.fromCharCode(e+(e>25?39:97))};function z(e){var t,r="";for(t=Math.abs(e);t>52;t=t/52|0)r=q(t%52)+r;return(q(t%52)+r).replace(W,"$1-$2")}var J=function(e,t){for(var r=t.length;r;)e=33*e^t.charCodeAt(--r);return e},G=function(e){return J(5381,e)};function Y(e){for(var t=0;t<e.length;t+=1){var r=e[t];if(y(r)&&!w(r))return!1}return!0}var $=G("5.3.0"),Q=function(){function e(e,t,r){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===r||r.isStatic)&&Y(e),this.componentId=t,this.baseHash=J($,t),this.baseStyle=r,V.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,r){var n=this.componentId,o=[];if(this.baseStyle&&o.push(this.baseStyle.generateAndInjectStyles(e,t,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&t.hasNameForId(n,this.staticRulesId))o.push(this.staticRulesId);else{var i=ge(this.rules,e,t,r).join(""),a=z(J(this.baseHash,i.length)>>>0);if(!t.hasNameForId(n,a)){var s=r(i,"."+a,void 0,n);t.insertRules(n,a,s)}o.push(a),this.staticRulesId=a}else{for(var c=this.rules.length,u=J(this.baseHash,r.hash),l="",h=0;h<c;h++){var p=this.rules[h];if("string"==typeof p)l+=p;else if(p){var f=ge(p,e,t,r),d=Array.isArray(f)?f.join(""):f;u=J(u,d+h),l+=d}}if(l){var g=z(u>>>0);if(!t.hasNameForId(n,g)){var m=r(l,"."+g,void 0,n);t.insertRules(n,g,m)}o.push(g)}}return o.join(" ")},e}(),X=/^\s*\/\/.*$/gm,Z=[":","[",".","#"];function ee(e){var t,r,n,o,i=void 0===e?v:e,a=i.options,s=void 0===a?v:a,u=i.plugins,l=void 0===u?m:u,h=new c.a(s),p=[],f=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(r,n,o,i,a,s,c,u,l,h){switch(r){case 1:if(0===l&&64===n.charCodeAt(0))return e(n+";"),"";break;case 2:if(0===u)return n+"/*|*/";break;case 3:switch(u){case 102:case 112:return e(o[0]+n),"";default:return n+(0===h?"/*|*/":"")}case-2:n.split("/*|*/}").forEach(t)}}}((function(e){p.push(e)})),d=function(e,n,i){return 0===n&&-1!==Z.indexOf(i[r.length])||i.match(o)?e:"."+t};function g(e,i,a,s){void 0===s&&(s="&");var c=e.replace(X,""),u=i&&a?a+" "+i+" { "+c+" }":c;return t=s,r=i,n=new RegExp("\\"+r+"\\b","g"),o=new RegExp("(\\"+r+"\\b){2,}"),h(a||!i?"":i,u)}return h.use([].concat(l,[function(e,t,o){2===e&&o.length&&o[0].lastIndexOf(r)>0&&(o[0]=o[0].replace(n,d))},f,function(e){if(-2===e){var t=p;return p=[],t}}])),g.hash=l.length?l.reduce((function(e,t){return t.name||E(15),J(e,t.name)}),5381).toString():"",g}var te=i.a.createContext(),re=(te.Consumer,i.a.createContext()),ne=(re.Consumer,new V),oe=ee();function ie(){return Object(o.useContext)(te)||ne}function ae(){return Object(o.useContext)(re)||oe}function se(e){var t=Object(o.useState)(e.stylisPlugins),r=t[0],n=t[1],a=ie(),c=Object(o.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),u=Object(o.useMemo)((function(){return ee({options:{prefix:!e.disableVendorPrefixes},plugins:r})}),[e.disableVendorPrefixes,r]);return Object(o.useEffect)((function(){s()(r,e.stylisPlugins)||n(e.stylisPlugins)}),[e.stylisPlugins]),i.a.createElement(te.Provider,{value:c},i.a.createElement(re.Provider,{value:u},e.children))}var ce=function(){function e(e,t){var r=this;this.inject=function(e,t){void 0===t&&(t=oe);var n=r.name+t.hash;e.hasNameForId(r.id,n)||e.insertRules(r.id,n,t(r.rules,n,"@keyframes"))},this.toString=function(){return E(12,String(r.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=oe),this.name+e.hash},e}(),ue=/([A-Z])/,le=/([A-Z])/g,he=/^ms-/,pe=function(e){return"-"+e.toLowerCase()};function fe(e){return ue.test(e)?e.replace(le,pe).replace(he,"-ms-"):e}var de=function(e){return null==e||!1===e||""===e};function ge(e,t,r,n){if(Array.isArray(e)){for(var o,i=[],a=0,s=e.length;a<s;a+=1)""!==(o=ge(e[a],t,r,n))&&(Array.isArray(o)?i.push.apply(i,o):i.push(o));return i}return de(e)?"":w(e)?"."+e.styledComponentId:y(e)?"function"!=typeof(c=e)||c.prototype&&c.prototype.isReactComponent||!t?e:ge(e(t),t,r,n):e instanceof ce?r?(e.inject(r,n),e.getName(n)):e:g(e)?function e(t,r){var n,o,i=[];for(var a in t)t.hasOwnProperty(a)&&!de(t[a])&&(g(t[a])?i.push.apply(i,e(t[a],a)):y(t[a])?i.push(fe(a)+":",t[a],";"):i.push(fe(a)+": "+(n=a,(null==(o=t[a])||"boolean"==typeof o||""===o?"":"number"!=typeof o||0===o||n in u.a?String(o).trim():o+"px")+";")));return r?[r+" {"].concat(i,["}"]):i}(e):e.toString();var c}function me(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return y(e)||g(e)?ge(d(m,[e].concat(r))):0===r.length&&1===e.length&&"string"==typeof e[0]?e:ge(d(e,r))}new Set;var ve=function(e,t,r){return void 0===r&&(r=v),e.theme!==r.theme&&e.theme||t||r.theme},ye=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,be=/(^-|-$)/g;function we(e){return e.replace(ye,"-").replace(be,"")}var Se=function(e){return z(G(e)>>>0)};function _e(e){return"string"==typeof e&&!0}var ke=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Ee=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function xe(e,t,r){var n=e[r];ke(t)&&ke(n)?Ae(n,t):e[r]=t}function Ae(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(var o=0,i=r;o<i.length;o++){var a=i[o];if(ke(a))for(var s in a)Ee(s)&&xe(e,a[s],s)}return e}var Ce=i.a.createContext();Ce.Consumer;var Pe={};function Fe(e,t,r){var n=w(e),a=!_e(e),s=t.attrs,c=void 0===s?m:s,u=t.componentId,h=void 0===u?function(e,t){var r="string"!=typeof e?"sc":we(e);Pe[r]=(Pe[r]||0)+1;var n=r+"-"+Se("5.3.0"+r+Pe[r]);return t?t+"-"+n:n}(t.displayName,t.parentComponentId):u,d=t.displayName,g=void 0===d?function(e){return _e(e)?"styled."+e:"Styled("+b(e)+")"}(e):d,S=t.displayName&&t.componentId?we(t.displayName)+"-"+t.componentId:t.componentId||h,_=n&&e.attrs?Array.prototype.concat(e.attrs,c).filter(Boolean):c,k=t.shouldForwardProp;n&&e.shouldForwardProp&&(k=t.shouldForwardProp?function(r,n,o){return e.shouldForwardProp(r,n,o)&&t.shouldForwardProp(r,n,o)}:e.shouldForwardProp);var E,x=new Q(r,S,n?e.componentStyle:void 0),A=x.isStatic&&0===c.length,C=function(e,t){return function(e,t,r,n){var i=e.attrs,a=e.componentStyle,s=e.defaultProps,c=e.foldedComponentIds,u=e.shouldForwardProp,h=e.styledComponentId,p=e.target,d=function(e,t,r){void 0===e&&(e=v);var n=f({},t,{theme:e}),o={};return r.forEach((function(e){var t,r,i,a=e;for(t in y(a)&&(a=a(n)),a)n[t]=o[t]="className"===t?(r=o[t],i=a[t],r&&i?r+" "+i:r||i):a[t]})),[n,o]}(ve(t,Object(o.useContext)(Ce),s)||v,t,i),g=d[0],m=d[1],b=function(e,t,r,n){var o=ie(),i=ae();return t?e.generateAndInjectStyles(v,o,i):e.generateAndInjectStyles(r,o,i)}(a,n,g),w=r,S=m.$as||t.$as||m.as||t.as||p,_=_e(S),k=m!==t?f({},t,{},m):t,E={};for(var x in k)"$"!==x[0]&&"as"!==x&&("forwardedAs"===x?E.as=k[x]:(u?u(x,l.a,S):!_||Object(l.a)(x))&&(E[x]=k[x]));return t.style&&m.style!==t.style&&(E.style=f({},t.style,{},m.style)),E.className=Array.prototype.concat(c,h,b!==h?b:null,t.className,m.className).filter(Boolean).join(" "),E.ref=w,Object(o.createElement)(S,E)}(E,e,t,A)};return C.displayName=g,(E=i.a.forwardRef(C)).attrs=_,E.componentStyle=x,E.displayName=g,E.shouldForwardProp=k,E.foldedComponentIds=n?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):m,E.styledComponentId=S,E.target=n?e.target:e,E.withComponent=function(e){var n=t.componentId,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["componentId"]),i=n&&n+"-"+(_e(e)?e:we(b(e)));return Fe(e,f({},o,{attrs:_,componentId:i}),r)},Object.defineProperty(E,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=n?Ae({},e.defaultProps,t):t}}),E.toString=function(){return"."+E.styledComponentId},a&&p()(E,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),E}var Te=function(e){return function e(t,r,o){if(void 0===o&&(o=v),!Object(n.isValidElementType)(r))return E(1,String(r));var i=function(){return t(r,o,me.apply(void 0,arguments))};return i.withConfig=function(n){return e(t,r,f({},o,{},n))},i.attrs=function(n){return e(t,r,f({},o,{attrs:Array.prototype.concat(o.attrs,n).filter(Boolean)}))},i}(Fe,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Te[e]=Te(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Y(e),V.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,r,n){var o=n(ge(this.rules,t,r,n).join(""),""),i=this.componentId+e;r.insertRules(i,i,o)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,r,n){e>2&&V.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,t,r,n)}}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString(),r=U();return"<style "+[r&&'nonce="'+r+'"',S+'="true"','data-styled-version="5.3.0"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?E(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return E(2);var r=((t={})[S]="",t["data-styled-version"]="5.3.0",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),n=U();return n&&(r.nonce=n),[i.a.createElement("style",f({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new V({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?E(2):i.a.createElement(se,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return E(3)}}();t.a=Te}).call(this,r(75))},function(e,t){e.exports=function(e,t,r,n){var o=r?r.call(n,e,t):void 0;if(void 0!==o)return!!o;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),c=0;c<i.length;c++){var u=i[c];if(!s(u))return!1;var l=e[u],h=t[u];if(!1===(o=r?r.call(n,l,h,u):void 0)||void 0===o&&l!==h)return!1}return!0}},function(e,t,r){"use strict";t.a=function(e){function t(e,n,c,u,p){for(var f,d,g,m,w,_=0,k=0,E=0,x=0,A=0,R=0,j=g=f=0,U=0,N=0,L=0,M=0,B=c.length,H=B-1,K="",V="",W="",q="";U<B;){if(d=c.charCodeAt(U),U===H&&0!==k+x+E+_&&(0!==k&&(d=47===k?10:47),x=E=_=0,B++,H++),0===k+x+E+_){if(U===H&&(0<N&&(K=K.replace(h,"")),0<K.trim().length)){switch(d){case 32:case 9:case 59:case 13:case 10:break;default:K+=c.charAt(U)}d=59}switch(d){case 123:for(f=(K=K.trim()).charCodeAt(0),g=1,M=++U;U<B;){switch(d=c.charCodeAt(U)){case 123:g++;break;case 125:g--;break;case 47:switch(d=c.charCodeAt(U+1)){case 42:case 47:e:{for(j=U+1;j<H;++j)switch(c.charCodeAt(j)){case 47:if(42===d&&42===c.charCodeAt(j-1)&&U+2!==j){U=j+1;break e}break;case 10:if(47===d){U=j+1;break e}}U=j}}break;case 91:d++;case 40:d++;case 34:case 39:for(;U++<H&&c.charCodeAt(U)!==d;);}if(0===g)break;U++}switch(g=c.substring(M,U),0===f&&(f=(K=K.replace(l,"").trim()).charCodeAt(0)),f){case 64:switch(0<N&&(K=K.replace(h,"")),d=K.charCodeAt(1)){case 100:case 109:case 115:case 45:N=n;break;default:N=O}if(M=(g=t(n,N,g,d,p+1)).length,0<I&&(w=s(3,g,N=r(O,K,L),n,P,C,M,d,p,u),K=N.join(""),void 0!==w&&0===(M=(g=w.trim()).length)&&(d=0,g="")),0<M)switch(d){case 115:K=K.replace(S,a);case 100:case 109:case 45:g=K+"{"+g+"}";break;case 107:g=(K=K.replace(v,"$1 $2"))+"{"+g+"}",g=1===T||2===T&&i("@"+g,3)?"@-webkit-"+g+"@"+g:"@"+g;break;default:g=K+g,112===u&&(V+=g,g="")}else g="";break;default:g=t(n,r(n,K,L),g,u,p+1)}W+=g,g=L=N=j=f=0,K="",d=c.charCodeAt(++U);break;case 125:case 59:if(1<(M=(K=(0<N?K.replace(h,""):K).trim()).length))switch(0===j&&(f=K.charCodeAt(0),45===f||96<f&&123>f)&&(M=(K=K.replace(" ",":")).length),0<I&&void 0!==(w=s(1,K,n,e,P,C,V.length,u,p,u))&&0===(M=(K=w.trim()).length)&&(K="\0\0"),f=K.charCodeAt(0),d=K.charCodeAt(1),f){case 0:break;case 64:if(105===d||99===d){q+=K+c.charAt(U);break}default:58!==K.charCodeAt(M-1)&&(V+=o(K,f,d,K.charCodeAt(2)))}L=N=j=f=0,K="",d=c.charCodeAt(++U)}}switch(d){case 13:case 10:47===k?k=0:0===1+f&&107!==u&&0<K.length&&(N=1,K+="\0"),0<I*D&&s(0,K,n,e,P,C,V.length,u,p,u),C=1,P++;break;case 59:case 125:if(0===k+x+E+_){C++;break}default:switch(C++,m=c.charAt(U),d){case 9:case 32:if(0===x+_+k)switch(A){case 44:case 58:case 9:case 32:m="";break;default:32!==d&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===x+k+_&&(N=L=1,m="\f"+m);break;case 108:if(0===x+k+_+F&&0<j)switch(U-j){case 2:112===A&&58===c.charCodeAt(U-3)&&(F=A);case 8:111===R&&(F=R)}break;case 58:0===x+k+_&&(j=U);break;case 44:0===k+E+x+_&&(N=1,m+="\r");break;case 34:case 39:0===k&&(x=x===d?0:0===x?d:x);break;case 91:0===x+k+E&&_++;break;case 93:0===x+k+E&&_--;break;case 41:0===x+k+_&&E--;break;case 40:if(0===x+k+_){if(0===f)switch(2*A+3*R){case 533:break;default:f=1}E++}break;case 64:0===k+E+x+_+j+g&&(g=1);break;case 42:case 47:if(!(0<x+_+E))switch(k){case 0:switch(2*d+3*c.charCodeAt(U+1)){case 235:k=47;break;case 220:M=U,k=42}break;case 42:47===d&&42===A&&M+2!==U&&(33===c.charCodeAt(M+2)&&(V+=c.substring(M,U+1)),m="",k=0)}}0===k&&(K+=m)}R=A,A=d,U++}if(0<(M=V.length)){if(N=n,0<I&&(void 0!==(w=s(2,V,N,e,P,C,M,u,p,u))&&0===(V=w).length))return q+V+W;if(V=N.join(",")+"{"+V+"}",0!==T*F){switch(2!==T||i(V,2)||(F=0),F){case 111:V=V.replace(b,":-moz-$1")+V;break;case 112:V=V.replace(y,"::-webkit-input-$1")+V.replace(y,"::-moz-$1")+V.replace(y,":-ms-input-$1")+V}F=0}}return q+V+W}function r(e,t,r){var o=t.trim().split(g);t=o;var i=o.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<i;++s)t[s]=n(e,t[s],r).trim();break;default:var c=s=0;for(t=[];s<i;++s)for(var u=0;u<a;++u)t[c++]=n(e[u]+" ",o[s],r).trim()}return t}function n(e,t,r){var n=t.charCodeAt(0);switch(33>n&&(n=(t=t.trim()).charCodeAt(0)),n){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*r&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function o(e,t,r,n){var a=e+";",s=2*t+3*r+4*n;if(944===s){e=a.indexOf(":",9)+1;var c=a.substring(e,a.length-1).trim();return c=a.substring(0,e).trim()+c+";",1===T||2===T&&i(c,1)?"-webkit-"+c+c:c}if(0===T||2===T&&!i(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(A,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(c=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+c+a;case 1005:return f.test(a)?a.replace(p,":-webkit-")+a.replace(p,":-moz-")+a:a;case 1e3:switch(t=(c=a.substring(13).trim()).indexOf("-")+1,c.charCodeAt(0)+c.charCodeAt(t)){case 226:c=a.replace(w,"tb");break;case 232:c=a.replace(w,"tb-rl");break;case 220:c=a.replace(w,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+c+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(c=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|c.charCodeAt(7))){case 203:if(111>c.charCodeAt(8))break;case 115:a=a.replace(c,"-webkit-"+c)+";"+a;break;case 207:case 102:a=a.replace(c,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(c,"-webkit-"+c)+";"+a.replace(c,"-ms-"+c+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return c=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+c+"-ms-flex-"+c+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(k,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(k,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===x.test(e))return 115===(c=e.substring(e.indexOf(":")+1)).charCodeAt(0)?o(e.replace("stretch","fill-available"),t,r,n).replace(":fill-available",":stretch"):a.replace(c,"-webkit-"+c)+a.replace(c,"-moz-"+c.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===r+n&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(d,"$1-webkit-$2")+a}return a}function i(e,t){var r=e.indexOf(1===t?":":"{"),n=e.substring(0,3!==t?r:10);return r=e.substring(r+1,e.length-1),j(2!==t?n:n.replace(E,"$1"),r,t)}function a(e,t){var r=o(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return r!==t+";"?r.replace(_," or ($1)").substring(4):"("+t+")"}function s(e,t,r,n,o,i,a,s,c,l){for(var h,p=0,f=t;p<I;++p)switch(h=R[p].call(u,e,f,r,n,o,i,a,s,c,l)){case void 0:case!1:case!0:case null:break;default:f=h}if(f!==t)return f}function c(e){return void 0!==(e=e.prefix)&&(j=null,e?"function"!==typeof e?T=1:(T=2,j=e):T=0),c}function u(e,r){var n=e;if(33>n.charCodeAt(0)&&(n=n.trim()),n=[n],0<I){var o=s(-1,r,n,n,P,C,0,0,0,0);void 0!==o&&"string"===typeof o&&(r=o)}var i=t(O,n,r,0,0);return 0<I&&(void 0!==(o=s(-2,i,n,n,P,C,i.length,0,0,0))&&(i=o)),"",F=0,C=P=1,i}var l=/^\0+/g,h=/[\0\r\f]/g,p=/: */g,f=/zoo|gra/,d=/([,: ])(transform)/g,g=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,v=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,b=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,S=/\(\s*(.*)\s*\)/g,_=/([\s\S]*?);/g,k=/-self|flex-/g,E=/[^]*?(:[rp][el]a[\w-]+)[^]*/,x=/stretch|:\s*\w+\-(?:conte|avail)/,A=/([^-])(image-set\()/,C=1,P=1,F=0,T=1,O=[],R=[],I=0,j=null,D=0;return u.use=function e(t){switch(t){case void 0:case null:I=R.length=0;break;default:if("function"===typeof t)R[I++]=t;else if("object"===typeof t)for(var r=0,n=t.length;r<n;++r)e(t[r]);else D=0|!!t}return e},u.set=c,void 0!==e&&c(e),u}},function(e,t,r){"use strict";t.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,r){"use strict";function n(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(22);function o(e){var t=function(e,t){if("object"!==Object(n.a)(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==Object(n.a)(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Object(n.a)(t)?t:String(t)}},function(e,t,r){"use strict";(function(e){var n=r(122),o=r(123),i=r(124);function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,r){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c(e,t,r);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return u(this,e,t,r)}function u(e,t,r,n){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=p(e,t);return e}(e,t,r,n):"string"===typeof t?function(e,t,r){"string"===typeof r&&""!==r||(r="utf8");if(!c.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|d(t,r),o=(e=s(e,n)).write(t,r);o!==n&&(e=e.slice(0,o));return e}(e,t,r):function(e,t){if(c.isBuffer(t)){var r=0|f(t.length);return 0===(e=s(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(n=t.length)!==n?s(e,0):p(e,t);if("Buffer"===t.type&&i(t.data))return p(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(l(t),e=s(e,t<0?0:0|f(t)),!c.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function p(e,t){var r=t.length<0?0:0|f(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function f(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function d(e,t){if(c.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return K(e).length;default:if(n)return H(e).length;t=(""+t).toLowerCase(),n=!0}}function g(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return T(this,t,r);case"utf8":case"utf-8":return A(this,t,r);case"ascii":return P(this,t,r);case"latin1":case"binary":return F(this,t,r);case"base64":return x(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function m(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function v(e,t,r,n,o){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"===typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:y(e,t,r,n,o);if("number"===typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):y(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function y(e,t,r,n,o){var i,a=1,s=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,r/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var l=-1;for(i=r;i<s;i++)if(u(e,i)===u(t,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===c)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(r+c>s&&(r=s-c),i=r;i>=0;i--){for(var h=!0,p=0;p<c;p++)if(u(e,i+p)!==u(t,p)){h=!1;break}if(h)return i}return-1}function b(e,t,r,n){r=Number(r)||0;var o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;var i=t.length;if(i%2!==0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function w(e,t,r,n){return V(H(t,e.length-r),e,r,n)}function S(e,t,r,n){return V(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function _(e,t,r,n){return S(e,t,r,n)}function k(e,t,r,n){return V(K(t),e,r,n)}function E(e,t,r,n){return V(function(e,t){for(var r,n,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)n=(r=e.charCodeAt(a))>>8,o=r%256,i.push(o),i.push(n);return i}(t,e.length-r),e,r,n)}function x(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function A(e,t,r){r=Math.min(e.length,r);for(var n=[],o=t;o<r;){var i,a,s,c,u=e[o],l=null,h=u>239?4:u>223?3:u>191?2:1;if(o+h<=r)switch(h){case 1:u<128&&(l=u);break;case 2:128===(192&(i=e[o+1]))&&(c=(31&u)<<6|63&i)>127&&(l=c);break;case 3:i=e[o+1],a=e[o+2],128===(192&i)&&128===(192&a)&&(c=(15&u)<<12|(63&i)<<6|63&a)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128===(192&i)&&128===(192&a)&&128===(192&s)&&(c=(15&u)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(l=c)}null===l?(l=65533,h=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),o+=h}return function(e){var t=e.length;if(t<=C)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=C));return r}(n)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=a(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,r){return u(null,e,t,r)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,r){return function(e,t,r,n){return l(t),t<=0?s(e,t):void 0!==r?"string"===typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},c.allocUnsafe=function(e){return h(null,e)},c.allocUnsafeSlow=function(e){return h(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=c.allocUnsafe(t),o=0;for(r=0;r<e.length;++r){var a=e[r];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,o),o+=a.length}return n},c.byteLength=d,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?A(this,0,e):g.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,r,n,o){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=r)return 0;if(n>=o)return-1;if(t>=r)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(i,a),u=this.slice(n,o),l=e.slice(t,r),h=0;h<s;++h)if(u[h]!==l[h]){i=u[h],a=l[h];break}return i<a?-1:a<i?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return v(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return v(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return b(this,e,t,r);case"utf8":case"utf-8":return w(this,e,t,r);case"ascii":return S(this,e,t,r);case"latin1":case"binary":return _(this,e,t,r);case"base64":return k(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function P(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}function F(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function T(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=t;i<r;++i)o+=B(e[i]);return o}function O(e,t,r){for(var n=e.slice(t,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function R(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,r,n,o,i){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function j(e,t,r,n){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-r,2);o<i;++o)e[r+o]=(t&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function D(e,t,r,n){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-r,4);o<i;++o)e[r+o]=t>>>8*(n?o:3-o)&255}function U(e,t,r,n,o,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function N(e,t,r,n,i){return i||U(e,0,r,4),o.write(e,t,r,n,23,4),r+4}function L(e,t,r,n,i){return i||U(e,0,r,8),o.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=c.prototype;else{var o=t-e;r=new c(o,void 0);for(var i=0;i<o;++i)r[i]=this[i+e]}return r},c.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n},c.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e+--t],o=1;t>0&&(o*=256);)n+=this[e+--t]*o;return n},c.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=t,o=1,i=this[e+--n];n>0&&(o*=256);)i+=this[e+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},c.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||I(this,e,t,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[t]=255&e;++i<r&&(o*=256);)this[t+i]=e/o&255;return t+r},c.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||I(this,e,t,r,Math.pow(2,8*r)-1,0);var o=r-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+r},c.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):j(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):j(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);I(this,e,t,r,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<r&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);I(this,e,t,r,o-1,-o)}var i=r-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):j(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):j(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,r){return N(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return N(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return L(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return L(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var o,i=n-r;if(this===e&&r<t&&t<n)for(o=i-1;o>=0;--o)e[o+t]=this[o+r];else if(i<1e3||!c.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+i),t);return i},c.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(i=t;i<r;++i)this[i]=e;else{var a=c.isBuffer(e)?e:H(new c(e,n).toString()),s=a.length;for(i=0;i<r-t;++i)this[i+t]=a[i%s]}return this};var M=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function H(e,t){var r;t=t||1/0;for(var n=e.length,o=null,i=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function K(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(M,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function V(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}}).call(this,r(76))},function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"===typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"===typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var c,u=[],l=!1,h=-1;function p(){l&&c&&(l=!1,c.length?u=c.concat(u):h=-1,u.length&&f())}function f(){if(!l){var e=s(p);l=!0;for(var t=u.length;t;){for(c=u,u=[];++h<t;)c&&c[h].run();h=-1,t=u.length}c=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new d(e,t)),1!==u.length||l||s(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(n){"object"===typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";var n,o="object"===typeof Reflect?Reflect:null,i=o&&"function"===typeof o.apply?o.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=o&&"function"===typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!==e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(r,n){function o(){void 0!==i&&e.removeListener("error",i),r([].slice.call(arguments))}var i;"error"!==t&&(i=function(r){e.removeListener(t,o),n(r)},e.once("error",i)),e.once(t,o)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var c=10;function u(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function h(e,t,r,n){var o,i,a,s;if(u(r),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),i=e._events),a=i[t]),void 0===a)a=i[t]=r,++e._eventsCount;else if("function"===typeof a?a=i[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(o=l(e))>0&&a.length>o&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,s=c,console&&console.warn&&console.warn(s)}return e}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},o=p.bind(n);return o.listener=r,n.wrapFn=o,o}function d(e,t,r){var n=e._events;if(void 0===n)return[];var o=n[t];return void 0===o?[]:"function"===typeof o?r?[o.listener||o]:[o]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(o):m(o,o.length)}function g(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"===typeof r)return 1;if(void 0!==r)return r.length}return 0}function m(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=o[e];if(void 0===c)return!1;if("function"===typeof c)i(c,this,t);else{var u=c.length,l=m(c,u);for(r=0;r<u;++r)i(l[r],this,t)}return!0},s.prototype.addListener=function(e,t){return h(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return h(this,e,t,!0)},s.prototype.once=function(e,t){return u(t),this.on(e,f(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,f(this,e,t)),this},s.prototype.removeListener=function(e,t){var r,n,o,i,a;if(u(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!==typeof r){for(o=-1,i=r.length-1;i>=0;i--)if(r[i]===t||r[i].listener===t){a=r[i].listener,o=i;break}if(o<0)return this;0===o?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,o),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var o,i=Object.keys(r);for(n=0;n<i.length;++n)"removeListener"!==(o=i[n])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},s.prototype.listeners=function(e){return d(this,e,!0)},s.prototype.rawListeners=function(e){return d(this,e,!1)},s.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},s.prototype.listenerCount=g,s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(e,t,r){"use strict";var n=r(37),o=60103,i=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,c=60112;t.Suspense=60113;var u=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var h=Symbol.for;o=h("react.element"),i=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),a=h("react.provider"),s=h("react.context"),c=h("react.forward_ref"),t.Suspense=h("react.suspense"),u=h("react.memo"),l=h("react.lazy")}var p="function"===typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function m(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||d}function v(){}function y(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||d}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=m.prototype;var b=y.prototype=new v;b.constructor=y,n(b,m.prototype),b.isPureReactComponent=!0;var w={current:null},S=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var n,i={},a=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,n)&&!_.hasOwnProperty(n)&&(i[n]=t[n]);var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){for(var u=Array(c),l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(n in c=e.defaultProps)void 0===i[n]&&(i[n]=c[n]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:w.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===o}var x=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,r,n,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case o:case i:c=!0}}if(c)return a=a(c=e),e=""===n?"."+A(c,0):n,Array.isArray(a)?(r="",null!=e&&(r=e.replace(x,"$&/")+"/"),C(a,t,r,"",(function(e){return e}))):null!=a&&(E(a)&&(a=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,r+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(x,"$&/")+"/")+e)),t.push(a)),1;if(c=0,n=""===n?".":n+":",Array.isArray(e))for(var u=0;u<e.length;u++){var l=n+A(s=e[u],u);c+=C(s,t,r,l,a)}else if("function"===typeof(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e)))for(e=l.call(e),u=0;!(s=e.next()).done;)c+=C(s=s.value,t,r,l=n+A(s,u++),a);else if("object"===s)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return c}function P(e,t,r){if(null==e)return e;var n=[],o=0;return C(e,n,"","",(function(e){return t.call(r,e,o++)})),n}function F(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var T={current:null};function O(){var e=T.current;if(null===e)throw Error(f(321));return e}var R={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:n};t.Children={map:P,forEach:function(e,t,r){P(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(f(143));return e}},t.Component=m,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error(f(267,e));var i=n({},e.props),a=e.key,s=e.ref,c=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,c=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)S.call(t,l)&&!_.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var h=0;h<l;h++)u[h]=arguments[h+2];i.children=u}return{$$typeof:o,type:e.type,key:a,ref:s,props:i,_owner:c}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:F}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return O().useCallback(e,t)},t.useContext=function(e,t){return O().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return O().useEffect(e,t)},t.useImperativeHandle=function(e,t,r){return O().useImperativeHandle(e,t,r)},t.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},t.useMemo=function(e,t){return O().useMemo(e,t)},t.useReducer=function(e,t,r){return O().useReducer(e,t,r)},t.useRef=function(e){return O().useRef(e)},t.useState=function(e){return O().useState(e)},t.version="17.0.2"},function(e,t,r){"use strict";var n=r(3),o=r(37),i=r(80);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!n)throw Error(a(227));var s=new Set,c={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(c[e]=t,e=0;e<t.length;e++)s.add(t[e])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,d={},g={};function m(e,t,r,n,o,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,r,n){var o=v.hasOwnProperty(t)?v[t]:null;(null!==o?0===o.type:!n&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,o,n)&&(r=null),n||null===o?function(e){return!!f.call(g,e)||!f.call(d,e)&&(p.test(e)?g[e]=!0:(d[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):o.mustUseProperty?e[o.propertyName]=null===r?3!==o.type&&"":r:(t=o.attributeName,n=o.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(o=o.type)||4===o&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);v[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);v[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);v[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var S=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=60103,k=60106,E=60107,x=60108,A=60114,C=60109,P=60110,F=60112,T=60113,O=60120,R=60115,I=60116,j=60121,D=60128,U=60129,N=60130,L=60131;if("function"===typeof Symbol&&Symbol.for){var M=Symbol.for;_=M("react.element"),k=M("react.portal"),E=M("react.fragment"),x=M("react.strict_mode"),A=M("react.profiler"),C=M("react.provider"),P=M("react.context"),F=M("react.forward_ref"),T=M("react.suspense"),O=M("react.suspense_list"),R=M("react.memo"),I=M("react.lazy"),j=M("react.block"),M("react.scope"),D=M("react.opaque.id"),U=M("react.debug_trace_mode"),N=M("react.offscreen"),L=M("react.legacy_hidden")}var B,H="function"===typeof Symbol&&Symbol.iterator;function K(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=H&&e[H]||e["@@iterator"])?e:null}function V(e){if(void 0===B)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var W=!1;function q(e,t){if(!e||W)return"";W=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var o=c.stack.split("\n"),i=n.stack.split("\n"),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(1!==a||1!==s)do{if(a--,0>--s||o[a]!==i[s])return"\n"+o[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{W=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?V(e):""}function z(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=q(e.type,!1);case 11:return e=q(e.type.render,!1);case 22:return e=q(e.type._render,!1);case 1:return e=q(e.type,!0);default:return""}}function J(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case k:return"Portal";case A:return"Profiler";case x:return"StrictMode";case T:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case F:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case R:return J(e.type);case j:return J(e._render);case I:t=e._payload,e=e._init;try{return J(e(t))}catch(r){}}return null}function G(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var o=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){n=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Y(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var r=t.checked;return o({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function ee(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=G(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function re(e,t){te(e,t);var r=G(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?oe(e,t.type,r):t.hasOwnProperty("defaultValue")&&oe(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ne(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function oe(e,t,r){"number"===t&&X(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function ie(e,t){return e=o({children:void 0},t),(t=function(e){var t="";return n.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,r,n){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&n&&(e[r].defaultSelected=!0)}else{for(r=""+G(r),t=null,o=0;o<e.length;o++){if(e[o].value===r)return e[o].selected=!0,void(n&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return o({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ce(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(a(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(a(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:G(r)}}function ue(e,t){var r=G(t.value),n=G(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml",pe="http://www.w3.org/2000/svg";function fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function de(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ge,me,ve=(me=function(e,t){if(e.namespaceURI!==pe||"innerHTML"in e)e.innerHTML=t;else{for((ge=ge||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ge.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ye(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function Se(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function _e(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),o=Se(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,o):e[r]=o}}Object.keys(be).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var ke=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(ke[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ae(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,Pe=null,Fe=null;function Te(e){if(e=eo(e)){if("function"!==typeof Ce)throw Error(a(280));var t=e.stateNode;t&&(t=ro(t),Ce(e.stateNode,e.type,t))}}function Oe(e){Pe?Fe?Fe.push(e):Fe=[e]:Pe=e}function Re(){if(Pe){var e=Pe,t=Fe;if(Fe=Pe=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ie(e,t){return e(t)}function je(e,t,r,n,o){return e(t,r,n,o)}function De(){}var Ue=Ie,Ne=!1,Le=!1;function Me(){null===Pe&&null===Fe||(De(),Re())}function Be(e,t){var r=e.stateNode;if(null===r)return null;var n=ro(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(a(231,t,typeof r));return r}var He=!1;if(h)try{var Ke={};Object.defineProperty(Ke,"passive",{get:function(){He=!0}}),window.addEventListener("test",Ke,Ke),window.removeEventListener("test",Ke,Ke)}catch(me){He=!1}function Ve(e,t,r,n,o,i,a,s,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(l){this.onError(l)}}var We=!1,qe=null,ze=!1,Je=null,Ge={onError:function(e){We=!0,qe=e}};function Ye(e,t,r,n,o,i,a,s,c){We=!1,qe=null,Ve.apply(Ge,arguments)}function $e(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function Qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if($e(e)!==e)throw Error(a(188))}function Ze(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(a(188));return t!==e?null:e}for(var r=e,n=t;;){var o=r.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(n=o.return)){r=n;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===r)return Xe(o),e;if(i===n)return Xe(o),t;i=i.sibling}throw Error(a(188))}if(r.return!==n.return)r=o,n=i;else{for(var s=!1,c=o.child;c;){if(c===r){s=!0,r=o,n=i;break}if(c===n){s=!0,n=o,r=i;break}c=c.sibling}if(!s){for(c=i.child;c;){if(c===r){s=!0,r=i,n=o;break}if(c===n){s=!0,n=i,r=o;break}c=c.sibling}if(!s)throw Error(a(189))}}if(r.alternate!==n)throw Error(a(190))}if(3!==r.tag)throw Error(a(188));return r.stateNode.current===r?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var r=e.alternate;null!==t;){if(t===e||t===r)return!0;t=t.return}return!1}var tt,rt,nt,ot,it=!1,at=[],st=null,ct=null,ut=null,lt=new Map,ht=new Map,pt=[],ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dt(e,t,r,n,o){return{blockedOn:e,domEventName:t,eventSystemFlags:16|r,nativeEvent:o,targetContainers:[n]}}function gt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ct=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ht.delete(t.pointerId)}}function mt(e,t,r,n,o,i){return null===e||e.nativeEvent!==i?(e=dt(t,r,n,o,i),null!==t&&(null!==(t=eo(t))&&rt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function vt(e){var t=Zn(e.target);if(null!==t){var r=$e(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=Qe(r)))return e.blockedOn=t,void ot(e.lanePriority,(function(){i.unstable_runWithPriority(e.priority,(function(){nt(r)}))}))}else if(3===t&&r.stateNode.hydrate)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=eo(r))&&rt(t),e.blockedOn=r,!1;t.shift()}return!0}function bt(e,t,r){yt(e)&&r.delete(t)}function wt(){for(it=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=eo(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var r=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r){e.blockedOn=r;break}t.shift()}null===e.blockedOn&&at.shift()}null!==st&&yt(st)&&(st=null),null!==ct&&yt(ct)&&(ct=null),null!==ut&&yt(ut)&&(ut=null),lt.forEach(bt),ht.forEach(bt)}function St(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,wt)))}function _t(e){function t(t){return St(t,e)}if(0<at.length){St(at[0],e);for(var r=1;r<at.length;r++){var n=at[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==st&&St(st,e),null!==ct&&St(ct,e),null!==ut&&St(ut,e),lt.forEach(t),ht.forEach(t),r=0;r<pt.length;r++)(n=pt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<pt.length&&null===(r=pt[0]).blockedOn;)vt(r),null===r.blockedOn&&pt.shift()}function kt(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Et={animationend:kt("Animation","AnimationEnd"),animationiteration:kt("Animation","AnimationIteration"),animationstart:kt("Animation","AnimationStart"),transitionend:kt("Transition","TransitionEnd")},xt={},At={};function Ct(e){if(xt[e])return xt[e];if(!Et[e])return e;var t,r=Et[e];for(t in r)if(r.hasOwnProperty(t)&&t in At)return xt[e]=r[t];return e}h&&(At=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var Pt=Ct("animationend"),Ft=Ct("animationiteration"),Tt=Ct("animationstart"),Ot=Ct("transitionend"),Rt=new Map,It=new Map,jt=["abort","abort",Pt,"animationEnd",Ft,"animationIteration",Tt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],o=e[r+1];o="on"+(o[0].toUpperCase()+o.slice(1)),It.set(n,t),Rt.set(n,o),u(o,[n])}}(0,i.unstable_now)();var Ut=8;function Nt(e){if(0!==(1&e))return Ut=15,1;if(0!==(2&e))return Ut=14,2;if(0!==(4&e))return Ut=13,4;var t=24&e;return 0!==t?(Ut=12,t):0!==(32&e)?(Ut=11,32):0!==(t=192&e)?(Ut=10,t):0!==(256&e)?(Ut=9,256):0!==(t=3584&e)?(Ut=8,t):0!==(4096&e)?(Ut=7,4096):0!==(t=4186112&e)?(Ut=6,t):0!==(t=62914560&e)?(Ut=5,t):67108864&e?(Ut=4,67108864):0!==(134217728&e)?(Ut=3,134217728):0!==(t=805306368&e)?(Ut=2,t):0!==(1073741824&e)?(Ut=1,1073741824):(Ut=8,e)}function Lt(e,t){var r=e.pendingLanes;if(0===r)return Ut=0;var n=0,o=0,i=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==i)n=i,o=Ut=15;else if(0!==(i=134217727&r)){var c=i&~a;0!==c?(n=Nt(c),o=Ut):0!==(s&=i)&&(n=Nt(s),o=Ut)}else 0!==(i=r&~a)?(n=Nt(i),o=Ut):0!==s&&(n=Nt(s),o=Ut);if(0===n)return 0;if(n=r&((0>(n=31-Wt(n))?0:1<<n)<<1)-1,0!==t&&t!==n&&0===(t&a)){if(Nt(t),o<=Ut)return t;Ut=o}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)o=1<<(r=31-Wt(t)),n|=e[r],t&=~o;return n}function Mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Bt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ht(24&~t))?Bt(10,t):e;case 10:return 0===(e=Ht(192&~t))?Bt(8,t):e;case 8:return 0===(e=Ht(3584&~t))&&(0===(e=Ht(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Ht(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Ht(e){return e&-e}function Kt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Vt(e,t,r){e.pendingLanes|=t;var n=t-1;e.suspendedLanes&=n,e.pingedLanes&=n,(e=e.eventTimes)[t=31-Wt(t)]=r}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(qt(e)/zt|0)|0},qt=Math.log,zt=Math.LN2;var Jt=i.unstable_UserBlockingPriority,Gt=i.unstable_runWithPriority,Yt=!0;function $t(e,t,r,n){Ne||De();var o=Xt,i=Ne;Ne=!0;try{je(o,e,t,r,n)}finally{(Ne=i)||Me()}}function Qt(e,t,r,n){Gt(Jt,Xt.bind(null,e,t,r,n))}function Xt(e,t,r,n){var o;if(Yt)if((o=0===(4&t))&&0<at.length&&-1<ft.indexOf(e))e=dt(null,e,t,r,n),at.push(e);else{var i=Zt(e,t,r,n);if(null===i)o&&gt(e,n);else{if(o){if(-1<ft.indexOf(e))return e=dt(i,e,t,r,n),void at.push(e);if(function(e,t,r,n,o){switch(t){case"focusin":return st=mt(st,e,t,r,n,o),!0;case"dragenter":return ct=mt(ct,e,t,r,n,o),!0;case"mouseover":return ut=mt(ut,e,t,r,n,o),!0;case"pointerover":var i=o.pointerId;return lt.set(i,mt(lt.get(i)||null,e,t,r,n,o)),!0;case"gotpointercapture":return i=o.pointerId,ht.set(i,mt(ht.get(i)||null,e,t,r,n,o)),!0}return!1}(i,e,t,r,n))return;gt(e,n)}Rn(e,t,n,null,r)}}}function Zt(e,t,r,n){var o=Ae(n);if(null!==(o=Zn(o))){var i=$e(o);if(null===i)o=null;else{var a=i.tag;if(13===a){if(null!==(o=Qe(i)))return o;o=null}else if(3===a){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;o=null}else i!==o&&(o=null)}}return Rn(e,t,n,o,r),null}var er=null,tr=null,rr=null;function nr(){if(rr)return rr;var e,t,r=tr,n=r.length,o="value"in er?er.value:er.textContent,i=o.length;for(e=0;e<n&&r[e]===o[e];e++);var a=n-e;for(t=1;t<=a&&r[n-t]===o[i-t];t++);return rr=o.slice(e,1<t?1-t:void 0)}function or(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function ir(){return!0}function ar(){return!1}function sr(e){function t(t,r,n,o,i){for(var a in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?ir:ar,this.isPropagationStopped=ar,this}return o(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ir)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ir)},persist:function(){},isPersistent:ir}),t}var cr,ur,lr,hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pr=sr(hr),fr=o({},hr,{view:0,detail:0}),dr=sr(fr),gr=o({},fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ar,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==lr&&(lr&&"mousemove"===e.type?(cr=e.screenX-lr.screenX,ur=e.screenY-lr.screenY):ur=cr=0,lr=e),cr)},movementY:function(e){return"movementY"in e?e.movementY:ur}}),mr=sr(gr),vr=sr(o({},gr,{dataTransfer:0})),yr=sr(o({},fr,{relatedTarget:0})),br=sr(o({},hr,{animationName:0,elapsedTime:0,pseudoElement:0})),wr=sr(o({},hr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),Sr=sr(o({},hr,{data:0})),_r={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Er={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Er[e])&&!!t[e]}function Ar(){return xr}var Cr=sr(o({},fr,{key:function(e){if(e.key){var t=_r[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=or(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ar,charCode:function(e){return"keypress"===e.type?or(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?or(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Pr=sr(o({},gr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Fr=sr(o({},fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ar})),Tr=sr(o({},hr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Or=sr(o({},gr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Rr=[9,13,27,32],Ir=h&&"CompositionEvent"in window,jr=null;h&&"documentMode"in document&&(jr=document.documentMode);var Dr=h&&"TextEvent"in window&&!jr,Ur=h&&(!Ir||jr&&8<jr&&11>=jr),Nr=String.fromCharCode(32),Lr=!1;function Mr(e,t){switch(e){case"keyup":return-1!==Rr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Br(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hr=!1;var Kr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kr[e.type]:"textarea"===t}function Wr(e,t,r,n){Oe(n),0<(t=jn(t,"onChange")).length&&(r=new pr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var qr=null,zr=null;function Jr(e){An(e,0)}function Gr(e){if(Q(to(e)))return e}function Yr(e,t){if("change"===e)return t}var $r=!1;if(h){var Qr;if(h){var Xr="oninput"in document;if(!Xr){var Zr=document.createElement("div");Zr.setAttribute("oninput","return;"),Xr="function"===typeof Zr.oninput}Qr=Xr}else Qr=!1;$r=Qr&&(!document.documentMode||9<document.documentMode)}function en(){qr&&(qr.detachEvent("onpropertychange",tn),zr=qr=null)}function tn(e){if("value"===e.propertyName&&Gr(zr)){var t=[];if(Wr(t,zr,e,Ae(e)),e=Jr,Ne)e(t);else{Ne=!0;try{Ie(e,t)}finally{Ne=!1,Me()}}}}function rn(e,t,r){"focusin"===e?(en(),zr=r,(qr=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gr(zr)}function on(e,t){if("click"===e)return Gr(t)}function an(e,t){if("input"===e||"change"===e)return Gr(t)}var sn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},cn=Object.prototype.hasOwnProperty;function un(e,t){if(sn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!cn.call(t,r[n])||!sn(e[r[n]],t[r[n]]))return!1;return!0}function ln(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hn(e,t){var r,n=ln(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ln(n)}}function pn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fn(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=X((e=t.contentWindow).document)}return t}function dn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gn=h&&"documentMode"in document&&11>=document.documentMode,mn=null,vn=null,yn=null,bn=!1;function wn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;bn||null==mn||mn!==X(n)||("selectionStart"in(n=mn)&&dn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},yn&&un(yn,n)||(yn=n,0<(n=jn(vn,"onSelect")).length&&(t=new pr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=mn)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(jt,2);for(var Sn="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),_n=0;_n<Sn.length;_n++)It.set(Sn[_n],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),En=new Set("cancel close invalid load scroll toggle".split(" ").concat(kn));function xn(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,o,i,s,c,u){if(Ye.apply(this,arguments),We){if(!We)throw Error(a(198));var l=qe;We=!1,qe=null,ze||(ze=!0,Je=l)}}(n,t,void 0,e),e.currentTarget=null}function An(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],o=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var s=n[a],c=s.instance,u=s.currentTarget;if(s=s.listener,c!==i&&o.isPropagationStopped())break e;xn(o,s,u),i=c}else for(a=0;a<n.length;a++){if(c=(s=n[a]).instance,u=s.currentTarget,s=s.listener,c!==i&&o.isPropagationStopped())break e;xn(o,s,u),i=c}}}if(ze)throw e=Je,ze=!1,Je=null,e}function Cn(e,t){var r=no(t),n=e+"__bubble";r.has(n)||(On(t,e,2,!1),r.add(n))}var Pn="_reactListening"+Math.random().toString(36).slice(2);function Fn(e){e[Pn]||(e[Pn]=!0,s.forEach((function(t){En.has(t)||Tn(t,!1,e,null),Tn(t,!0,e,null)})))}function Tn(e,t,r,n){var o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,i=r;if("selectionchange"===e&&9!==r.nodeType&&(i=r.ownerDocument),null!==n&&!t&&En.has(e)){if("scroll"!==e)return;o|=2,i=n}var a=no(i),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(o|=4),On(i,e,o,t),a.add(s))}function On(e,t,r,n){var o=It.get(t);switch(void 0===o?2:o){case 0:o=$t;break;case 1:o=Qt;break;default:o=Xt}r=o.bind(null,t,r,e),o=void 0,!He||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),n?void 0!==o?e.addEventListener(t,r,{capture:!0,passive:o}):e.addEventListener(t,r,!0):void 0!==o?e.addEventListener(t,r,{passive:o}):e.addEventListener(t,r,!1)}function Rn(e,t,r,n,o){var i=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var a=n.tag;if(3===a||4===a){var s=n.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===a)for(a=n.return;null!==a;){var c=a.tag;if((3===c||4===c)&&((c=a.stateNode.containerInfo)===o||8===c.nodeType&&c.parentNode===o))return;a=a.return}for(;null!==s;){if(null===(a=Zn(s)))return;if(5===(c=a.tag)||6===c){n=i=a;continue e}s=s.parentNode}}n=n.return}!function(e,t,r){if(Le)return e(t,r);Le=!0;try{Ue(e,t,r)}finally{Le=!1,Me()}}((function(){var n=i,o=Ae(r),a=[];e:{var s=Rt.get(e);if(void 0!==s){var c=pr,u=e;switch(e){case"keypress":if(0===or(r))break e;case"keydown":case"keyup":c=Cr;break;case"focusin":u="focus",c=yr;break;case"focusout":u="blur",c=yr;break;case"beforeblur":case"afterblur":c=yr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=mr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=vr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Fr;break;case Pt:case Ft:case Tt:c=br;break;case Ot:c=Tr;break;case"scroll":c=dr;break;case"wheel":c=Or;break;case"copy":case"cut":case"paste":c=wr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=Pr}var l=0!==(4&t),h=!l&&"scroll"===e,p=l?null!==s?s+"Capture":null:s;l=[];for(var f,d=n;null!==d;){var g=(f=d).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==p&&(null!=(g=Be(d,p))&&l.push(In(d,g,f)))),h)break;d=d.return}0<l.length&&(s=new c(s,u,null,r,o),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(u=r.relatedTarget||r.fromElement)||!Zn(u)&&!u[Qn])&&(c||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=n,null!==(u=(u=r.relatedTarget||r.toElement)?Zn(u):null)&&(u!==(h=$e(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(c=null,u=n),c!==u)){if(l=mr,g="onMouseLeave",p="onMouseEnter",d="mouse","pointerout"!==e&&"pointerover"!==e||(l=Pr,g="onPointerLeave",p="onPointerEnter",d="pointer"),h=null==c?s:to(c),f=null==u?s:to(u),(s=new l(g,d+"leave",c,r,o)).target=h,s.relatedTarget=f,g=null,Zn(o)===n&&((l=new l(p,d+"enter",u,r,o)).target=f,l.relatedTarget=h,g=l),h=g,c&&u)e:{for(p=u,d=0,f=l=c;f;f=Dn(f))d++;for(f=0,g=p;g;g=Dn(g))f++;for(;0<d-f;)l=Dn(l),d--;for(;0<f-d;)p=Dn(p),f--;for(;d--;){if(l===p||null!==p&&l===p.alternate)break e;l=Dn(l),p=Dn(p)}l=null}else l=null;null!==c&&Un(a,s,c,l,!1),null!==u&&null!==h&&Un(a,h,u,l,!0)}if("select"===(c=(s=n?to(n):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var m=Yr;else if(Vr(s))if($r)m=an;else{m=nn;var v=rn}else(c=s.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=on);switch(m&&(m=m(e,n))?Wr(a,m,r,o):(v&&v(e,s,n),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&oe(s,"number",s.value)),v=n?to(n):window,e){case"focusin":(Vr(v)||"true"===v.contentEditable)&&(mn=v,vn=n,yn=null);break;case"focusout":yn=vn=mn=null;break;case"mousedown":bn=!0;break;case"contextmenu":case"mouseup":case"dragend":bn=!1,wn(a,r,o);break;case"selectionchange":if(gn)break;case"keydown":case"keyup":wn(a,r,o)}var y;if(Ir)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hr?Mr(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(Ur&&"ko"!==r.locale&&(Hr||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hr&&(y=nr()):(tr="value"in(er=o)?er.value:er.textContent,Hr=!0)),0<(v=jn(n,b)).length&&(b=new Sr(b,e,null,r,o),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Br(r))&&(b.data=y))),(y=Dr?function(e,t){switch(e){case"compositionend":return Br(t);case"keypress":return 32!==t.which?null:(Lr=!0,Nr);case"textInput":return(e=t.data)===Nr&&Lr?null:e;default:return null}}(e,r):function(e,t){if(Hr)return"compositionend"===e||!Ir&&Mr(e,t)?(e=nr(),rr=tr=er=null,Hr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ur&&"ko"!==t.locale?null:t.data;default:return null}}(e,r))&&(0<(n=jn(n,"onBeforeInput")).length&&(o=new Sr("onBeforeInput","beforeinput",null,r,o),a.push({event:o,listeners:n}),o.data=y))}An(a,t)}))}function In(e,t,r){return{instance:e,listener:t,currentTarget:r}}function jn(e,t){for(var r=t+"Capture",n=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Be(e,r))&&n.unshift(In(e,i,o)),null!=(i=Be(e,t))&&n.push(In(e,i,o))),e=e.return}return n}function Dn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Un(e,t,r,n,o){for(var i=t._reactName,a=[];null!==r&&r!==n;){var s=r,c=s.alternate,u=s.stateNode;if(null!==c&&c===n)break;5===s.tag&&null!==u&&(s=u,o?null!=(c=Be(r,i))&&a.unshift(In(r,c,s)):o||null!=(c=Be(r,i))&&a.push(In(r,c,s))),r=r.return}0!==a.length&&e.push({event:t,listeners:a})}function Nn(){}var Ln=null,Mn=null;function Bn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Hn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Kn="function"===typeof setTimeout?setTimeout:void 0,Vn="function"===typeof clearTimeout?clearTimeout:void 0;function Wn(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function qn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function zn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var Jn=0;var Gn=Math.random().toString(36).slice(2),Yn="__reactFiber$"+Gn,$n="__reactProps$"+Gn,Qn="__reactContainer$"+Gn,Xn="__reactEvents$"+Gn;function Zn(e){var t=e[Yn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Qn]||r[Yn]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=zn(e);null!==e;){if(r=e[Yn])return r;e=zn(e)}return t}r=(e=r).parentNode}return null}function eo(e){return!(e=e[Yn]||e[Qn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function to(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ro(e){return e[$n]||null}function no(e){var t=e[Xn];return void 0===t&&(t=e[Xn]=new Set),t}var oo=[],io=-1;function ao(e){return{current:e}}function so(e){0>io||(e.current=oo[io],oo[io]=null,io--)}function co(e,t){io++,oo[io]=e.current,e.current=t}var uo={},lo=ao(uo),ho=ao(!1),po=uo;function fo(e,t){var r=e.type.contextTypes;if(!r)return uo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in r)i[o]=t[o];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function go(e){return null!==(e=e.childContextTypes)&&void 0!==e}function mo(){so(ho),so(lo)}function vo(e,t,r){if(lo.current!==uo)throw Error(a(168));co(lo,t),co(ho,r)}function yo(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var i in n=n.getChildContext())if(!(i in e))throw Error(a(108,J(t)||"Unknown",i));return o({},r,n)}function bo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||uo,po=lo.current,co(lo,e),co(ho,ho.current),!0}function wo(e,t,r){var n=e.stateNode;if(!n)throw Error(a(169));r?(e=yo(e,t,po),n.__reactInternalMemoizedMergedChildContext=e,so(ho),so(lo),co(lo,e)):so(ho),co(ho,r)}var So=null,_o=null,ko=i.unstable_runWithPriority,Eo=i.unstable_scheduleCallback,xo=i.unstable_cancelCallback,Ao=i.unstable_shouldYield,Co=i.unstable_requestPaint,Po=i.unstable_now,Fo=i.unstable_getCurrentPriorityLevel,To=i.unstable_ImmediatePriority,Oo=i.unstable_UserBlockingPriority,Ro=i.unstable_NormalPriority,Io=i.unstable_LowPriority,jo=i.unstable_IdlePriority,Do={},Uo=void 0!==Co?Co:function(){},No=null,Lo=null,Mo=!1,Bo=Po(),Ho=1e4>Bo?Po:function(){return Po()-Bo};function Ko(){switch(Fo()){case To:return 99;case Oo:return 98;case Ro:return 97;case Io:return 96;case jo:return 95;default:throw Error(a(332))}}function Vo(e){switch(e){case 99:return To;case 98:return Oo;case 97:return Ro;case 96:return Io;case 95:return jo;default:throw Error(a(332))}}function Wo(e,t){return e=Vo(e),ko(e,t)}function qo(e,t,r){return e=Vo(e),Eo(e,t,r)}function zo(){if(null!==Lo){var e=Lo;Lo=null,xo(e)}Jo()}function Jo(){if(!Mo&&null!==No){Mo=!0;var e=0;try{var t=No;Wo(99,(function(){for(;e<t.length;e++){var r=t[e];do{r=r(!0)}while(null!==r)}})),No=null}catch(r){throw null!==No&&(No=No.slice(e+1)),Eo(To,zo),r}finally{Mo=!1}}}var Go=S.ReactCurrentBatchConfig;function Yo(e,t){if(e&&e.defaultProps){for(var r in t=o({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}var $o=ao(null),Qo=null,Xo=null,Zo=null;function ei(){Zo=Xo=Qo=null}function ti(e){var t=$o.current;so($o),e.type._context._currentValue=t}function ri(e,t){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)===t){if(null===r||(r.childLanes&t)===t)break;r.childLanes|=t}else e.childLanes|=t,null!==r&&(r.childLanes|=t);e=e.return}}function ni(e,t){Qo=e,Zo=Xo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ja=!0),e.firstContext=null)}function oi(e,t){if(Zo!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Zo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Xo){if(null===Qo)throw Error(a(308));Xo=t,Qo.dependencies={lanes:0,firstContext:t,responders:null}}else Xo=Xo.next=t;return e._currentValue}var ii=!1;function ai(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function si(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ci(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ui(e,t){if(null!==(e=e.updateQueue)){var r=(e=e.shared).pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function li(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var o=null,i=null;if(null!==(r=r.firstBaseUpdate)){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===i?o=i=a:i=i.next=a,r=r.next}while(null!==r);null===i?o=i=t:i=i.next=t}else o=i=t;return r={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function hi(e,t,r,n){var i=e.updateQueue;ii=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,c=i.shared.pending;if(null!==c){i.shared.pending=null;var u=c,l=u.next;u.next=null,null===s?a=l:s.next=l,s=u;var h=e.alternate;if(null!==h){var p=(h=h.updateQueue).lastBaseUpdate;p!==s&&(null===p?h.firstBaseUpdate=l:p.next=l,h.lastBaseUpdate=u)}}if(null!==a){for(p=i.baseState,s=0,h=l=u=null;;){c=a.lane;var f=a.eventTime;if((n&c)===c){null!==h&&(h=h.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var d=e,g=a;switch(c=t,f=r,g.tag){case 1:if("function"===typeof(d=g.payload)){p=d.call(f,p,c);break e}p=d;break e;case 3:d.flags=-4097&d.flags|64;case 0:if(null===(c="function"===typeof(d=g.payload)?d.call(f,p,c):d)||void 0===c)break e;p=o({},p,c);break e;case 2:ii=!0}}null!==a.callback&&(e.flags|=32,null===(c=i.effects)?i.effects=[a]:c.push(a))}else f={eventTime:f,lane:c,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===h?(l=h=f,u=p):h=h.next=f,s|=c;if(null===(a=a.next)){if(null===(c=i.shared.pending))break;a=c.next,c.next=null,i.lastBaseUpdate=c,i.shared.pending=null}}null===h&&(u=p),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=h,Ls|=s,e.lanes=s,e.memoizedState=p}}function pi(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],o=n.callback;if(null!==o){if(n.callback=null,n=r,"function"!==typeof o)throw Error(a(191,o));o.call(n)}}}var fi=(new n.Component).refs;function di(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:o({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var gi={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=uc(),o=lc(e),i=ci(n,o);i.payload=t,void 0!==r&&null!==r&&(i.callback=r),ui(e,i),hc(e,o,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=uc(),o=lc(e),i=ci(n,o);i.tag=1,i.payload=t,void 0!==r&&null!==r&&(i.callback=r),ui(e,i),hc(e,o,n)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=uc(),n=lc(e),o=ci(r,n);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),ui(e,o),hc(e,n,r)}};function mi(e,t,r,n,o,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!un(r,n)||!un(o,i))}function vi(e,t,r){var n=!1,o=uo,i=t.contextType;return"object"===typeof i&&null!==i?i=oi(i):(o=go(t)?po:lo.current,i=(n=null!==(n=t.contextTypes)&&void 0!==n)?fo(e,o):uo),t=new t(r,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=gi,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function yi(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&gi.enqueueReplaceState(t,t.state,null)}function bi(e,t,r,n){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs=fi,ai(e);var i=t.contextType;"object"===typeof i&&null!==i?o.context=oi(i):(i=go(t)?po:lo.current,o.context=fo(e,i)),hi(e,r,o,n),o.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(di(e,t,i,r),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&gi.enqueueReplaceState(o,o.state,null),hi(e,r,o,n),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4)}var wi=Array.isArray;function Si(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(a(309));var n=r.stateNode}if(!n)throw Error(a(147,e));var o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=n.refs;t===fi&&(t=n.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!r._owner)throw Error(a(290,e))}return e}function _i(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function ki(e){function t(t,r){if(e){var n=t.lastEffect;null!==n?(n.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r,r.nextEffect=null,r.flags=8}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Vc(e,t)).index=0,e.sibling=null,e}function i(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags=2,r):n:(t.flags=2,r):r}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function c(e,t,r,n){return null===t||6!==t.tag?((t=Jc(r,e.mode,n)).return=e,t):((t=o(t,r)).return=e,t)}function u(e,t,r,n){return null!==t&&t.elementType===r.type?((n=o(t,r.props)).ref=Si(e,t,r),n.return=e,n):((n=Wc(r.type,r.key,r.props,null,e.mode,n)).ref=Si(e,t,r),n.return=e,n)}function l(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Gc(r,e.mode,n)).return=e,t):((t=o(t,r.children||[])).return=e,t)}function h(e,t,r,n,i){return null===t||7!==t.tag?((t=qc(r,e.mode,n,i)).return=e,t):((t=o(t,r)).return=e,t)}function p(e,t,r){if("string"===typeof t||"number"===typeof t)return(t=Jc(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(r=Wc(t.type,t.key,t.props,null,e.mode,r)).ref=Si(e,null,t),r.return=e,r;case k:return(t=Gc(t,e.mode,r)).return=e,t}if(wi(t)||K(t))return(t=qc(t,e.mode,r,null)).return=e,t;_i(e,t)}return null}function f(e,t,r,n){var o=null!==t?t.key:null;if("string"===typeof r||"number"===typeof r)return null!==o?null:c(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return r.key===o?r.type===E?h(e,t,r.props.children,n,o):u(e,t,r,n):null;case k:return r.key===o?l(e,t,r,n):null}if(wi(r)||K(r))return null!==o?null:h(e,t,r,n,null);_i(e,r)}return null}function d(e,t,r,n,o){if("string"===typeof n||"number"===typeof n)return c(t,e=e.get(r)||null,""+n,o);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return e=e.get(null===n.key?r:n.key)||null,n.type===E?h(t,e,n.props.children,o,n.key):u(t,e,n,o);case k:return l(t,e=e.get(null===n.key?r:n.key)||null,n,o)}if(wi(n)||K(n))return h(t,e=e.get(r)||null,n,o,null);_i(t,n)}return null}function g(o,a,s,c){for(var u=null,l=null,h=a,g=a=0,m=null;null!==h&&g<s.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var v=f(o,h,s[g],c);if(null===v){null===h&&(h=m);break}e&&h&&null===v.alternate&&t(o,h),a=i(v,a,g),null===l?u=v:l.sibling=v,l=v,h=m}if(g===s.length)return r(o,h),u;if(null===h){for(;g<s.length;g++)null!==(h=p(o,s[g],c))&&(a=i(h,a,g),null===l?u=h:l.sibling=h,l=h);return u}for(h=n(o,h);g<s.length;g++)null!==(m=d(h,o,g,s[g],c))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),a=i(m,a,g),null===l?u=m:l.sibling=m,l=m);return e&&h.forEach((function(e){return t(o,e)})),u}function m(o,s,c,u){var l=K(c);if("function"!==typeof l)throw Error(a(150));if(null==(c=l.call(c)))throw Error(a(151));for(var h=l=null,g=s,m=s=0,v=null,y=c.next();null!==g&&!y.done;m++,y=c.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=f(o,g,y.value,u);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(o,g),s=i(b,s,m),null===h?l=b:h.sibling=b,h=b,g=v}if(y.done)return r(o,g),l;if(null===g){for(;!y.done;m++,y=c.next())null!==(y=p(o,y.value,u))&&(s=i(y,s,m),null===h?l=y:h.sibling=y,h=y);return l}for(g=n(o,g);!y.done;m++,y=c.next())null!==(y=d(g,o,m,y.value,u))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),s=i(y,s,m),null===h?l=y:h.sibling=y,h=y);return e&&g.forEach((function(e){return t(o,e)})),l}return function(e,n,i,c){var u="object"===typeof i&&null!==i&&i.type===E&&null===i.key;u&&(i=i.props.children);var l="object"===typeof i&&null!==i;if(l)switch(i.$$typeof){case _:e:{for(l=i.key,u=n;null!==u;){if(u.key===l){switch(u.tag){case 7:if(i.type===E){r(e,u.sibling),(n=o(u,i.props.children)).return=e,e=n;break e}break;default:if(u.elementType===i.type){r(e,u.sibling),(n=o(u,i.props)).ref=Si(e,u,i),n.return=e,e=n;break e}}r(e,u);break}t(e,u),u=u.sibling}i.type===E?((n=qc(i.props.children,e.mode,c,i.key)).return=e,e=n):((c=Wc(i.type,i.key,i.props,null,e.mode,c)).ref=Si(e,n,i),c.return=e,e=c)}return s(e);case k:e:{for(u=i.key;null!==n;){if(n.key===u){if(4===n.tag&&n.stateNode.containerInfo===i.containerInfo&&n.stateNode.implementation===i.implementation){r(e,n.sibling),(n=o(n,i.children||[])).return=e,e=n;break e}r(e,n);break}t(e,n),n=n.sibling}(n=Gc(i,e.mode,c)).return=e,e=n}return s(e)}if("string"===typeof i||"number"===typeof i)return i=""+i,null!==n&&6===n.tag?(r(e,n.sibling),(n=o(n,i)).return=e,e=n):(r(e,n),(n=Jc(i,e.mode,c)).return=e,e=n),s(e);if(wi(i))return g(e,n,i,c);if(K(i))return m(e,n,i,c);if(l&&_i(e,i),"undefined"===typeof i&&!u)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,J(e.type)||"Component"))}return r(e,n)}}var Ei=ki(!0),xi=ki(!1),Ai={},Ci=ao(Ai),Pi=ao(Ai),Fi=ao(Ai);function Ti(e){if(e===Ai)throw Error(a(174));return e}function Oi(e,t){switch(co(Fi,t),co(Pi,e),co(Ci,Ai),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:de(null,"");break;default:t=de(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}so(Ci),co(Ci,t)}function Ri(){so(Ci),so(Pi),so(Fi)}function Ii(e){Ti(Fi.current);var t=Ti(Ci.current),r=de(t,e.type);t!==r&&(co(Pi,e),co(Ci,r))}function ji(e){Pi.current===e&&(so(Ci),so(Pi))}var Di=ao(0);function Ui(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ni=null,Li=null,Mi=!1;function Bi(e,t){var r=Hc(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function Hi(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Ki(e){if(Mi){var t=Li;if(t){var r=t;if(!Hi(e,t)){if(!(t=qn(r.nextSibling))||!Hi(e,t))return e.flags=-1025&e.flags|2,Mi=!1,void(Ni=e);Bi(Ni,r)}Ni=e,Li=qn(t.firstChild)}else e.flags=-1025&e.flags|2,Mi=!1,Ni=e}}function Vi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ni=e}function Wi(e){if(e!==Ni)return!1;if(!Mi)return Vi(e),Mi=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Hn(t,e.memoizedProps))for(t=Li;t;)Bi(e,t),t=qn(t.nextSibling);if(Vi(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){Li=qn(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}Li=null}}else Li=Ni?qn(e.stateNode.nextSibling):null;return!0}function qi(){Li=Ni=null,Mi=!1}var zi=[];function Ji(){for(var e=0;e<zi.length;e++)zi[e]._workInProgressVersionPrimary=null;zi.length=0}var Gi=S.ReactCurrentDispatcher,Yi=S.ReactCurrentBatchConfig,$i=0,Qi=null,Xi=null,Zi=null,ea=!1,ta=!1;function ra(){throw Error(a(321))}function na(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!sn(e[r],t[r]))return!1;return!0}function oa(e,t,r,n,o,i){if($i=i,Qi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Gi.current=null===e||null===e.memoizedState?Ta:Oa,e=r(n,o),ta){i=0;do{if(ta=!1,!(25>i))throw Error(a(301));i+=1,Zi=Xi=null,t.updateQueue=null,Gi.current=Ra,e=r(n,o)}while(ta)}if(Gi.current=Fa,t=null!==Xi&&null!==Xi.next,$i=0,Zi=Xi=Qi=null,ea=!1,t)throw Error(a(300));return e}function ia(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Zi?Qi.memoizedState=Zi=e:Zi=Zi.next=e,Zi}function aa(){if(null===Xi){var e=Qi.alternate;e=null!==e?e.memoizedState:null}else e=Xi.next;var t=null===Zi?Qi.memoizedState:Zi.next;if(null!==t)Zi=t,Xi=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Xi=e).memoizedState,baseState:Xi.baseState,baseQueue:Xi.baseQueue,queue:Xi.queue,next:null},null===Zi?Qi.memoizedState=Zi=e:Zi=Zi.next=e}return Zi}function sa(e,t){return"function"===typeof t?t(e):t}function ca(e){var t=aa(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=Xi,o=n.baseQueue,i=r.pending;if(null!==i){if(null!==o){var s=o.next;o.next=i.next,i.next=s}n.baseQueue=o=i,r.pending=null}if(null!==o){o=o.next,n=n.baseState;var c=s=i=null,u=o;do{var l=u.lane;if(($i&l)===l)null!==c&&(c=c.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),n=u.eagerReducer===e?u.eagerState:e(n,u.action);else{var h={lane:l,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===c?(s=c=h,i=n):c=c.next=h,Qi.lanes|=l,Ls|=l}u=u.next}while(null!==u&&u!==o);null===c?i=n:c.next=s,sn(n,t.memoizedState)||(ja=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function ua(e){var t=aa(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=r.dispatch,o=r.pending,i=t.memoizedState;if(null!==o){r.pending=null;var s=o=o.next;do{i=e(i,s.action),s=s.next}while(s!==o);sn(i,t.memoizedState)||(ja=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function la(e,t,r){var n=t._getVersion;n=n(t._source);var o=t._workInProgressVersionPrimary;if(null!==o?e=o===n:(e=e.mutableReadLanes,(e=($i&e)===e)&&(t._workInProgressVersionPrimary=n,zi.push(t))),e)return r(t._source);throw zi.push(t),Error(a(350))}function ha(e,t,r,n){var o=Ts;if(null===o)throw Error(a(349));var i=t._getVersion,s=i(t._source),c=Gi.current,u=c.useState((function(){return la(o,t,r)})),l=u[1],h=u[0];u=Zi;var p=e.memoizedState,f=p.refs,d=f.getSnapshot,g=p.source;p=p.subscribe;var m=Qi;return e.memoizedState={refs:f,source:t,subscribe:n},c.useEffect((function(){f.getSnapshot=r,f.setSnapshot=l;var e=i(t._source);if(!sn(s,e)){e=r(t._source),sn(h,e)||(l(e),e=lc(m),o.mutableReadLanes|=e&o.pendingLanes),e=o.mutableReadLanes,o.entangledLanes|=e;for(var n=o.entanglements,a=e;0<a;){var c=31-Wt(a),u=1<<c;n[c]|=e,a&=~u}}}),[r,t,n]),c.useEffect((function(){return n(t._source,(function(){var e=f.getSnapshot,r=f.setSnapshot;try{r(e(t._source));var n=lc(m);o.mutableReadLanes|=n&o.pendingLanes}catch(i){r((function(){throw i}))}}))}),[t,n]),sn(d,r)&&sn(g,t)&&sn(p,n)||((e={pending:null,dispatch:null,lastRenderedReducer:sa,lastRenderedState:h}).dispatch=l=Pa.bind(null,Qi,e),u.queue=e,u.baseQueue=null,h=la(o,t,r),u.memoizedState=u.baseState=h),h}function pa(e,t,r){return ha(aa(),e,t,r)}function fa(e){var t=ia();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:sa,lastRenderedState:e}).dispatch=Pa.bind(null,Qi,e),[t.memoizedState,e]}function da(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=Qi.updateQueue)?(t={lastEffect:null},Qi.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function ga(e){return e={current:e},ia().memoizedState=e}function ma(){return aa().memoizedState}function va(e,t,r,n){var o=ia();Qi.flags|=e,o.memoizedState=da(1|t,r,void 0,void 0===n?null:n)}function ya(e,t,r,n){var o=aa();n=void 0===n?null:n;var i=void 0;if(null!==Xi){var a=Xi.memoizedState;if(i=a.destroy,null!==n&&na(n,a.deps))return void da(t,r,i,n)}Qi.flags|=e,o.memoizedState=da(1|t,r,i,n)}function ba(e,t){return va(516,4,e,t)}function wa(e,t){return ya(516,4,e,t)}function Sa(e,t){return ya(4,2,e,t)}function _a(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ka(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,ya(4,2,_a.bind(null,t,e),r)}function Ea(){}function xa(e,t){var r=aa();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&na(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Aa(e,t){var r=aa();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&na(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Ca(e,t){var r=Ko();Wo(98>r?98:r,(function(){e(!0)})),Wo(97<r?97:r,(function(){var r=Yi.transition;Yi.transition=1;try{e(!1),t()}finally{Yi.transition=r}}))}function Pa(e,t,r){var n=uc(),o=lc(e),i={lane:o,action:r,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?i.next=i:(i.next=a.next,a.next=i),t.pending=i,a=e.alternate,e===Qi||null!==a&&a===Qi)ta=ea=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,c=a(s,r);if(i.eagerReducer=a,i.eagerState=c,sn(c,s))return}catch(u){}hc(e,o,n)}}var Fa={readContext:oi,useCallback:ra,useContext:ra,useEffect:ra,useImperativeHandle:ra,useLayoutEffect:ra,useMemo:ra,useReducer:ra,useRef:ra,useState:ra,useDebugValue:ra,useDeferredValue:ra,useTransition:ra,useMutableSource:ra,useOpaqueIdentifier:ra,unstable_isNewReconciler:!1},Ta={readContext:oi,useCallback:function(e,t){return ia().memoizedState=[e,void 0===t?null:t],e},useContext:oi,useEffect:ba,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,va(4,2,_a.bind(null,t,e),r)},useLayoutEffect:function(e,t){return va(4,2,e,t)},useMemo:function(e,t){var r=ia();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ia();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e=(e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Pa.bind(null,Qi,e),[n.memoizedState,e]},useRef:ga,useState:fa,useDebugValue:Ea,useDeferredValue:function(e){var t=fa(e),r=t[0],n=t[1];return ba((function(){var t=Yi.transition;Yi.transition=1;try{n(e)}finally{Yi.transition=t}}),[e]),r},useTransition:function(){var e=fa(!1),t=e[0];return ga(e=Ca.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,r){var n=ia();return n.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:r},ha(n,e,t,r)},useOpaqueIdentifier:function(){if(Mi){var e=!1,t=function(e){return{$$typeof:D,toString:e,valueOf:e}}((function(){throw e||(e=!0,r("r:"+(Jn++).toString(36))),Error(a(355))})),r=fa(t)[1];return 0===(2&Qi.mode)&&(Qi.flags|=516,da(5,(function(){r("r:"+(Jn++).toString(36))}),void 0,null)),t}return fa(t="r:"+(Jn++).toString(36)),t},unstable_isNewReconciler:!1},Oa={readContext:oi,useCallback:xa,useContext:oi,useEffect:wa,useImperativeHandle:ka,useLayoutEffect:Sa,useMemo:Aa,useReducer:ca,useRef:ma,useState:function(){return ca(sa)},useDebugValue:Ea,useDeferredValue:function(e){var t=ca(sa),r=t[0],n=t[1];return wa((function(){var t=Yi.transition;Yi.transition=1;try{n(e)}finally{Yi.transition=t}}),[e]),r},useTransition:function(){var e=ca(sa)[0];return[ma().current,e]},useMutableSource:pa,useOpaqueIdentifier:function(){return ca(sa)[0]},unstable_isNewReconciler:!1},Ra={readContext:oi,useCallback:xa,useContext:oi,useEffect:wa,useImperativeHandle:ka,useLayoutEffect:Sa,useMemo:Aa,useReducer:ua,useRef:ma,useState:function(){return ua(sa)},useDebugValue:Ea,useDeferredValue:function(e){var t=ua(sa),r=t[0],n=t[1];return wa((function(){var t=Yi.transition;Yi.transition=1;try{n(e)}finally{Yi.transition=t}}),[e]),r},useTransition:function(){var e=ua(sa)[0];return[ma().current,e]},useMutableSource:pa,useOpaqueIdentifier:function(){return ua(sa)[0]},unstable_isNewReconciler:!1},Ia=S.ReactCurrentOwner,ja=!1;function Da(e,t,r,n){t.child=null===e?xi(t,null,r,n):Ei(t,e.child,r,n)}function Ua(e,t,r,n,o){r=r.render;var i=t.ref;return ni(t,o),n=oa(e,t,r,n,i,o),null===e||ja?(t.flags|=1,Da(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,rs(e,t,o))}function Na(e,t,r,n,o,i){if(null===e){var a=r.type;return"function"!==typeof a||Kc(a)||void 0!==a.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Wc(r.type,null,n,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,La(e,t,a,n,o,i))}return a=e.child,0===(o&i)&&(o=a.memoizedProps,(r=null!==(r=r.compare)?r:un)(o,n)&&e.ref===t.ref)?rs(e,t,i):(t.flags|=1,(e=Vc(a,n)).ref=t.ref,e.return=t,t.child=e)}function La(e,t,r,n,o,i){if(null!==e&&un(e.memoizedProps,n)&&e.ref===t.ref){if(ja=!1,0===(i&o))return t.lanes=e.lanes,rs(e,t,i);0!==(16384&e.flags)&&(ja=!0)}return Ha(e,t,r,n,i)}function Ma(e,t,r){var n=t.pendingProps,o=n.children,i=null!==e?e.memoizedState:null;if("hidden"===n.mode||"unstable-defer-without-hiding"===n.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},bc(t,r);else{if(0===(1073741824&r))return e=null!==i?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},bc(t,e),null;t.memoizedState={baseLanes:0},bc(t,null!==i?i.baseLanes:r)}else null!==i?(n=i.baseLanes|r,t.memoizedState=null):n=r,bc(t,n);return Da(e,t,o,r),t.child}function Ba(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=128)}function Ha(e,t,r,n,o){var i=go(r)?po:lo.current;return i=fo(t,i),ni(t,o),r=oa(e,t,r,n,i,o),null===e||ja?(t.flags|=1,Da(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,rs(e,t,o))}function Ka(e,t,r,n,o){if(go(r)){var i=!0;bo(t)}else i=!1;if(ni(t,o),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),vi(t,r,n),bi(t,r,n,o),n=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var c=a.context,u=r.contextType;"object"===typeof u&&null!==u?u=oi(u):u=fo(t,u=go(r)?po:lo.current);var l=r.getDerivedStateFromProps,h="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==n||c!==u)&&yi(t,a,n,u),ii=!1;var p=t.memoizedState;a.state=p,hi(t,n,a,o),c=t.memoizedState,s!==n||p!==c||ho.current||ii?("function"===typeof l&&(di(t,r,l,n),c=t.memoizedState),(s=ii||mi(t,r,s,n,p,c,u))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=s):("function"===typeof a.componentDidMount&&(t.flags|=4),n=!1)}else{a=t.stateNode,si(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Yo(t.type,s),a.props=u,h=t.pendingProps,p=a.context,"object"===typeof(c=r.contextType)&&null!==c?c=oi(c):c=fo(t,c=go(r)?po:lo.current);var f=r.getDerivedStateFromProps;(l="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||p!==c)&&yi(t,a,n,c),ii=!1,p=t.memoizedState,a.state=p,hi(t,n,a,o);var d=t.memoizedState;s!==h||p!==d||ho.current||ii?("function"===typeof f&&(di(t,r,f,n),d=t.memoizedState),(u=ii||mi(t,r,u,n,p,d,c))?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(n,d,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,d,c)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),t.memoizedProps=n,t.memoizedState=d),a.props=n,a.state=d,a.context=c,n=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),n=!1)}return Va(e,t,r,n,i,o)}function Va(e,t,r,n,o,i){Ba(e,t);var a=0!==(64&t.flags);if(!n&&!a)return o&&wo(t,r,!1),rs(e,t,i);n=t.stateNode,Ia.current=t;var s=a&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&a?(t.child=Ei(t,e.child,null,i),t.child=Ei(t,null,s,i)):Da(e,t,s,i),t.memoizedState=n.state,o&&wo(t,r,!0),t.child}function Wa(e){var t=e.stateNode;t.pendingContext?vo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vo(0,t.context,!1),Oi(e,t.containerInfo)}var qa,za,Ja,Ga={dehydrated:null,retryLane:0};function Ya(e,t,r){var n,o=t.pendingProps,i=Di.current,a=!1;return(n=0!==(64&t.flags))||(n=(null===e||null!==e.memoizedState)&&0!==(2&i)),n?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(i|=1),co(Di,1&i),null===e?(void 0!==o.fallback&&Ki(t),e=o.children,i=o.fallback,a?(e=$a(t,e,i,r),t.child.memoizedState={baseLanes:r},t.memoizedState=Ga,e):"number"===typeof o.unstable_expectedLoadTime?(e=$a(t,e,i,r),t.child.memoizedState={baseLanes:r},t.memoizedState=Ga,t.lanes=33554432,e):((r=zc({mode:"visible",children:e},t.mode,r,null)).return=t,t.child=r)):(e.memoizedState,a?(o=Xa(e,t,o.children,o.fallback,r),a=t.child,i=e.child.memoizedState,a.memoizedState=null===i?{baseLanes:r}:{baseLanes:i.baseLanes|r},a.childLanes=e.childLanes&~r,t.memoizedState=Ga,o):(r=Qa(e,t,o.children,r),t.memoizedState=null,r))}function $a(e,t,r,n){var o=e.mode,i=e.child;return t={mode:"hidden",children:t},0===(2&o)&&null!==i?(i.childLanes=0,i.pendingProps=t):i=zc(t,o,0,null),r=qc(r,o,n,null),i.return=e,r.return=e,i.sibling=r,e.child=i,r}function Qa(e,t,r,n){var o=e.child;return e=o.sibling,r=Vc(o,{mode:"visible",children:r}),0===(2&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=r}function Xa(e,t,r,n,o){var i=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:r};return 0===(2&i)&&t.child!==a?((r=t.child).childLanes=0,r.pendingProps=s,null!==(a=r.lastEffect)?(t.firstEffect=r.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):r=Vc(a,s),null!==e?n=Vc(e,n):(n=qc(n,i,o,null)).flags|=2,n.return=t,r.return=t,r.sibling=n,t.child=r,n}function Za(e,t){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ri(e.return,t)}function es(e,t,r,n,o,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:o,lastEffect:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=o,a.lastEffect=i)}function ts(e,t,r){var n=t.pendingProps,o=n.revealOrder,i=n.tail;if(Da(e,t,n.children,r),0!==(2&(n=Di.current)))n=1&n|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Za(e,r);else if(19===e.tag)Za(e,r);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(co(Di,n),0===(2&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(r=t.child,o=null;null!==r;)null!==(e=r.alternate)&&null===Ui(e)&&(o=r),r=r.sibling;null===(r=o)?(o=t.child,t.child=null):(o=r.sibling,r.sibling=null),es(t,!1,o,r,i,t.lastEffect);break;case"backwards":for(r=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===Ui(e)){t.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}es(t,!0,r,null,i,t.lastEffect);break;case"together":es(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function rs(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Ls|=t.lanes,0!==(r&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(r=Vc(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Vc(e,e.pendingProps)).return=t;r.sibling=null}return t.child}return null}function ns(e,t){if(!Mi)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function os(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return go(t.type)&&mo(),null;case 3:return Ri(),so(ho),so(lo),Ji(),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(Wi(t)?t.flags|=4:n.hydrate||(t.flags|=256)),null;case 5:ji(t);var i=Ti(Fi.current);if(r=t.type,null!==e&&null!=t.stateNode)za(e,t,r,n),e.ref!==t.ref&&(t.flags|=128);else{if(!n){if(null===t.stateNode)throw Error(a(166));return null}if(e=Ti(Ci.current),Wi(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Yn]=t,n[$n]=s,r){case"dialog":Cn("cancel",n),Cn("close",n);break;case"iframe":case"object":case"embed":Cn("load",n);break;case"video":case"audio":for(e=0;e<kn.length;e++)Cn(kn[e],n);break;case"source":Cn("error",n);break;case"img":case"image":case"link":Cn("error",n),Cn("load",n);break;case"details":Cn("toggle",n);break;case"input":ee(n,s),Cn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Cn("invalid",n);break;case"textarea":ce(n,s),Cn("invalid",n)}for(var u in Ee(r,s),e=null,s)s.hasOwnProperty(u)&&(i=s[u],"children"===u?"string"===typeof i?n.textContent!==i&&(e=["children",i]):"number"===typeof i&&n.textContent!==""+i&&(e=["children",""+i]):c.hasOwnProperty(u)&&null!=i&&"onScroll"===u&&Cn("scroll",n));switch(r){case"input":$(n),ne(n,s,!0);break;case"textarea":$(n),le(n);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(n.onclick=Nn)}n=e,t.updateQueue=n,null!==n&&(t.flags|=4)}else{switch(u=9===i.nodeType?i:i.ownerDocument,e===he&&(e=fe(r)),e===he?"script"===r?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=u.createElement(r,{is:n.is}):(e=u.createElement(r),"select"===r&&(u=e,n.multiple?u.multiple=!0:n.size&&(u.size=n.size))):e=u.createElementNS(e,r),e[Yn]=t,e[$n]=n,qa(e,t),t.stateNode=e,u=xe(r,n),r){case"dialog":Cn("cancel",e),Cn("close",e),i=n;break;case"iframe":case"object":case"embed":Cn("load",e),i=n;break;case"video":case"audio":for(i=0;i<kn.length;i++)Cn(kn[i],e);i=n;break;case"source":Cn("error",e),i=n;break;case"img":case"image":case"link":Cn("error",e),Cn("load",e),i=n;break;case"details":Cn("toggle",e),i=n;break;case"input":ee(e,n),i=Z(e,n),Cn("invalid",e);break;case"option":i=ie(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=o({},n,{value:void 0}),Cn("invalid",e);break;case"textarea":ce(e,n),i=se(e,n),Cn("invalid",e);break;default:i=n}Ee(r,i);var l=i;for(s in l)if(l.hasOwnProperty(s)){var h=l[s];"style"===s?_e(e,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&ve(e,h):"children"===s?"string"===typeof h?("textarea"!==r||""!==h)&&ye(e,h):"number"===typeof h&&ye(e,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(c.hasOwnProperty(s)?null!=h&&"onScroll"===s&&Cn("scroll",e):null!=h&&w(e,s,h,u))}switch(r){case"input":$(e),ne(e,n,!1);break;case"textarea":$(e),le(e);break;case"option":null!=n.value&&e.setAttribute("value",""+G(n.value));break;case"select":e.multiple=!!n.multiple,null!=(s=n.value)?ae(e,!!n.multiple,s,!1):null!=n.defaultValue&&ae(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Nn)}Bn(r,n)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ja(0,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(a(166));r=Ti(Fi.current),Ti(Ci.current),Wi(t)?(n=t.stateNode,r=t.memoizedProps,n[Yn]=t,n.nodeValue!==r&&(t.flags|=4)):((n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[Yn]=t,t.stateNode=n)}return null;case 13:return so(Di),n=t.memoizedState,0!==(64&t.flags)?(t.lanes=r,t):(n=null!==n,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Wi(t):r=null!==e.memoizedState,n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Di.current)?0===Ds&&(Ds=3):(0!==Ds&&3!==Ds||(Ds=4),null===Ts||0===(134217727&Ls)&&0===(134217727&Ms)||gc(Ts,Rs))),(n||r)&&(t.flags|=4),null);case 4:return Ri(),null===e&&Fn(t.stateNode.containerInfo),null;case 10:return ti(t),null;case 17:return go(t.type)&&mo(),null;case 19:if(so(Di),null===(n=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(u=n.rendering))if(s)ns(n,!1);else{if(0!==Ds||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(u=Ui(e))){for(t.flags|=64,ns(n,!1),null!==(s=u.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===n.lastEffect&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=r,r=t.child;null!==r;)e=n,(s=r).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(u=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,e=u.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return co(Di,1&Di.current|2),t.child}e=e.sibling}null!==n.tail&&Ho()>Vs&&(t.flags|=64,s=!0,ns(n,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Ui(u))){if(t.flags|=64,s=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),ns(n,!0),null===n.tail&&"hidden"===n.tailMode&&!u.alternate&&!Mi)return null!==(t=t.lastEffect=n.lastEffect)&&(t.nextEffect=null),null}else 2*Ho()-n.renderingStartTime>Vs&&1073741824!==r&&(t.flags|=64,s=!0,ns(n,!1),t.lanes=33554432);n.isBackwards?(u.sibling=t.child,t.child=u):(null!==(r=n.last)?r.sibling=u:t.child=u,n.last=u)}return null!==n.tail?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=Ho(),r.sibling=null,t=Di.current,co(Di,s?1&t|2:1&t),r):null;case 23:case 24:return wc(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==n.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function is(e){switch(e.tag){case 1:go(e.type)&&mo();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ri(),so(ho),so(lo),Ji(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return ji(e),null;case 13:return so(Di),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return so(Di),null;case 4:return Ri(),null;case 10:return ti(e),null;case 23:case 24:return wc(),null;default:return null}}function as(e,t){try{var r="",n=t;do{r+=z(n),n=n.return}while(n);var o=r}catch(i){o="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:o}}function ss(e,t){try{console.error(t.value)}catch(r){setTimeout((function(){throw r}))}}qa=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},za=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Ti(Ci.current);var a,s=null;switch(r){case"input":i=Z(e,i),n=Z(e,n),s=[];break;case"option":i=ie(e,i),n=ie(e,n),s=[];break;case"select":i=o({},i,{value:void 0}),n=o({},n,{value:void 0}),s=[];break;case"textarea":i=se(e,i),n=se(e,n),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof n.onClick&&(e.onclick=Nn)}for(h in Ee(r,n),r=null,i)if(!n.hasOwnProperty(h)&&i.hasOwnProperty(h)&&null!=i[h])if("style"===h){var u=i[h];for(a in u)u.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(c.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in n){var l=n[h];if(u=null!=i?i[h]:void 0,n.hasOwnProperty(h)&&l!==u&&(null!=l||null!=u))if("style"===h)if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(h,r)),r=l;else"dangerouslySetInnerHTML"===h?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(s=s||[]).push(h,l)):"children"===h?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(h,""+l):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(c.hasOwnProperty(h)?(null!=l&&"onScroll"===h&&Cn("scroll",e),s||u===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===D?l.toString():(s=s||[]).push(h,l))}r&&(s=s||[]).push("style",r);var h=s;(t.updateQueue=h)&&(t.flags|=4)}},Ja=function(e,t,r,n){r!==n&&(t.flags|=4)};var cs="function"===typeof WeakMap?WeakMap:Map;function us(e,t,r){(r=ci(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Js||(Js=!0,Gs=n),ss(0,t)},r}function ls(e,t,r){(r=ci(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var o=t.value;r.payload=function(){return ss(0,t),n(o)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(r.callback=function(){"function"!==typeof n&&(null===Ys?Ys=new Set([this]):Ys.add(this),ss(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}var hs="function"===typeof WeakSet?WeakSet:Set;function ps(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(r){Nc(e,r)}else t.current=null}function fs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var r=e.memoizedProps,n=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?r:Yo(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Wn(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(a(163))}function ds(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=r.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var n=e.create;e.destroy=n()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=r.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var o=e;n=o.next,0!==(4&(o=o.tag))&&0!==(1&o)&&(jc(r,e),Ic(r,e)),e=n}while(e!==t)}return;case 1:return e=r.stateNode,4&r.flags&&(null===t?e.componentDidMount():(n=r.elementType===r.type?t.memoizedProps:Yo(r.type,t.memoizedProps),e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=r.updateQueue)&&pi(r,t,e));case 3:if(null!==(t=r.updateQueue)){if(e=null,null!==r.child)switch(r.child.tag){case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}pi(r,t,e)}return;case 5:return e=r.stateNode,void(null===t&&4&r.flags&&Bn(r.type,r.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===r.memoizedState&&(r=r.alternate,null!==r&&(r=r.memoizedState,null!==r&&(r=r.dehydrated,null!==r&&_t(r)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(a(163))}function gs(e,t){for(var r=e;;){if(5===r.tag){var n=r.stateNode;if(t)"function"===typeof(n=n.style).setProperty?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var o=r.memoizedProps.style;o=void 0!==o&&null!==o&&o.hasOwnProperty("display")?o.display:null,n.style.display=Se("display",o)}}else if(6===r.tag)r.stateNode.nodeValue=t?"":r.memoizedProps;else if((23!==r.tag&&24!==r.tag||null===r.memoizedState||r===e)&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function ms(e,t){if(_o&&"function"===typeof _o.onCommitFiberUnmount)try{_o.onCommitFiberUnmount(So,t)}catch(i){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var n=r,o=n.destroy;if(n=n.tag,void 0!==o)if(0!==(4&n))jc(t,r);else{n=t;try{o()}catch(i){Nc(n,i)}}r=r.next}while(r!==e)}break;case 1:if(ps(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(i){Nc(t,i)}break;case 5:ps(t);break;case 4:_s(e,t)}}function vs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ys(e){return 5===e.tag||3===e.tag||4===e.tag}function bs(e){e:{for(var t=e.return;null!==t;){if(ys(t))break e;t=t.return}throw Error(a(160))}var r=t;switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:case 4:t=t.containerInfo,n=!0;break;default:throw Error(a(161))}16&r.flags&&(ye(t,""),r.flags&=-17);e:t:for(r=e;;){for(;null===r.sibling;){if(null===r.return||ys(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(2&r.flags)continue t;if(null===r.child||4===r.tag)continue t;r.child.return=r,r=r.child}if(!(2&r.flags)){r=r.stateNode;break e}}n?ws(e,r,t):Ss(e,r,t)}function ws(e,t,r){var n=e.tag,o=5===n||6===n;if(o)e=o?e.stateNode:e.stateNode.instance,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Nn));else if(4!==n&&null!==(e=e.child))for(ws(e,t,r),e=e.sibling;null!==e;)ws(e,t,r),e=e.sibling}function Ss(e,t,r){var n=e.tag,o=5===n||6===n;if(o)e=o?e.stateNode:e.stateNode.instance,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(Ss(e,t,r),e=e.sibling;null!==e;)Ss(e,t,r),e=e.sibling}function _s(e,t){for(var r,n,o=t,i=!1;;){if(!i){i=o.return;e:for(;;){if(null===i)throw Error(a(160));switch(r=i.stateNode,i.tag){case 5:n=!1;break e;case 3:case 4:r=r.containerInfo,n=!0;break e}i=i.return}i=!0}if(5===o.tag||6===o.tag){e:for(var s=e,c=o,u=c;;)if(ms(s,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===c)break e;for(;null===u.sibling;){if(null===u.return||u.return===c)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}n?(s=r,c=o.stateNode,8===s.nodeType?s.parentNode.removeChild(c):s.removeChild(c)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,n=!0,o.child.return=o,o=o.child;continue}}else if(ms(e,o),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(i=!1)}o.sibling.return=o.return,o=o.sibling}}function ks(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var n=r=r.next;do{3===(3&n.tag)&&(e=n.destroy,n.destroy=void 0,void 0!==e&&e()),n=n.next}while(n!==r)}return;case 1:return;case 5:if(null!=(r=t.stateNode)){n=t.memoizedProps;var o=null!==e?e.memoizedProps:n;e=t.type;var i=t.updateQueue;if(t.updateQueue=null,null!==i){for(r[$n]=n,"input"===e&&"radio"===n.type&&null!=n.name&&te(r,n),xe(e,o),t=xe(e,n),o=0;o<i.length;o+=2){var s=i[o],c=i[o+1];"style"===s?_e(r,c):"dangerouslySetInnerHTML"===s?ve(r,c):"children"===s?ye(r,c):w(r,s,c,t)}switch(e){case"input":re(r,n);break;case"textarea":ue(r,n);break;case"select":e=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,null!=(i=n.value)?ae(r,!!n.multiple,i,!1):e!==!!n.multiple&&(null!=n.defaultValue?ae(r,!!n.multiple,n.defaultValue,!0):ae(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((r=t.stateNode).hydrate&&(r.hydrate=!1,_t(r.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Ks=Ho(),gs(t.child,!0)),void Es(t);case 19:return void Es(t);case 17:return;case 23:case 24:return void gs(t,null!==t.memoizedState)}throw Error(a(163))}function Es(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new hs),t.forEach((function(t){var n=Mc.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function xs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var As=Math.ceil,Cs=S.ReactCurrentDispatcher,Ps=S.ReactCurrentOwner,Fs=0,Ts=null,Os=null,Rs=0,Is=0,js=ao(0),Ds=0,Us=null,Ns=0,Ls=0,Ms=0,Bs=0,Hs=null,Ks=0,Vs=1/0;function Ws(){Vs=Ho()+500}var qs,zs=null,Js=!1,Gs=null,Ys=null,$s=!1,Qs=null,Xs=90,Zs=[],ec=[],tc=null,rc=0,nc=null,oc=-1,ic=0,ac=0,sc=null,cc=!1;function uc(){return 0!==(48&Fs)?Ho():-1!==oc?oc:oc=Ho()}function lc(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Ko()?1:2;if(0===ic&&(ic=Ns),0!==Go.transition){0!==ac&&(ac=null!==Hs?Hs.pendingLanes:0),e=ic;var t=4186112&~ac;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Ko(),0!==(4&Fs)&&98===e?e=Bt(12,ic):e=Bt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ic),e}function hc(e,t,r){if(50<rc)throw rc=0,nc=null,Error(a(185));if(null===(e=pc(e,t)))return null;Vt(e,t,r),e===Ts&&(Ms|=t,4===Ds&&gc(e,Rs));var n=Ko();1===t?0!==(8&Fs)&&0===(48&Fs)?mc(e):(fc(e,r),0===Fs&&(Ws(),zo())):(0===(4&Fs)||98!==n&&99!==n||(null===tc?tc=new Set([e]):tc.add(e)),fc(e,r)),Hs=e}function pc(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}function fc(e,t){for(var r=e.callbackNode,n=e.suspendedLanes,o=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var c=31-Wt(s),u=1<<c,l=i[c];if(-1===l){if(0===(u&n)||0!==(u&o)){l=t,Nt(u);var h=Ut;i[c]=10<=h?l+250:6<=h?l+5e3:-1}}else l<=t&&(e.expiredLanes|=u);s&=~u}if(n=Lt(e,e===Ts?Rs:0),t=Ut,0===n)null!==r&&(r!==Do&&xo(r),e.callbackNode=null,e.callbackPriority=0);else{if(null!==r){if(e.callbackPriority===t)return;r!==Do&&xo(r)}15===t?(r=mc.bind(null,e),null===No?(No=[r],Lo=Eo(To,Jo)):No.push(r),r=Do):14===t?r=qo(99,mc.bind(null,e)):r=qo(r=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),dc.bind(null,e)),e.callbackPriority=t,e.callbackNode=r}}function dc(e){if(oc=-1,ac=ic=0,0!==(48&Fs))throw Error(a(327));var t=e.callbackNode;if(Rc()&&e.callbackNode!==t)return null;var r=Lt(e,e===Ts?Rs:0);if(0===r)return null;var n=r,o=Fs;Fs|=16;var i=kc();for(Ts===e&&Rs===n||(Ws(),Sc(e,n));;)try{Ac();break}catch(c){_c(e,c)}if(ei(),Cs.current=i,Fs=o,null!==Os?n=0:(Ts=null,Rs=0,n=Ds),0!==(Ns&Ms))Sc(e,0);else if(0!==n){if(2===n&&(Fs|=64,e.hydrate&&(e.hydrate=!1,Wn(e.containerInfo)),0!==(r=Mt(e))&&(n=Ec(e,r))),1===n)throw t=Us,Sc(e,0),gc(e,r),fc(e,Ho()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=r,n){case 0:case 1:throw Error(a(345));case 2:Fc(e);break;case 3:if(gc(e,r),(62914560&r)===r&&10<(n=Ks+500-Ho())){if(0!==Lt(e,0))break;if(((o=e.suspendedLanes)&r)!==r){uc(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Kn(Fc.bind(null,e),n);break}Fc(e);break;case 4:if(gc(e,r),(4186112&r)===r)break;for(n=e.eventTimes,o=-1;0<r;){var s=31-Wt(r);i=1<<s,(s=n[s])>o&&(o=s),r&=~i}if(r=o,10<(r=(120>(r=Ho()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*As(r/1960))-r)){e.timeoutHandle=Kn(Fc.bind(null,e),r);break}Fc(e);break;case 5:Fc(e);break;default:throw Error(a(329))}}return fc(e,Ho()),e.callbackNode===t?dc.bind(null,e):null}function gc(e,t){for(t&=~Bs,t&=~Ms,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Wt(t),n=1<<r;e[r]=-1,t&=~n}}function mc(e){if(0!==(48&Fs))throw Error(a(327));if(Rc(),e===Ts&&0!==(e.expiredLanes&Rs)){var t=Rs,r=Ec(e,t);0!==(Ns&Ms)&&(r=Ec(e,t=Lt(e,t)))}else r=Ec(e,t=Lt(e,0));if(0!==e.tag&&2===r&&(Fs|=64,e.hydrate&&(e.hydrate=!1,Wn(e.containerInfo)),0!==(t=Mt(e))&&(r=Ec(e,t))),1===r)throw r=Us,Sc(e,0),gc(e,t),fc(e,Ho()),r;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Fc(e),fc(e,Ho()),null}function vc(e,t){var r=Fs;Fs|=1;try{return e(t)}finally{0===(Fs=r)&&(Ws(),zo())}}function yc(e,t){var r=Fs;Fs&=-2,Fs|=8;try{return e(t)}finally{0===(Fs=r)&&(Ws(),zo())}}function bc(e,t){co(js,Is),Is|=t,Ns|=t}function wc(){Is=js.current,so(js)}function Sc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,Vn(r)),null!==Os)for(r=Os.return;null!==r;){var n=r;switch(n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&mo();break;case 3:Ri(),so(ho),so(lo),Ji();break;case 5:ji(n);break;case 4:Ri();break;case 13:case 19:so(Di);break;case 10:ti(n);break;case 23:case 24:wc()}r=r.return}Ts=e,Os=Vc(e.current,null),Rs=Is=Ns=t,Ds=0,Us=null,Bs=Ms=Ls=0}function _c(e,t){for(;;){var r=Os;try{if(ei(),Gi.current=Fa,ea){for(var n=Qi.memoizedState;null!==n;){var o=n.queue;null!==o&&(o.pending=null),n=n.next}ea=!1}if($i=0,Zi=Xi=Qi=null,ta=!1,Ps.current=null,null===r||null===r.return){Ds=1,Us=t,Os=null;break}e:{var i=e,a=r.return,s=r,c=t;if(t=Rs,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=0!==(1&Di.current),p=a;do{var f;if(f=13===p.tag){var d=p.memoizedState;if(null!==d)f=null!==d.dehydrated;else{var g=p.memoizedProps;f=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!h)}}if(f){var m=p.updateQueue;if(null===m){var v=new Set;v.add(u),p.updateQueue=v}else m.add(u);if(0===(2&p.mode)){if(p.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=ci(-1,1);y.tag=2,ui(s,y)}s.lanes|=1;break e}c=void 0,s=t;var b=i.pingCache;if(null===b?(b=i.pingCache=new cs,c=new Set,b.set(u,c)):void 0===(c=b.get(u))&&(c=new Set,b.set(u,c)),!c.has(s)){c.add(s);var w=Lc.bind(null,i,u,s);u.then(w,w)}p.flags|=4096,p.lanes=t;break e}p=p.return}while(null!==p);c=Error((J(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ds&&(Ds=2),c=as(c,s),p=a;do{switch(p.tag){case 3:i=c,p.flags|=4096,t&=-t,p.lanes|=t,li(p,us(0,i,t));break e;case 1:i=c;var S=p.type,_=p.stateNode;if(0===(64&p.flags)&&("function"===typeof S.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Ys||!Ys.has(_)))){p.flags|=4096,t&=-t,p.lanes|=t,li(p,ls(p,i,t));break e}}p=p.return}while(null!==p)}Pc(r)}catch(k){t=k,Os===r&&null!==r&&(Os=r=r.return);continue}break}}function kc(){var e=Cs.current;return Cs.current=Fa,null===e?Fa:e}function Ec(e,t){var r=Fs;Fs|=16;var n=kc();for(Ts===e&&Rs===t||Sc(e,t);;)try{xc();break}catch(o){_c(e,o)}if(ei(),Fs=r,Cs.current=n,null!==Os)throw Error(a(261));return Ts=null,Rs=0,Ds}function xc(){for(;null!==Os;)Cc(Os)}function Ac(){for(;null!==Os&&!Ao();)Cc(Os)}function Cc(e){var t=qs(e.alternate,e,Is);e.memoizedProps=e.pendingProps,null===t?Pc(e):Os=t,Ps.current=null}function Pc(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(r=os(r,t,Is)))return void(Os=r);if(24!==(r=t).tag&&23!==r.tag||null===r.memoizedState||0!==(1073741824&Is)||0===(4&r.mode)){for(var n=0,o=r.child;null!==o;)n|=o.lanes|o.childLanes,o=o.sibling;r.childLanes=n}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(r=is(t)))return r.flags&=2047,void(Os=r);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Os=t);Os=t=e}while(null!==t);0===Ds&&(Ds=5)}function Fc(e){var t=Ko();return Wo(99,Tc.bind(null,e,t)),null}function Tc(e,t){do{Rc()}while(null!==Qs);if(0!==(48&Fs))throw Error(a(327));var r=e.finishedWork;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null;var n=r.lanes|r.childLanes,o=n,i=e.pendingLanes&~o;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=o,e.mutableReadLanes&=o,e.entangledLanes&=o,o=e.entanglements;for(var s=e.eventTimes,c=e.expirationTimes;0<i;){var u=31-Wt(i),l=1<<u;o[u]=0,s[u]=-1,c[u]=-1,i&=~l}if(null!==tc&&0===(24&n)&&tc.has(e)&&tc.delete(e),e===Ts&&(Os=Ts=null,Rs=0),1<r.flags?null!==r.lastEffect?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,null!==n){if(o=Fs,Fs|=32,Ps.current=null,Ln=Yt,dn(s=fn())){if("selectionStart"in s)c={start:s.selectionStart,end:s.selectionEnd};else e:if(c=(c=s.ownerDocument)&&c.defaultView||window,(l=c.getSelection&&c.getSelection())&&0!==l.rangeCount){c=l.anchorNode,i=l.anchorOffset,u=l.focusNode,l=l.focusOffset;try{c.nodeType,u.nodeType}catch(A){c=null;break e}var h=0,p=-1,f=-1,d=0,g=0,m=s,v=null;t:for(;;){for(var y;m!==c||0!==i&&3!==m.nodeType||(p=h+i),m!==u||0!==l&&3!==m.nodeType||(f=h+l),3===m.nodeType&&(h+=m.nodeValue.length),null!==(y=m.firstChild);)v=m,m=y;for(;;){if(m===s)break t;if(v===c&&++d===i&&(p=h),v===u&&++g===l&&(f=h),null!==(y=m.nextSibling))break;v=(m=v).parentNode}m=y}c=-1===p||-1===f?null:{start:p,end:f}}else c=null;c=c||{start:0,end:0}}else c=null;Mn={focusedElem:s,selectionRange:c},Yt=!1,sc=null,cc=!1,zs=n;do{try{Oc()}catch(A){if(null===zs)throw Error(a(330));Nc(zs,A),zs=zs.nextEffect}}while(null!==zs);sc=null,zs=n;do{try{for(s=e;null!==zs;){var b=zs.flags;if(16&b&&ye(zs.stateNode,""),128&b){var w=zs.alternate;if(null!==w){var S=w.ref;null!==S&&("function"===typeof S?S(null):S.current=null)}}switch(1038&b){case 2:bs(zs),zs.flags&=-3;break;case 6:bs(zs),zs.flags&=-3,ks(zs.alternate,zs);break;case 1024:zs.flags&=-1025;break;case 1028:zs.flags&=-1025,ks(zs.alternate,zs);break;case 4:ks(zs.alternate,zs);break;case 8:_s(s,c=zs);var _=c.alternate;vs(c),null!==_&&vs(_)}zs=zs.nextEffect}}catch(A){if(null===zs)throw Error(a(330));Nc(zs,A),zs=zs.nextEffect}}while(null!==zs);if(S=Mn,w=fn(),b=S.focusedElem,s=S.selectionRange,w!==b&&b&&b.ownerDocument&&pn(b.ownerDocument.documentElement,b)){null!==s&&dn(b)&&(w=s.start,void 0===(S=s.end)&&(S=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(S,b.value.length)):(S=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(S=S.getSelection(),c=b.textContent.length,_=Math.min(s.start,c),s=void 0===s.end?_:Math.min(s.end,c),!S.extend&&_>s&&(c=s,s=_,_=c),c=hn(b,_),i=hn(b,s),c&&i&&(1!==S.rangeCount||S.anchorNode!==c.node||S.anchorOffset!==c.offset||S.focusNode!==i.node||S.focusOffset!==i.offset)&&((w=w.createRange()).setStart(c.node,c.offset),S.removeAllRanges(),_>s?(S.addRange(w),S.extend(i.node,i.offset)):(w.setEnd(i.node,i.offset),S.addRange(w))))),w=[];for(S=b;S=S.parentNode;)1===S.nodeType&&w.push({element:S,left:S.scrollLeft,top:S.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<w.length;b++)(S=w[b]).element.scrollLeft=S.left,S.element.scrollTop=S.top}Yt=!!Ln,Mn=Ln=null,e.current=r,zs=n;do{try{for(b=e;null!==zs;){var k=zs.flags;if(36&k&&ds(b,zs.alternate,zs),128&k){w=void 0;var E=zs.ref;if(null!==E){var x=zs.stateNode;switch(zs.tag){case 5:w=x;break;default:w=x}"function"===typeof E?E(w):E.current=w}}zs=zs.nextEffect}}catch(A){if(null===zs)throw Error(a(330));Nc(zs,A),zs=zs.nextEffect}}while(null!==zs);zs=null,Uo(),Fs=o}else e.current=r;if($s)$s=!1,Qs=e,Xs=t;else for(zs=n;null!==zs;)t=zs.nextEffect,zs.nextEffect=null,8&zs.flags&&((k=zs).sibling=null,k.stateNode=null),zs=t;if(0===(n=e.pendingLanes)&&(Ys=null),1===n?e===nc?rc++:(rc=0,nc=e):rc=0,r=r.stateNode,_o&&"function"===typeof _o.onCommitFiberRoot)try{_o.onCommitFiberRoot(So,r,void 0,64===(64&r.current.flags))}catch(A){}if(fc(e,Ho()),Js)throw Js=!1,e=Gs,Gs=null,e;return 0!==(8&Fs)||zo(),null}function Oc(){for(;null!==zs;){var e=zs.alternate;cc||null===sc||(0!==(8&zs.flags)?et(zs,sc)&&(cc=!0):13===zs.tag&&xs(e,zs)&&et(zs,sc)&&(cc=!0));var t=zs.flags;0!==(256&t)&&fs(e,zs),0===(512&t)||$s||($s=!0,qo(97,(function(){return Rc(),null}))),zs=zs.nextEffect}}function Rc(){if(90!==Xs){var e=97<Xs?97:Xs;return Xs=90,Wo(e,Dc)}return!1}function Ic(e,t){Zs.push(t,e),$s||($s=!0,qo(97,(function(){return Rc(),null})))}function jc(e,t){ec.push(t,e),$s||($s=!0,qo(97,(function(){return Rc(),null})))}function Dc(){if(null===Qs)return!1;var e=Qs;if(Qs=null,0!==(48&Fs))throw Error(a(331));var t=Fs;Fs|=32;var r=ec;ec=[];for(var n=0;n<r.length;n+=2){var o=r[n],i=r[n+1],s=o.destroy;if(o.destroy=void 0,"function"===typeof s)try{s()}catch(u){if(null===i)throw Error(a(330));Nc(i,u)}}for(r=Zs,Zs=[],n=0;n<r.length;n+=2){o=r[n],i=r[n+1];try{var c=o.create;o.destroy=c()}catch(u){if(null===i)throw Error(a(330));Nc(i,u)}}for(c=e.current.firstEffect;null!==c;)e=c.nextEffect,c.nextEffect=null,8&c.flags&&(c.sibling=null,c.stateNode=null),c=e;return Fs=t,zo(),!0}function Uc(e,t,r){ui(e,t=us(0,t=as(r,t),1)),t=uc(),null!==(e=pc(e,1))&&(Vt(e,1,t),fc(e,t))}function Nc(e,t){if(3===e.tag)Uc(e,e,t);else for(var r=e.return;null!==r;){if(3===r.tag){Uc(r,e,t);break}if(1===r.tag){var n=r.stateNode;if("function"===typeof r.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Ys||!Ys.has(n))){var o=ls(r,e=as(t,e),1);if(ui(r,o),o=uc(),null!==(r=pc(r,1)))Vt(r,1,o),fc(r,o);else if("function"===typeof n.componentDidCatch&&(null===Ys||!Ys.has(n)))try{n.componentDidCatch(t,e)}catch(i){}break}}r=r.return}}function Lc(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=uc(),e.pingedLanes|=e.suspendedLanes&r,Ts===e&&(Rs&r)===r&&(4===Ds||3===Ds&&(62914560&Rs)===Rs&&500>Ho()-Ks?Sc(e,0):Bs|=r),fc(e,t)}function Mc(e,t){var r=e.stateNode;null!==r&&r.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Ko()?1:2:(0===ic&&(ic=Ns),0===(t=Ht(62914560&~ic))&&(t=4194304))),r=uc(),null!==(e=pc(e,t))&&(Vt(e,t,r),fc(e,r))}function Bc(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hc(e,t,r,n){return new Bc(e,t,r,n)}function Kc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Vc(e,t){var r=e.alternate;return null===r?((r=Hc(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Wc(e,t,r,n,o,i){var s=2;if(n=e,"function"===typeof e)Kc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return qc(r.children,o,i,t);case U:s=8,o|=16;break;case x:s=8,o|=1;break;case A:return(e=Hc(12,r,t,8|o)).elementType=A,e.type=A,e.lanes=i,e;case T:return(e=Hc(13,r,t,o)).type=T,e.elementType=T,e.lanes=i,e;case O:return(e=Hc(19,r,t,o)).elementType=O,e.lanes=i,e;case N:return zc(r,o,i,t);case L:return(e=Hc(24,r,t,o)).elementType=L,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case P:s=9;break e;case F:s=11;break e;case R:s=14;break e;case I:s=16,n=null;break e;case j:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Hc(s,r,t,o)).elementType=e,t.type=n,t.lanes=i,t}function qc(e,t,r,n){return(e=Hc(7,e,n,t)).lanes=r,e}function zc(e,t,r,n){return(e=Hc(23,e,n,t)).elementType=N,e.lanes=r,e}function Jc(e,t,r){return(e=Hc(6,e,null,t)).lanes=r,e}function Gc(e,t,r){return(t=Hc(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Yc(e,t,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Kt(0),this.expirationTimes=Kt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kt(0),this.mutableSourceEagerHydrationData=null}function $c(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}function Qc(e,t,r,n){var o=t.current,i=uc(),s=lc(o);e:if(r){t:{if($e(r=r._reactInternals)!==r||1!==r.tag)throw Error(a(170));var c=r;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(go(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(null!==c);throw Error(a(171))}if(1===r.tag){var u=r.type;if(go(u)){r=yo(r,u,c);break e}}r=c}else r=uo;return null===t.context?t.context=r:t.pendingContext=r,(t=ci(i,s)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),ui(o,t),hc(o,s,i),s}function Xc(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Zc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function eu(e,t){Zc(e,t),(e=e.alternate)&&Zc(e,t)}function tu(e,t,r){var n=null!=r&&null!=r.hydrationOptions&&r.hydrationOptions.mutableSources||null;if(r=new Yc(e,t,null!=r&&!0===r.hydrate),t=Hc(3,null,null,2===t?7:1===t?3:0),r.current=t,t.stateNode=r,ai(t),e[Qn]=r.current,Fn(8===e.nodeType?e.parentNode:e),n)for(e=0;e<n.length;e++){var o=(t=n[e])._getVersion;o=o(t._source),null==r.mutableSourceEagerHydrationData?r.mutableSourceEagerHydrationData=[t,o]:r.mutableSourceEagerHydrationData.push(t,o)}this._internalRoot=r}function ru(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function nu(e,t,r,n,o){var i=r._reactRootContainer;if(i){var a=i._internalRoot;if("function"===typeof o){var s=o;o=function(){var e=Xc(a);s.call(e)}}Qc(t,a,e,o)}else{if(i=r._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new tu(e,0,t?{hydrate:!0}:void 0)}(r,n),a=i._internalRoot,"function"===typeof o){var c=o;o=function(){var e=Xc(a);c.call(e)}}yc((function(){Qc(t,a,e,o)}))}return Xc(a)}function ou(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ru(t))throw Error(a(200));return $c(e,t,null,r)}qs=function(e,t,r){var n=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||ho.current)ja=!0;else{if(0===(r&n)){switch(ja=!1,t.tag){case 3:Wa(t),qi();break;case 5:Ii(t);break;case 1:go(t.type)&&bo(t);break;case 4:Oi(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value;var o=t.type._context;co($o,o._currentValue),o._currentValue=n;break;case 13:if(null!==t.memoizedState)return 0!==(r&t.child.childLanes)?Ya(e,t,r):(co(Di,1&Di.current),null!==(t=rs(e,t,r))?t.sibling:null);co(Di,1&Di.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(64&e.flags)){if(n)return ts(e,t,r);t.flags|=64}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),co(Di,Di.current),n)break;return null;case 23:case 24:return t.lanes=0,Ma(e,t,r)}return rs(e,t,r)}ja=0!==(16384&e.flags)}else ja=!1;switch(t.lanes=0,t.tag){case 2:if(n=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=fo(t,lo.current),ni(t,r),o=oa(null,t,n,e,o,r),t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,go(n)){var i=!0;bo(t)}else i=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,ai(t);var s=n.getDerivedStateFromProps;"function"===typeof s&&di(t,n,s,e),o.updater=gi,t.stateNode=o,o._reactInternals=t,bi(t,n,e,r),t=Va(null,t,n,!0,i,r)}else t.tag=0,Da(null,t,o,r),t=t.child;return t;case 16:o=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=(i=o._init)(o._payload),t.type=o,i=t.tag=function(e){if("function"===typeof e)return Kc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===F)return 11;if(e===R)return 14}return 2}(o),e=Yo(o,e),i){case 0:t=Ha(null,t,o,e,r);break e;case 1:t=Ka(null,t,o,e,r);break e;case 11:t=Ua(null,t,o,e,r);break e;case 14:t=Na(null,t,o,Yo(o.type,e),n,r);break e}throw Error(a(306,o,""))}return t;case 0:return n=t.type,o=t.pendingProps,Ha(e,t,n,o=t.elementType===n?o:Yo(n,o),r);case 1:return n=t.type,o=t.pendingProps,Ka(e,t,n,o=t.elementType===n?o:Yo(n,o),r);case 3:if(Wa(t),n=t.updateQueue,null===e||null===n)throw Error(a(282));if(n=t.pendingProps,o=null!==(o=t.memoizedState)?o.element:null,si(e,t),hi(t,n,null,r),(n=t.memoizedState.element)===o)qi(),t=rs(e,t,r);else{if((i=(o=t.stateNode).hydrate)&&(Li=qn(t.stateNode.containerInfo.firstChild),Ni=t,i=Mi=!0),i){if(null!=(e=o.mutableSourceEagerHydrationData))for(o=0;o<e.length;o+=2)(i=e[o])._workInProgressVersionPrimary=e[o+1],zi.push(i);for(r=xi(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|1024,r=r.sibling}else Da(e,t,n,r),qi();t=t.child}return t;case 5:return Ii(t),null===e&&Ki(t),n=t.type,o=t.pendingProps,i=null!==e?e.memoizedProps:null,s=o.children,Hn(n,o)?s=null:null!==i&&Hn(n,i)&&(t.flags|=16),Ba(e,t),Da(e,t,s,r),t.child;case 6:return null===e&&Ki(t),null;case 13:return Ya(e,t,r);case 4:return Oi(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Ei(t,null,n,r):Da(e,t,n,r),t.child;case 11:return n=t.type,o=t.pendingProps,Ua(e,t,n,o=t.elementType===n?o:Yo(n,o),r);case 7:return Da(e,t,t.pendingProps,r),t.child;case 8:case 12:return Da(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value;var c=t.type._context;if(co($o,c._currentValue),c._currentValue=i,null!==s)if(c=s.value,0===(i=sn(c,i)?0:0|("function"===typeof n._calculateChangedBits?n._calculateChangedBits(c,i):1073741823))){if(s.children===o.children&&!ho.current){t=rs(e,t,r);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var u=c.dependencies;if(null!==u){s=c.child;for(var l=u.firstContext;null!==l;){if(l.context===n&&0!==(l.observedBits&i)){1===c.tag&&((l=ci(-1,r&-r)).tag=2,ui(c,l)),c.lanes|=r,null!==(l=c.alternate)&&(l.lanes|=r),ri(c.return,r),u.lanes|=r;break}l=l.next}}else s=10===c.tag&&c.type===t.type?null:c.child;if(null!==s)s.return=c;else for(s=c;null!==s;){if(s===t){s=null;break}if(null!==(c=s.sibling)){c.return=s.return,s=c;break}s=s.return}c=s}Da(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,n=(i=t.pendingProps).children,ni(t,r),n=n(o=oi(o,i.unstable_observedBits)),t.flags|=1,Da(e,t,n,r),t.child;case 14:return i=Yo(o=t.type,t.pendingProps),Na(e,t,o,i=Yo(o.type,i),n,r);case 15:return La(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Yo(n,o),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,go(n)?(e=!0,bo(t)):e=!1,ni(t,r),vi(t,n,o),bi(t,n,o,r),Va(null,t,n,!0,e,r);case 19:return ts(e,t,r);case 23:case 24:return Ma(e,t,r)}throw Error(a(156,t.tag))},tu.prototype.render=function(e){Qc(e,this._internalRoot,null,null)},tu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Qc(null,e,null,(function(){t[Qn]=null}))},tt=function(e){13===e.tag&&(hc(e,4,uc()),eu(e,4))},rt=function(e){13===e.tag&&(hc(e,67108864,uc()),eu(e,67108864))},nt=function(e){if(13===e.tag){var t=uc(),r=lc(e);hc(e,r,t),eu(e,r)}},ot=function(e,t){return t()},Ce=function(e,t,r){switch(t){case"input":if(re(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var o=ro(n);if(!o)throw Error(a(90));Q(n),re(n,o)}}}break;case"textarea":ue(e,r);break;case"select":null!=(t=r.value)&&ae(e,!!r.multiple,t,!1)}},Ie=vc,je=function(e,t,r,n,o){var i=Fs;Fs|=4;try{return Wo(98,e.bind(null,t,r,n,o))}finally{0===(Fs=i)&&(Ws(),zo())}},De=function(){0===(49&Fs)&&(function(){if(null!==tc){var e=tc;tc=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,fc(e,Ho())}))}zo()}(),Rc())},Ue=function(e,t){var r=Fs;Fs|=2;try{return e(t)}finally{0===(Fs=r)&&(Ws(),zo())}};var iu={Events:[eo,to,ro,Oe,Re,Rc,{current:!1}]},au={findFiberByHostInstance:Zn,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},su={bundleType:au.bundleType,version:au.version,rendererPackageName:au.rendererPackageName,rendererConfig:au.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:au.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cu.isDisabled&&cu.supportsFiber)try{So=cu.inject(su),_o=cu}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iu,t.createPortal=ou,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var r=Fs;if(0!==(48&r))return e(t);Fs|=1;try{if(e)return Wo(99,e.bind(null,t))}finally{Fs=r,zo()}},t.hydrate=function(e,t,r){if(!ru(t))throw Error(a(200));return nu(null,e,t,!0,r)},t.render=function(e,t,r){if(!ru(t))throw Error(a(200));return nu(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!ru(e))throw Error(a(40));return!!e._reactRootContainer&&(yc((function(){nu(null,null,e,!1,(function(){e._reactRootContainer=null,e[Qn]=null}))})),!0)},t.unstable_batchedUpdates=vc,t.unstable_createPortal=function(e,t){return ou(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ru(r))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return nu(e,t,r,!1,n)},t.version="17.0.2"},function(e,t,r){"use strict";e.exports=r(81)},function(e,t,r){"use strict";var n,o,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,h=null,p=function e(){if(null!==l)try{var r=t.unstable_now();l(!0,r),l=null}catch(n){throw setTimeout(e,0),n}};n=function(e){null!==l?setTimeout(n,0,e):(l=e,setTimeout(p,0))},o=function(e,t){h=setTimeout(e,t)},i=function(){clearTimeout(h)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var g=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,v=null,y=-1,b=5,w=0;t.unstable_shouldYield=function(){return t.unstable_now()>=w},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5};var S=new MessageChannel,_=S.port2;S.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();w=e+b;try{v(!0,e)?_.postMessage(null):(m=!1,v=null)}catch(r){throw _.postMessage(null),r}}else m=!1},n=function(e){v=e,m||(m=!0,_.postMessage(null))},o=function(e,r){y=f((function(){e(t.unstable_now())}),r)},i=function(){d(y),y=-1}}function k(e,t){var r=e.length;e.push(t);e:for(;;){var n=r-1>>>1,o=e[n];if(!(void 0!==o&&0<A(o,t)))break e;e[n]=t,e[r]=o,r=n}}function E(e){return void 0===(e=e[0])?null:e}function x(e){var t=e[0];if(void 0!==t){var r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,o=e.length;n<o;){var i=2*(n+1)-1,a=e[i],s=i+1,c=e[s];if(void 0!==a&&0>A(a,r))void 0!==c&&0>A(c,a)?(e[n]=c,e[s]=r,n=s):(e[n]=a,e[i]=r,n=i);else{if(!(void 0!==c&&0>A(c,r)))break e;e[n]=c,e[s]=r,n=s}}}return t}return null}function A(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}var C=[],P=[],F=1,T=null,O=3,R=!1,I=!1,j=!1;function D(e){for(var t=E(P);null!==t;){if(null===t.callback)x(P);else{if(!(t.startTime<=e))break;x(P),t.sortIndex=t.expirationTime,k(C,t)}t=E(P)}}function U(e){if(j=!1,D(e),!I)if(null!==E(C))I=!0,n(N);else{var t=E(P);null!==t&&o(U,t.startTime-e)}}function N(e,r){I=!1,j&&(j=!1,i()),R=!0;var n=O;try{for(D(r),T=E(C);null!==T&&(!(T.expirationTime>r)||e&&!t.unstable_shouldYield());){var a=T.callback;if("function"===typeof a){T.callback=null,O=T.priorityLevel;var s=a(T.expirationTime<=r);r=t.unstable_now(),"function"===typeof s?T.callback=s:T===E(C)&&x(C),D(r)}else x(C);T=E(C)}if(null!==T)var c=!0;else{var u=E(P);null!==u&&o(U,u.startTime-r),c=!1}return c}finally{T=null,O=n,R=!1}}var L=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){I||R||(I=!0,n(N))},t.unstable_getCurrentPriorityLevel=function(){return O},t.unstable_getFirstCallbackNode=function(){return E(C)},t.unstable_next=function(e){switch(O){case 1:case 2:case 3:var t=3;break;default:t=O}var r=O;O=t;try{return e()}finally{O=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=L,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=O;O=e;try{return t()}finally{O=r}},t.unstable_scheduleCallback=function(e,r,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var c=-1;break;case 2:c=250;break;case 5:c=1073741823;break;case 4:c=1e4;break;default:c=5e3}return e={id:F++,callback:r,priorityLevel:e,startTime:a,expirationTime:c=a+c,sortIndex:-1},a>s?(e.sortIndex=a,k(P,e),null===E(C)&&e===E(P)&&(j?i():j=!0,o(U,a-s))):(e.sortIndex=c,k(C,e),I||R||(I=!0,n(N))),e},t.unstable_wrapCallback=function(e){var t=O;return function(){var r=O;O=t;try{return e.apply(this,arguments)}finally{O=r}}}},,function(e,t,r){var n=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(O){c=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),a=new P(n||[]);return i._invoke=function(e,t,r){var n=h;return function(o,i){if(n===f)throw new Error("Generator is already running");if(n===d){if("throw"===o)throw i;return T()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=x(a,r);if(s){if(s===g)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===h)throw n=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=f;var c=l(e,t,r);if("normal"===c.type){if(n=r.done?d:p,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=d,r.method="throw",r.arg=c.arg)}}}(e,r,a),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=u;var h="suspendedStart",p="suspendedYield",f="executing",d="completed",g={};function m(){}function v(){}function y(){}var b={};b[i]=function(){return this};var w=Object.getPrototypeOf,S=w&&w(w(F([])));S&&S!==r&&n.call(S,i)&&(b=S);var _=y.prototype=m.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function r(o,i,a,s){var c=l(e[o],e,i);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"===typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(h).then((function(e){u.value=e,a(u)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}var o;this._invoke=function(e,n){function i(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(i,i):i()}}function x(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,x(e,r),"throw"===r.method))return g;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var o=l(n,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,g;var i=o.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function F(e){if(e){var r=e[i];if(r)return r.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}return{next:T}}function T(){return{value:t,done:!0}}return v.prototype=_.constructor=y,y.constructor=v,v.displayName=c(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},k(E.prototype),E.prototype[a]=function(){return this},e.AsyncIterator=E,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new E(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(_),c(_,s,"Generator"),_[i]=function(){return this},_.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=F,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:F(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=n}catch(o){Function("r","regeneratorRuntime = r")(n)}},function(e,t,r){var n=r(85),o=r(52);e.exports=function(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?o(e):t}},function(e,t){function r(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?e.exports=r=function(e){return typeof e}:e.exports=r=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(t)}e.exports=r},function(e,t,r){"use strict";var n=r(0),o=r(30),i=r(10),a=r(6),s=r(8),c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=c(r(56)),l=function(){function e(t){a(this,e),this.handleables=t}return s(e,[{key:"getProperHandler",value:function(){var e=i(n.mark((function e(t){var r,i;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.handleables.map((function(e){return e.canHandle.apply(e,o(t))})));case 2:r=e.sent,i=0;case 4:if(!(i<r.length)){e.next=10;break}if(!r[i]){e.next=7;break}return e.abrupt("return",this.handleables[i]);case 7:i+=1,e.next=4;break;case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"canHandle",value:function(){var e=i(n.mark((function e(){var t,r,o,i=arguments;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=i.length,r=new Array(t),o=0;o<t;o++)r[o]=i[o];return e.next=3,this.getProperHandler(r);case 3:return e.t0=e.sent,e.abrupt("return",null!==e.t0);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handle",value:function(){var e=i(n.mark((function e(){var t,r,o,i,a=arguments;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=a.length,r=new Array(t),o=0;o<t;o++)r[o]=a[o];return e.next=3,this.getProperHandler(r);case 3:if(!(i=e.sent)){e.next=6;break}return e.abrupt("return",i.handle.apply(i,r));case 6:throw new u.default("[".concat(this.constructor.name,"] cannot find a suitable handler for: ").concat(r.map((function(e){try{return JSON.stringify(e)}catch(t){return e.toString()}})).join(", ")));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();t.default=l},function(e,t,r){var n=r(55);e.exports=function(e){if(Array.isArray(e))return n(e)}},function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},function(e,t,r){var n=r(38),o=r(51);function i(t,r,a){return o()?e.exports=i=Reflect.construct:e.exports=i=function(e,t,r){var o=[null];o.push.apply(o,t);var i=new(Function.bind.apply(e,o));return r&&n(i,r.prototype),i},i.apply(null,arguments)}e.exports=i},function(e,t,r){"use strict";var n=r(0),o=r(10);Object.defineProperty(t,"__esModule",{value:!0}),t.getWebidFromTokenPayload=t.fetchJwks=void 0;var i=r(34),a=r(32);function s(e,t){return c.apply(this,arguments)}function c(){return(c=o(n.mark((function e(t,r){var o,a;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.fetch(t);case 2:if(200===(o=e.sent).status){e.next=5;break}throw new Error("Could not fetch JWKS for [".concat(r,"] at [").concat(t,"]: ").concat(o.status," ").concat(o.statusText));case 5:return e.prev=5,e.next=8,o.json();case 8:a=e.sent.keys[0],e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(5),new Error("Malformed JWKS for [".concat(r,"] at [").concat(t,"]: ").concat(e.t0.message));case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}}),e,null,[[5,11]])})))).apply(this,arguments)}function u(){return(u=o(n.mark((function e(t,r,o,i){var c,u,l,h;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(r,o);case 2:return c=e.sent,e.prev=3,e.t0=a,e.t1=t,e.next=8,a.parseJwk(c);case 8:return e.t2=e.sent,e.t3={issuer:o,audience:i},e.next=12,e.t0.jwtVerify.call(e.t0,e.t1,e.t2,e.t3);case 12:l=e.sent,h=l.payload,u=h,e.next=20;break;case 17:throw e.prev=17,e.t4=e.catch(3),new Error("ID token verification failed: ".concat(e.t4.stack));case 20:if("string"!==typeof u.webid){e.next=22;break}return e.abrupt("return",u.webid);case 22:if("string"===typeof u.sub){e.next=24;break}throw new Error("The ID token ".concat(JSON.stringify(u)," is invalid: it has no 'webid' claim and no 'sub' claim."));case 24:return e.prev=24,new URL(u.sub),e.abrupt("return",u.sub);case 29:throw e.prev=29,e.t5=e.catch(24),new Error("The ID token has no 'webid' claim, and its 'sub' claim of [".concat(u.sub,"] is invalid as a URL - error [").concat(e.t5,"]."));case 32:case"end":return e.stop()}}),e,null,[[3,17],[24,29]])})))).apply(this,arguments)}t.fetchJwks=s,t.getWebidFromTokenPayload=function(e,t,r,n){return u.apply(this,arguments)}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(c){o=!0,i=c}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,r){var n=r(97);e.exports=function(e,t){if(null==e)return{};var r,o,i=n(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}},function(e,t){e.exports=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSupportedTokenType=void 0,t.isSupportedTokenType=function(e){return"string"===typeof e&&["DPoP","Bearer"].includes(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.USER_SESSION_PREFIX=void 0,t.USER_SESSION_PREFIX="solidClientAuthenticationUser"},function(e,t,r){"use strict";var n=r(0),o=r(10);function i(e){try{return new URL(e),!0}catch(t){return!1}}function a(e,t){return void 0===e.clientId||i(e.clientId)?"https://solidproject.org/TR/solid-oidc"===t.solidOidcSupported&&void 0!==e.clientId&&i(e.clientId)?"solid-oidc":"dynamic":"static"}function s(){return(s=o(n.mark((function e(t,r,o,i){var s;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("dynamic"!==(s=a(t,r))){e.next=3;break}return e.abrupt("return",i.getClient({sessionId:t.sessionId,clientName:t.clientName,redirectUrl:t.redirectUrl},r));case 3:return e.next=5,o.setForUser(t.sessionId,{clientId:t.clientId});case 5:if(!t.clientSecret){e.next=8;break}return e.next=8,o.setForUser(t.sessionId,{clientSecret:t.clientSecret});case 8:if(!t.clientName){e.next=11;break}return e.next=11,o.setForUser(t.sessionId,{clientName:t.clientName});case 11:return e.abrupt("return",{clientId:t.clientId,clientSecret:t.clientSecret,clientName:t.clientName,clientType:s});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.handleRegistration=t.determineSigningAlg=void 0,t.determineSigningAlg=function(e,t){var r;return null!==(r=t.find((function(t){return e.includes(t)})))&&void 0!==r?r:null},t.handleRegistration=function(e,t,r,n){return s.apply(this,arguments)}},function(e,t,r){"use strict";var n=r(33),o=r(19),i=r(0),a=r(6),s=r(8),c=r(10),u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.saveSessionInfoToStorage=t.loadOidcContextFromStorage=t.getSessionIdFromOauthState=void 0;var l=r(32),h=u(r(56));function p(){return(p=c(i.mark((function e(t,r){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.getForUser(r,"sessionId"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=c(i.mark((function e(t,r,o){var a,s,c,u,l,h,p;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([r.getForUser(t,"issuer",{errorIfNull:!0}),r.getForUser(t,"codeVerifier"),r.getForUser(t,"redirectUrl"),r.getForUser(t,"dpop",{errorIfNull:!0})]);case 3:return a=e.sent,s=n(a,4),c=s[0],u=s[1],l=s[2],h=s[3],e.next=11,o.fetchConfig(c);case 11:return p=e.sent,e.abrupt("return",{codeVerifier:u,redirectUrl:l,issuerConfig:p,dpop:"true"===h});case 15:throw e.prev=15,e.t0=e.catch(0),new Error("Failed to retrieve OIDC context from storage associated with session [".concat(t,"]: ").concat(e.t0.toString()));case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}function d(){return(d=c(i.mark((function e(t,r,n,o,a,s,c,u){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===s){e.next=3;break}return e.next=3,t.setForUser(r,{refreshToken:s},{secure:c});case 3:if(void 0===n){e.next=6;break}return e.next=6,t.setForUser(r,{idToken:n},{secure:c});case 6:if(void 0===o){e.next=9;break}return e.next=9,t.setForUser(r,{webId:o},{secure:c});case 9:if(void 0===a){e.next=12;break}return e.next=12,t.setForUser(r,{isLoggedIn:a},{secure:c});case 12:if(void 0===u){e.next=25;break}return e.t0=t,e.t1=r,e.t2=JSON.stringify(u.publicKey),e.t3=JSON,e.next=19,l.fromKeyLike(u.privateKey);case 19:return e.t4=e.sent,e.t5=e.t3.stringify.call(e.t3,e.t4),e.t6={publicKey:e.t2,privateKey:e.t5},e.t7={secure:c},e.next=25,e.t0.setForUser.call(e.t0,e.t1,e.t6,e.t7);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.getSessionIdFromOauthState=function(e,t){return p.apply(this,arguments)},t.loadOidcContextFromStorage=function(e,t,r){return f.apply(this,arguments)},t.saveSessionInfoToStorage=function(e,t,r,n,o,i,a,s){return d.apply(this,arguments)};var g=function(){function e(t,r){a(this,e),this.secureStorage=t,this.insecureStorage=r,this.RESOURCE_SERVER_SESSION_INFORMATION_KEY="tmp-resource-server-session-info"}return s(e,[{key:"getKey",value:function(e){return"solidClientAuthenticationUser:".concat(e)}},{key:"getUserData",value:function(){var e=c(i.mark((function e(t,r){var n;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(r?this.secureStorage:this.insecureStorage).get(this.getKey(t));case 2:if(void 0!==(n=e.sent)){e.next=5;break}return e.abrupt("return",{});case 5:return e.prev=5,e.abrupt("return",JSON.parse(n));case 9:throw e.prev=9,e.t0=e.catch(5),new h.default("Data for user [".concat(t,"] in [").concat(r?"secure":"unsecure","] storage is corrupted - expected valid JSON, but got: ").concat(n));case 12:case"end":return e.stop()}}),e,this,[[5,9]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"setUserData",value:function(){var e=c(i.mark((function e(t,r,n){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(n?this.secureStorage:this.insecureStorage).set(this.getKey(t),JSON.stringify(r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=c(i.mark((function e(t,r){var n;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,((null===r||void 0===r?void 0:r.secure)?this.secureStorage:this.insecureStorage).get(t);case 2:if(void 0!==(n=e.sent)||!(null===r||void 0===r?void 0:r.errorIfNull)){e.next=5;break}throw new h.default("[".concat(t,"] is not stored"));case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"set",value:function(){var e=c(i.mark((function e(t,r,n){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",((null===n||void 0===n?void 0:n.secure)?this.secureStorage:this.insecureStorage).set(t,r));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=c(i.mark((function e(t,r){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",((null===r||void 0===r?void 0:r.secure)?this.secureStorage:this.insecureStorage).delete(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getForUser",value:function(){var e=c(i.mark((function e(t,r,n){var o,a;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUserData(t,null===n||void 0===n?void 0:n.secure);case 2:if((o=e.sent)&&o[r]||(a=void 0),void 0!==(a=o[r])||!(null===n||void 0===n?void 0:n.errorIfNull)){e.next=7;break}throw new h.default("Field [".concat(r,"] for user [").concat(t,"] is not stored"));case 7:return e.abrupt("return",a||void 0);case 8:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"setForUser",value:function(){var e=c(i.mark((function e(t,r,n){var a;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getUserData(t,null===n||void 0===n?void 0:n.secure);case 3:a=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),a={};case 9:return e.next=11,this.setUserData(t,o(o({},a),r),null===n||void 0===n?void 0:n.secure);case 11:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"deleteForUser",value:function(){var e=c(i.mark((function e(t,r,n){var o;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUserData(t,null===n||void 0===n?void 0:n.secure);case 2:return delete(o=e.sent)[r],e.next=6,this.setUserData(t,o,null===n||void 0===n?void 0:n.secure);case 6:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"deleteAllUserData",value:function(){var e=c(i.mark((function e(t,r){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,((null===r||void 0===r?void 0:r.secure)?this.secureStorage:this.insecureStorage).delete(this.getKey(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"storeResourceServerSessionInfo",value:function(){var e=c(i.mark((function e(t,r,n){var o,a;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=JSON,e.next=3,this.insecureStorage.get(this.RESOURCE_SERVER_SESSION_INFORMATION_KEY);case 3:if(e.t2=o=e.sent,e.t1=null!==e.t2,!e.t1){e.next=7;break}e.t1=void 0!==o;case 7:if(!e.t1){e.next=11;break}e.t3=o,e.next=12;break;case 11:e.t3="{}";case 12:return e.t4=e.t3,(a=e.t0.parse.call(e.t0,e.t4)).webId!==t&&(a.sessions={}),a.webId=t,a.sessions[r]={expiration:n},e.next=19,this.insecureStorage.set(this.RESOURCE_SERVER_SESSION_INFORMATION_KEY,JSON.stringify(a));case 19:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"clearResourceServerSessionInfo",value:function(){var e=c(i.mark((function e(t){var r,n;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=JSON,e.next=3,this.insecureStorage.get(this.RESOURCE_SERVER_SESSION_INFORMATION_KEY);case 3:if(e.t2=r=e.sent,e.t1=null!==e.t2,!e.t1){e.next=7;break}e.t1=void 0!==r;case 7:if(!e.t1){e.next=11;break}e.t3=r,e.next=12;break;case 11:e.t3="{}";case 12:if(e.t4=e.t3,void 0===(n=e.t0.parse.call(e.t0,e.t4)).sessions){e.next=23;break}if(delete n.sessions[t],0!==Object.keys(n.sessions).length){e.next=21;break}return e.next=19,this.insecureStorage.set(this.RESOURCE_SERVER_SESSION_INFORMATION_KEY,"{}");case 19:e.next=23;break;case 21:return e.next=23,this.insecureStorage.set(this.RESOURCE_SERVER_SESSION_INFORMATION_KEY,JSON.stringify(n));case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=g},function(e,t,r){"use strict";var n=r(0),o=r(10),i=r(6),a=r(8);Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(){i(this,e),this.map={}}return a(e,[{key:"get",value:function(){var e=o(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.map[t]||void 0);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(){var e=o(n.mark((function e(t,r){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.map[t]=r;case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=o(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.map[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=s},function(e,t,r){"use strict";var n=r(6),o=r(20),i=r(21),a=r(31);Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){o(r,e);var t=i(r);function r(e){return n(this,r),t.call(this,e)}return r}(a(Error));t.default=s},function(e,t,r){"use strict";var n=r(6),o=r(20),i=r(21),a=r(31);Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){o(r,e);var t=i(r);function r(e){return n(this,r),t.call(this,"[".concat(e,"] is not implemented"))}return r}(a(Error));t.default=s},function(e,t,r){"use strict";var n=r(0),o=r(10),i=r(19);Object.defineProperty(t,"__esModule",{value:!0}),t.buildAuthenticatedFetch=t.buildDpopFetch=t.buildBearerFetch=void 0;var a=r(58);function s(e){return[401,403].includes(e)}function c(e,t,r){var a=t,c=r?i({},r):void 0;return function(){var t=o(n.mark((function t(r,o){var u,l;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(r,i(i({},o),{},{headers:i(i({},null===o||void 0===o?void 0:o.headers),{},{Authorization:"Bearer ".concat(a)})}));case 2:if(s((u=t.sent).status)&&void 0!==c){t.next=5;break}return t.abrupt("return",u);case 5:return t.prev=5,t.next=8,c.tokenRefresher.refresh(c.sessionId,c.refreshToken);case 8:return l=t.sent,a=l.accessToken,l.refreshToken&&(c.refreshToken=l.refreshToken,"function"===typeof c.onNewRefreshToken&&c.onNewRefreshToken(l.refreshToken)),t.next=13,e(r,i(i({},o),{},{headers:i(i({},null===o||void 0===o?void 0:o.headers),{},{Authorization:"Bearer ".concat(a)})}));case 13:return t.abrupt("return",t.sent);case 16:return t.prev=16,t.t0=t.catch(5),t.abrupt("return",u);case 19:case"end":return t.stop()}}),t,null,[[5,16]])})));return function(e,r){return t.apply(this,arguments)}}()}function u(e,t,r,n){return l.apply(this,arguments)}function l(){return(l=o(n.mark((function e(t,r,o,s){var c,u;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=i({},s),e.t0=i,e.t1=i({},null===s||void 0===s?void 0:s.headers),e.t2={},e.t3="DPoP ".concat(r),e.next=7,a.createDpopHeader(t,null!==(c=null===s||void 0===s?void 0:s.method)&&void 0!==c?c:"get",o);case 7:return e.t4=e.sent,e.t5={Authorization:e.t3,DPoP:e.t4},u.headers=(0,e.t0)(e.t1,e.t2,e.t5),e.abrupt("return",u);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t,r,n){return p.apply(this,arguments)}function p(){return(p=o(n.mark((function e(t,r,i,a){var c,l;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r,l=a,e.abrupt("return",function(){var e=o(n.mark((function e(r,o){var a,h,p,f;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=r,e.next=4,u(r.toString(),c,i,o);case 4:return e.t2=e.sent,e.next=7,(0,e.t0)(e.t1,e.t2);case 7:if(a=e.sent,h=!a.ok&&!s(a.status),p=a.url!==r,!a.ok&&!h){e.next=12;break}return e.abrupt("return",a);case 12:if(!p){e.next=21;break}return e.t3=t,e.t4=a.url,e.next=17,u(a.url,c,i,o);case 17:return e.t5=e.sent,e.next=20,(0,e.t3)(e.t4,e.t5);case 20:a=e.sent;case 21:if(void 0===l||!s(a.status)){e.next=41;break}return e.prev=22,e.next=25,l.tokenRefresher.refresh(l.sessionId,l.refreshToken,i);case 25:return f=e.sent,c=f.accessToken,f.refreshToken&&(l.refreshToken=f.refreshToken,"function"===typeof l.onNewRefreshToken&&l.onNewRefreshToken(f.refreshToken)),e.t6=t,e.t7=r.toString(),e.next=32,u(r.toString(),c,i,o);case 32:return e.t8=e.sent,e.next=35,(0,e.t6)(e.t7,e.t8);case 35:return e.abrupt("return",e.sent);case 38:return e.prev=38,e.t9=e.catch(22),e.abrupt("return",a);case 41:return e.abrupt("return",a);case 42:case"end":return e.stop()}}),e,null,[[22,38]])})));return function(t,r){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=o(n.mark((function e(t,r,o){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===o||void 0===o?void 0:o.dpopKey)){e.next=2;break}return e.abrupt("return",h(t,r,o.dpopKey,o.refreshOptions));case 2:return e.abrupt("return",c(t,r,null===o||void 0===o?void 0:o.refreshOptions));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.buildBearerFetch=c,t.buildDpopFetch=h,t.buildAuthenticatedFetch=function(e,t,r){return f.apply(this,arguments)}},function(e,t,r){"use strict";var n=r(0),o=r(10);Object.defineProperty(t,"__esModule",{value:!0}),t.mockStorageUtility=t.mockStorage=t.StorageUtilityMock=t.StorageUtilityGetResponse=void 0;var i=r(11);t.StorageUtilityGetResponse="getResponse",t.StorageUtilityMock={get:function(){var e=o(n.mark((function e(r,o){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.StorageUtilityGetResponse);case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),set:function(){var e=o(n.mark((function e(t,r){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),delete:function(){var e=o(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getForUser:function(){var e=o(n.mark((function e(r,o,i){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.StorageUtilityGetResponse);case 1:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),setForUser:function(){var e=o(n.mark((function e(t,r,o){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),deleteForUser:function(){var e=o(n.mark((function e(t,r,o){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),deleteAllUserData:function(){var e=o(n.mark((function e(t,r){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),storeResourceServerSessionInfo:function(){var e=o(n.mark((function e(t,r,o){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),clearResourceServerSessionInfo:function(){var e=o(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.mockStorage=function(e){var t=e;return{get:function(){var e=o(n.mark((function e(r){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t[r]){e.next=2;break}return e.abrupt("return",void 0);case 2:if("string"!==typeof t[r]){e.next=4;break}return e.abrupt("return",t[r]);case 4:return e.abrupt("return",JSON.stringify(t[r]));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),set:function(){var e=o(n.mark((function e(r,o){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t[r]=o;case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),delete:function(){var e=o(n.mark((function e(r){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete t[r];case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}};t.mockStorageUtility=function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r?new i.StorageUtility(t.mockStorage(e),t.mockStorage({})):new i.StorageUtility(t.mockStorage({}),t.mockStorage(e))}},function(e,t,r){"use strict";var n=r(6),o=r(20),i=r(21);Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){o(r,e);var t=i(r);function r(e,o){return n(this,r),t.call(this,e,o)}return r}(r(11).StorageUtility);t.default=a},function(e,t,r){"use strict";var n=r(0),o=r(19),i=r(10),a=r(6);Object.defineProperty(t,"__esModule",{value:!0});var s=r(11),c=r(25),u=r(32),l=r(40),h=function(e,t){return window.fetch(e,t)};t.default=function e(t,r,p,f,d){var g=this;a(this,e),this.loginHandler=t,this.redirectHandler=r,this.logoutHandler=p,this.sessionInfoManager=f,this.issuerConfigFetcher=d,this.login=function(){var e=i(n.mark((function e(t){var r,i,a;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.sessionInfoManager.clear(t.sessionId);case 2:return a=c.removeOidcQueryParam(null!==(r=t.redirectUrl)&&void 0!==r?r:window.location.href),e.next=5,g.loginHandler.handle(o(o({},t),{},{redirectUrl:a,clientName:null!==(i=t.clientName)&&void 0!==i?i:t.clientId}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.fetch=h,this.logout=function(){var e=i(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.logoutHandler.handle(t);case 2:g.fetch=h;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getSessionInfo=function(){var e=i(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",g.sessionInfoManager.get(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAllSessionInfo=i(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",g.sessionInfoManager.getAll());case 1:case"end":return e.stop()}}),e)}))),this.validateCurrentSession=i(n.mark((function e(){var t,r,o,i;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=window.localStorage.getItem(l.KEY_CURRENT_SESSION))){e.next=3;break}return e.abrupt("return",null);case 3:return e.next=5,g.sessionInfoManager.get(t);case 5:if(void 0!==(r=e.sent)&&void 0!==r.idToken&&void 0!==r.clientAppId&&void 0!==r.issuer){e.next=8;break}return e.abrupt("return",null);case 8:return e.next=10,g.issuerConfigFetcher.fetchConfig(r.issuer);case 10:return o=e.sent,e.prev=11,e.next=14,s.fetchJwks(o.jwksUri,o.issuer);case 14:return i=e.sent,e.t0=u,e.t1=r.idToken,e.next=19,u.parseJwk(i);case 19:return e.t2=e.sent,e.t3={audience:r.clientAppId,issuer:o.issuer},e.next=23,e.t0.jwtVerify.call(e.t0,e.t1,e.t2,e.t3);case 23:return e.abrupt("return",r);case 26:e.prev=26,e.t4=e.catch(11);case 28:return e.abrupt("return",null);case 29:case"end":return e.stop()}}),e,null,[[11,26]])}))),this.handleIncomingRedirect=function(){var e=i(n.mark((function e(t){var r,o;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.redirectHandler.handle(t);case 2:return r=e.sent,g.fetch=r.fetch.bind(window),(o=new URL(t)).searchParams.delete("state"),o.searchParams.delete("code"),o.searchParams.delete("id_token"),o.searchParams.delete("access_token"),window.history.replaceState(null,"",o.toString()),e.abrupt("return",{isLoggedIn:r.isLoggedIn,webId:r.webId,sessionId:r.sessionId,expirationDate:r.expirationDate});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},function(e,t,r){"use strict";var n=r(19),o=r(0),i=r(10),a=r(6),s=r(8);Object.defineProperty(t,"__esModule",{value:!0});var c=r(11);function u(e){return"string"===typeof e.oidcIssuer}function l(e){return"string"===typeof e.redirectUrl}var h=function(){function e(t,r,n,o){a(this,e),this.storageUtility=t,this.oidcHandler=r,this.issuerConfigFetcher=n,this.clientRegistrar=o}return s(e,[{key:"canHandle",value:function(){var e=i(o.mark((function e(t){return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u(t)&&l(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"handle",value:function(){var e=i(o.mark((function e(t){var r,i,a;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u(t)){e.next=2;break}throw new c.ConfigurationError("OidcLoginHandler requires an OIDC issuer: missing property 'oidcIssuer' in ".concat(JSON.stringify(t)));case 2:if(l(t)){e.next=4;break}throw new c.ConfigurationError("OidcLoginHandler requires a redirect URL: missing property 'redirectUrl' in ".concat(JSON.stringify(t)));case 4:return e.next=6,this.issuerConfigFetcher.fetchConfig(t.oidcIssuer);case 6:return r=e.sent,e.next=9,c.handleRegistration(t,r,this.storageUtility,this.clientRegistrar);case 9:return i=e.sent,a=n(n({issuer:r.issuer,dpop:"dpop"===t.tokenType.toLowerCase()},t),{},{issuerConfiguration:r,client:i}),e.abrupt("return",this.oidcHandler.handle(a));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=h},function(e,t,r){"use strict";var n=r(0),o=r(10),i=r(6),a=r(8);Object.defineProperty(t,"__esModule",{value:!0});var s=r(25),c=function(){function e(t,r){i(this,e),this.storageUtility=t,this.redirector=r}return a(e,[{key:"canHandle",value:function(){var e=o(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!!(t.issuerConfiguration.grantTypesSupported&&t.issuerConfiguration.grantTypesSupported.indexOf("authorization_code")>-1));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"handle",value:function(){var e=o(n.mark((function e(t){var r,o,i,a,c;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={authority:t.issuer.toString(),client_id:t.client.clientId,client_secret:t.client.clientSecret,redirect_uri:t.redirectUrl.toString(),post_logout_redirect_uri:t.redirectUrl.toString(),response_type:"code",scope:"openid webid",filterProtocolClaims:!0,loadUserInfo:!1,code_verifier:!0,prompt:t.prompt},o=new s.OidcClient(r),i=this.redirector,a=this.storageUtility,e.prev=4,e.next=7,o.createSigninRequest();case 7:return c=e.sent,e.next=10,Promise.all([a.setForUser(c.state._id,{sessionId:t.sessionId}),a.setForUser(t.sessionId,{codeVerifier:c.state._code_verifier,issuer:t.issuer.toString(),redirectUrl:t.redirectUrl,dpop:t.dpop?"true":"false"})]);case 10:i.redirect(c.url.toString(),{handleRedirect:t.handleRedirect,redirectInIframe:t.inIframe}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),console.error(e.t0);case 16:return e.abrupt("return",void 0);case 17:case"end":return e.stop()}}),e,this,[[4,13]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=c},function(e,t,r){"use strict";var n=r(0),o=r(10),i=r(6),a=r(8);Object.defineProperty(t,"__esModule",{value:!0}),t.WELL_KNOWN_OPENID_CONFIG=void 0;var s=r(11),c=r(112);t.WELL_KNOWN_OPENID_CONFIG=".well-known/openid-configuration";var u={issuer:{toKey:"issuer",convertToUrl:!0},authorization_endpoint:{toKey:"authorizationEndpoint",convertToUrl:!0},token_endpoint:{toKey:"tokenEndpoint",convertToUrl:!0},userinfo_endpoint:{toKey:"userinfoEndpoint",convertToUrl:!0},jwks_uri:{toKey:"jwksUri",convertToUrl:!0},registration_endpoint:{toKey:"registrationEndpoint",convertToUrl:!0},scopes_supported:{toKey:"scopesSupported"},response_types_supported:{toKey:"responseTypesSupported"},response_modes_supported:{toKey:"responseModesSupported"},grant_types_supported:{toKey:"grantTypesSupported"},acr_values_supported:{toKey:"acrValuesSupported"},subject_types_supported:{toKey:"subjectTypesSupported"},id_token_signing_alg_values_supported:{toKey:"idTokenSigningAlgValuesSupported"},id_token_encryption_alg_values_supported:{toKey:"idTokenEncryptionAlgValuesSupported"},id_token_encryption_enc_values_supported:{toKey:"idTokenEncryptionEncValuesSupported"},userinfo_signing_alg_values_supported:{toKey:"userinfoSigningAlgValuesSupported"},userinfo_encryption_alg_values_supported:{toKey:"userinfoEncryptionAlgValuesSupported"},userinfo_encryption_enc_values_supported:{toKey:"userinfoEncryptionEncValuesSupported"},request_object_signing_alg_values_supported:{toKey:"requestObjectSigningAlgValuesSupported"},request_object_encryption_alg_values_supported:{toKey:"requestObjectEncryptionAlgValuesSupported"},request_object_encryption_enc_values_supported:{toKey:"requestObjectEncryptionEncValuesSupported"},token_endpoint_auth_methods_supported:{toKey:"tokenEndpointAuthMethodsSupported"},token_endpoint_auth_signing_alg_values_supported:{toKey:"tokenEndpointAuthSigningAlgValuesSupported"},display_values_supported:{toKey:"displayValuesSupported"},claim_types_supported:{toKey:"claimTypesSupported"},claims_supported:{toKey:"claimsSupported"},service_documentation:{toKey:"serviceDocumentation"},claims_locales_supported:{toKey:"claimsLocalesSupported"},ui_locales_supported:{toKey:"uiLocalesSupported"},claims_parameter_supported:{toKey:"claimsParameterSupported"},request_parameter_supported:{toKey:"requestParameterSupported"},request_uri_parameter_supported:{toKey:"requestUriParameterSupported"},require_request_uri_registration:{toKey:"requireRequestUriRegistration"},op_policy_uri:{toKey:"opPolicyUri",convertToUrl:!0},op_tos_uri:{toKey:"opTosUri",convertToUrl:!0},solid_oidc_supported:{toKey:"solidOidcSupported"}};function l(e){var t={};return Object.keys(e).forEach((function(r){u[r]&&(t[u[r].toKey]=e[r])})),t}var h=function(){function e(t){i(this,e),this.storageUtility=t}return a(e,[{key:"fetchConfig",value:function(){var r=o(n.mark((function r(o){var i,a,u;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=c.appendToUrlPathname(o,t.WELL_KNOWN_OPENID_CONFIG),r.next=3,window.fetch(a);case 3:return u=r.sent,r.prev=4,r.t0=l,r.next=8,u.json();case 8:r.t1=r.sent,i=(0,r.t0)(r.t1),r.next=15;break;case 12:throw r.prev=12,r.t2=r.catch(4),new s.ConfigurationError("[".concat(o.toString(),"] has an invalid configuration: ").concat(r.t2.message));case 15:return r.next=17,this.storageUtility.set(e.getLocalStorageKey(o),JSON.stringify(i));case 17:return r.abrupt("return",i);case 18:case"end":return r.stop()}}),r,this,[[4,12]])})));return function(e){return r.apply(this,arguments)}}()}],[{key:"getLocalStorageKey",value:function(e){return"issuerConfig:".concat(e)}}]),e}();t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appendToUrlPathname=void 0,t.appendToUrlPathname=function(e,t){var r=new URL(e),n=r.pathname;return r.pathname="".concat(n).concat(n.endsWith("/")?"":"/").concat(t.startsWith("/")?t.substring(1):t),r.toString()}},function(e,t,r){"use strict";var n=r(0),o=r(10),i=r(6),a=r(8);Object.defineProperty(t,"__esModule",{value:!0}),t.FallbackRedirectHandler=void 0;var s=r(59),c=function(){function e(){i(this,e)}return a(e,[{key:"canHandle",value:function(){var e=o(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,new URL(t),e.abrupt("return",!0);case 5:throw e.prev=5,e.t0=e.catch(0),new Error("[".concat(t,"] is not a valid URL, and cannot be used as a redirect URL: ").concat(e.t0.toString()));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handle",value:function(){var e=o(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.getUnauthenticatedSession());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.FallbackRedirectHandler=c},function(e,t,r){"use strict";var n=r(0),o=r(10),i=r(6),a=r(8);Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(t){i(this,e),this.sessionInfoManager=t}return a(e,[{key:"canHandle",value:function(){var e=o(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"handle",value:function(){var e=o(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sessionInfoManager.clear(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=s},function(e,t,r){"use strict";var n=r(0),o=r(6),i=r(8),a=r(10);Object.defineProperty(t,"__esModule",{value:!0}),t.AuthCodeRedirectHandler=t.DEFAULT_LIFESPAN=void 0;var s=r(11),c=r(25),u=r(40);function l(e,t,r){return h.apply(this,arguments)}function h(){return(h=a(n.mark((function e(r,o,i){var a,s;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new URL(r),s=a.origin,e.next=4,o(r);case 4:return e.prev=4,e.next=7,o("".concat(s,"/session"));case 7:if(200!==e.sent.status){e.next=12;break}return e.next=11,i.storeResourceServerSessionInfo(r,s,Date.now()+t.DEFAULT_LIFESPAN);case 11:return e.abrupt("return");case 12:return e.next=14,i.clearResourceServerSessionInfo(s);case 14:e.next=20;break;case 16:return e.prev=16,e.t0=e.catch(4),e.next=20,i.clearResourceServerSessionInfo(s);case 20:case"end":return e.stop()}}),e,null,[[4,16]])})))).apply(this,arguments)}t.DEFAULT_LIFESPAN=18e5;var p=function(){function e(t,r,n,i){o(this,e),this.storageUtility=t,this.sessionInfoManager=r,this.issuerConfigFetcher=n,this.clientRegistrar=i}return i(e,[{key:"canHandle",value:function(){var e=a(n.mark((function e(t){var r;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=new URL(t),e.abrupt("return",null!==r.searchParams.get("code")&&null!==r.searchParams.get("state"));case 5:throw e.prev=5,e.t0=e.catch(0),new Error("[".concat(t,"] is not a valid URL, and cannot be used as a redirect URL: ").concat(e.t0.toString()));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handle",value:function(){var e=a(n.mark((function e(t){var r,o,i,a,h,p,f,d,g,m,v,y,b;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.canHandle(t);case 2:if(e.sent){e.next=4;break}throw new Error("AuthCodeRedirectHandler cannot handle [".concat(t,"]: it is missing one of [code, state]."));case 4:return r=new URL(t),o=r.searchParams.get("state"),e.next=8,this.storageUtility.getForUser(o,"sessionId",{errorIfNull:!0});case 8:return i=e.sent,e.next=11,this.storageUtility.getForUser(i,"dpop");case 11:return e.t0=e.sent,a="true"===e.t0,e.next=15,this.storageUtility.getForUser(i,"issuer",{errorIfNull:!0});case 15:return h=e.sent,window.localStorage.setItem(u.KEY_CURRENT_SESSION,i),e.next=19,this.issuerConfigFetcher.fetchConfig(h);case 19:return p=e.sent,e.next=22,this.clientRegistrar.getClient({sessionId:i},p);case 22:if(f=e.sent,g=Date.now(),!a){e.next=36;break}return e.next=27,this.storageUtility.getForUser(i,"codeVerifier",{errorIfNull:!0});case 27:return m=e.sent,e.next=30,this.storageUtility.getForUser(i,"redirectUrl",{errorIfNull:!0});case 30:return v=e.sent,e.next=33,c.getDpopToken(p,f,{grantType:"authorization_code",code:r.searchParams.get("code"),codeVerifier:m,redirectUrl:v});case 33:d=e.sent,e.next=39;break;case 36:return e.next=38,c.getBearerToken(r.toString());case 38:d=e.sent;case 39:return e.next=41,s.buildAuthenticatedFetch(fetch,d.accessToken,{dpopKey:d.dpopKey});case 41:return y=e.sent,e.next=44,this.storageUtility.setForUser(i,{refreshToken:"<Refresh token that *is* coming back in the redirect URL is not yet being parsed and provided by oidc-client-js in it's response object>",webId:d.webId,isLoggedIn:"true"},{secure:!0});case 44:return r.searchParams.delete("code"),e.next=47,this.storageUtility.setForUser(i,{redirectUrl:r.toString(),idToken:d.idToken},{secure:!1});case 47:if("false"===window.localStorage.getItem("tmp-resource-server-session-enabled")){e.next=51;break}return e.next=51,l(d.webId,y,this.storageUtility);case 51:return e.next=53,this.sessionInfoManager.get(i);case 53:if(b=e.sent){e.next=56;break}throw new Error("Could not retrieve session: [".concat(i,"]."));case 56:return e.abrupt("return",Object.assign(b,{fetch:y,expirationDate:"number"===typeof d.expiresIn?g+1e3*d.expiresIn:null}));case 57:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.AuthCodeRedirectHandler=p},function(e,t,r){"use strict";var n=r(6),o=r(20),i=r(21);Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){o(r,e);var t=i(r);function r(e){return n(this,r),t.call(this,e)}return r}(r(11).AggregateHandler);t.default=a},function(e,t,r){"use strict";var n=r(0),o=r(10),i=r(6),a=r(8);Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(){i(this,e)}return a(e,[{key:"storage",get:function(){return window.localStorage}},{key:"get",value:function(){var e=o(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.storage.getItem(t)||void 0);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(){var e=o(n.mark((function e(t,r){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage.setItem(t,r);case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=o(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage.removeItem(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=s},function(e,t,r){"use strict";var n=r(6),o=r(8);Object.defineProperty(t,"__esModule",{value:!0});var i=r(60),a=function(){function e(){n(this,e)}return o(e,[{key:"redirect",value:function(e,t){t&&t.handleRedirect?t.handleRedirect(e):t&&t.redirectByReplacingState?window.history.replaceState({},"",e):(null===t||void 0===t?void 0:t.redirectInIframe)?i.redirectInIframe(e):window.location.href=e}}]),e}();t.default=a},function(e,t,r){"use strict";var n=r(0),o=r(19),i=r(33),a=r(10),s=r(6),c=r(8);Object.defineProperty(t,"__esModule",{value:!0});var u=r(25),l=function(){function e(t){s(this,e),this.storageUtility=t}return c(e,[{key:"getClient",value:function(){var e=a(n.mark((function e(t,r){var a,s,c,l,h,p,f,d;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.storageUtility.getForUser(t.sessionId,"clientId",{secure:!1}),this.storageUtility.getForUser(t.sessionId,"clientSecret",{secure:!1})]);case 2:if(s=e.sent,c=i(s,2),l=c[0],h=c[1],!l){e.next=8;break}return e.abrupt("return",{clientId:l,clientSecret:h,clientType:"dynamic"});case 8:if(p=o({},t),null===(a=p.registrationAccessToken)||void 0===a){e.next=13;break}e.t0=a,e.next=16;break;case 13:return e.next=15,this.storageUtility.getForUser(t.sessionId,"registrationAccessToken");case 15:e.t0=e.sent;case 16:return p.registrationAccessToken=e.t0,e.prev=17,e.next=20,u.registerClient(p,r);case 20:return f=e.sent,d={clientId:f.clientId},f.clientSecret&&(d.clientSecret=f.clientSecret),f.idTokenSignedResponseAlg&&(d.idTokenSignedResponseAlg=f.idTokenSignedResponseAlg),e.next=26,this.storageUtility.setForUser(p.sessionId,d,{secure:!1});case 26:return e.abrupt("return",f);case 29:throw e.prev=29,e.t1=e.catch(17),new Error("Client registration failed: [".concat(e.t1.toString(),"]"));case 32:case"end":return e.stop()}}),e,this,[[17,29]])})));return function(t,r){return e.apply(this,arguments)}}()}]),e}();t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onSessionRestore=t.onLogout=t.onLogin=t.handleIncomingRedirect=t.logout=t.login=t.fetch=t.getDefaultSession=void 0;var n,o=r(48);function i(){return"undefined"===typeof n&&(n=new o.Session),n}t.getDefaultSession=i;t.fetch=function(){var e=i();return e.fetch.apply(e,arguments)};t.login=function(){var e=i();return e.login.apply(e,arguments)};t.logout=function(){var e=i();return e.logout.apply(e,arguments)};t.handleIncomingRedirect=function(){var e=i();return e.handleIncomingRedirect.apply(e,arguments)};t.onLogin=function(){var e=i();return e.onLogin.apply(e,arguments)};t.onLogout=function(){var e=i();return e.onLogout.apply(e,arguments)};t.onSessionRestore=function(){var e=i();return e.onSessionRestore.apply(e,arguments)}},function(e,t,r){"use strict";r(37);var n=r(3),o=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var i=Symbol.for;o=i("react.element"),t.Fragment=i("react.fragment")}var a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,c={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,r){var n,i={},u=null,l=null;for(n in void 0!==r&&(u=""+r),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,n)&&!c.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:o,type:e,key:u,ref:l,props:i,_owner:a.current}}t.jsx=u,t.jsxs=u},function(e,t,r){"use strict";t.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=u(e),a=n[0],s=n[1],c=new i(function(e,t,r){return 3*(t+r)/4-r}(0,a,s)),l=0,h=s>0?a-4:a;for(r=0;r<h;r+=4)t=o[e.charCodeAt(r)]<<18|o[e.charCodeAt(r+1)]<<12|o[e.charCodeAt(r+2)]<<6|o[e.charCodeAt(r+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;2===s&&(t=o[e.charCodeAt(r)]<<2|o[e.charCodeAt(r+1)]>>4,c[l++]=255&t);1===s&&(t=o[e.charCodeAt(r)]<<10|o[e.charCodeAt(r+1)]<<4|o[e.charCodeAt(r+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t);return c},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],a=16383,s=0,c=r-o;s<c;s+=a)i.push(l(e,s,s+a>c?c:s+a));1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],o=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)n[s]=a[s],o[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function l(e,t,r){for(var o,i,a=[],s=t;s<r;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,o){var i,a,s=8*o-n-1,c=(1<<s)-1,u=c>>1,l=-7,h=r?o-1:0,p=r?-1:1,f=e[t+h];for(h+=p,i=f&(1<<-l)-1,f>>=-l,l+=s;l>0;i=256*i+e[t+h],h+=p,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=n;l>0;a=256*a+e[t+h],h+=p,l-=8);if(0===i)i=1-u;else{if(i===c)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,n),i-=u}return(f?-1:1)*a*Math.pow(2,i-n)},t.write=function(e,t,r,n,o,i){var a,s,c,u=8*i-o-1,l=(1<<u)-1,h=l>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:i-1,d=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+h>=1?p/c:p*Math.pow(2,1-h))*c>=2&&(a++,c/=2),a+h>=l?(s=0,a=l):a+h>=1?(s=(t*c-1)*Math.pow(2,o),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,o),a=0));o>=8;e[r+f]=255&s,f+=d,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;e[r+f]=255&a,f+=d,a/=256,u-=8);e[r+f-d]|=128*g}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){var n=r(126),o=r(62),i=r(127),a=r(128),s=r(63),c=r(129),u=r(130);var l={namedNode:function(e){return new s(e)},blankNode:function(e){return new n(e)},literal:function(e,t){return"string"===typeof t?-1===t.indexOf(":")?new a(e,t):new a(e,null,l.namedNode(t)):new a(e,null,t)},variable:function(e){return new u(e)},defaultGraph:function(){return l.defaultGraphInstance},triple:function(e,t,r){return l.quad(e,t,r)},quad:function(e,t,r,n){return new c(e,t,r,n||l.defaultGraphInstance)},fromTerm:function(e){return i.call(l,e)},fromQuad:function(e){return i.call(l,e)},defaultGraphInstance:new o};e.exports=l},function(e,t,r){var n=r(6),o=r(8),i=function(){"use strict";function e(t){n(this,e),this.value=t||"b"+ ++e.nextId}return o(e,[{key:"equals",value:function(e){return!!e&&e.termType===this.termType&&e.value===this.value}}]),e}();i.prototype.termType="BlankNode",i.nextId=0,e.exports=i},function(e,t){e.exports=function(e){if(!e)return null;if("BlankNode"===e.termType)return this.blankNode(e.value);if("DefaultGraph"===e.termType)return this.defaultGraph();if("Literal"===e.termType)return this.literal(e.value,e.language||this.namedNode(e.datatype.value));if("NamedNode"===e.termType)return this.namedNode(e.value);if("Quad"===e.termType){var t=this.fromTerm(e.subject),r=this.fromTerm(e.predicate),n=this.fromTerm(e.object),o=this.fromTerm(e.graph);return this.quad(t,r,n,o)}if("Variable"===e.termType)return this.variable(e.value);throw new Error("unknown termType ".concat(e.termType))}},function(e,t,r){var n=r(6),o=r(8),i=r(63),a=function(){"use strict";function e(t,r,o){n(this,e),this.value=t,this.datatype=e.stringDatatype,this.language="",r?(this.language=r,this.datatype=e.langStringDatatype):o&&(this.datatype=o)}return o(e,[{key:"equals",value:function(e){return!!e&&e.termType===this.termType&&e.value===this.value&&e.language===this.language&&e.datatype.equals(this.datatype)}}]),e}();a.prototype.termType="Literal",a.langStringDatatype=new i("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),a.stringDatatype=new i("http://www.w3.org/2001/XMLSchema#string"),e.exports=a},function(e,t,r){var n=r(6),o=r(8),i=r(62),a=function(){"use strict";function e(t,r,o,a){n(this,e),this.subject=t,this.predicate=r,this.object=o,this.graph=a||new i}return o(e,[{key:"equals",value:function(e){return!!e&&("Quad"===e.termType||!e.termType)&&e.subject.equals(this.subject)&&e.predicate.equals(this.predicate)&&e.object.equals(this.object)&&e.graph.equals(this.graph)}}]),e}();a.prototype.termType="Quad",a.prototype.value="",e.exports=a},function(e,t,r){var n=r(6),o=r(8),i=function(){"use strict";function e(t){n(this,e),this.value=t}return o(e,[{key:"equals",value:function(e){return!!e&&e.termType===this.termType&&e.value===this.value}}]),e}();i.prototype.termType="Variable",e.exports=i},function(e,t,r){var n=r(49),o=r(57),i=r(6),a=r(8);function s(e){return"string"===typeof e||e instanceof String}function c(e){if("string"===typeof e)return e;if(!e)return"";if("undefined"!==typeof e.id&&"Quad"!==e.termType)return e.id;var t,r,n,o;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return"_:".concat(e.value);case"Variable":return"?".concat(e.value);case"DefaultGraph":return"";case"Literal":return e.language?'"'.concat(e.value,'"@').concat(e.language):'"'.concat(e.value,'"').concat(e.datatype&&"http://www.w3.org/2001/XMLSchema#string"!==e.datatype.value?"^^".concat(e.datatype.value):"");case"Quad":return t=l(c(e.subject)),r=l(c(e.predicate)),n=l(c(e.object)),o="DefaultGraph"===e.graph.termType?"":" ".concat(c(e.graph)),"<<".concat(t," ").concat(r," ").concat(n).concat(o,">>");default:throw new Error("Unexpected termType: ".concat(e.termType))}}var u=/^"(.*".*)(?="[^"]*$)/;function l(e){return e.replace(u,(function(e,t){return'"'.concat(t.replace(/"/g,'""'))}))}var h=function(){"use strict";function e(t){if(i(this,e),this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._quads=new Map,t){var r,n=o(t);try{for(n.s();!(r=n.n()).done;){var a=r.value;this.add(a)}}catch(s){n.e(s)}finally{n.f()}}}return a(e,[{key:"size",get:function(){var e=this._size;if(null!==e)return e;e=0;var t,r,n=this._graphs;for(var o in n)for(var i in t=n[o].subjects)for(var a in r=t[i])e+=Object.keys(r[a]).length;return this._size=e,this._size}},{key:"add",value:function(e){var t=c(e.subject),r=c(e.predicate),n=c(e.object),o=c(e.graph),i=this._graphs[o];i||(i=this._graphs[o]={subjects:{},predicates:{},objects:{}},Object.freeze(i));var a=this._ids,s=this._entities;return t=a[t]||(a[s[++this._id]=t]=this._id),r=a[r]||(a[s[++this._id]=r]=this._id),n=a[n]||(a[s[++this._id]=n]=this._id),this._addToIndex(i.subjects,t,r,n),this._addToIndex(i.predicates,r,n,t),this._addToIndex(i.objects,n,t,r),this._setQuad(t,r,n,o,e),this._size=null,this}},{key:"delete",value:function(e){var t,r,n,o=c(e.subject),i=c(e.predicate),a=c(e.object),s=c(e.graph),u=this._ids,l=this._graphs;if(!(o=u[o])||!(i=u[i])||!(a=u[a])||!(t=l[s])||!(r=t.subjects[o])||!(n=r[i])||!(a in n))return this;for(o in this._removeFromIndex(t.subjects,o,i,a),this._removeFromIndex(t.predicates,i,a,o),this._removeFromIndex(t.objects,a,o,i),null!==this._size&&this._size--,this._deleteQuad(o,i,a,s),t.subjects)return this;return delete l[s],this}},{key:"has",value:function(e){var t=c(e.subject),r=c(e.predicate),n=c(e.object),o=c(e.graph),i=this._graphs[o];if(!i)return!1;var a,u,l,h=this._ids;return!(s(t)&&!(a=h[t])||s(r)&&!(u=h[r])||s(n)&&!(l=h[n]))&&1===this._countInIndex(i.objects,l,a,u)}},{key:"match",value:function(e,t,r,n){return this._createDataset(this._match(e,t,r,n))}},{key:Symbol.iterator,value:function(){return this._match()[Symbol.iterator]()}},{key:"_addToIndex",value:function(e,t,r,n){var o=e[t]||(e[t]={}),i=o[r]||(o[r]={}),a=n in i;return a||(i[n]=null),!a}},{key:"_removeFromIndex",value:function(e,t,r,n){var o=e[t],i=o[r];for(var a in delete i[n],i)return;for(var s in delete o[r],o)return;delete e[t]}},{key:"_findInIndex",value:function(e,t,r,o,i,a,s,c,u,l){var h,p,f;for(var d in t&&((h=e,e={})[t]=h[t]),e)if(p=e[d])for(var g in r&&((h=p,p={})[r]=h[r]),p)if(f=p[g])for(var m=(o?o in f?[o]:[]:Object.keys(f)),v=0;v<m.length;v++){var y,b=(n(y={},i,d),n(y,a,g),n(y,s,m[v]),y),w=this._getQuad(b.subject,b.predicate,b.object,c);if(l)l.push(w);else if(u(w))return!0}return l}},{key:"_countInIndex",value:function(e,t,r,n){var o,i,a,s=0;for(var c in t&&((o=e,e={})[t]=o[t]),e)if(i=e[c])for(var u in r&&((o=i,i={})[r]=o[r]),i)(a=i[u])&&(n?n in a&&s++:s+=Object.keys(a).length);return s}},{key:"_getGraphs",value:function(e){return s(e)?n({},e,this._graphs[e]):this._graphs}},{key:"_match",value:function(e,t,r,n){e=e&&c(e),t=t&&c(t),r=r&&c(r),n=n&&c(n);var o,i,a,u,l=[],h=this._getGraphs(n),p=this._ids;if(s(e)&&!(i=p[e])||s(t)&&!(a=p[t])||s(r)&&!(u=p[r]))return l;for(var f in h)(o=h[f])&&(i?u?this._findInIndex(o.objects,u,i,a,"object","subject","predicate",f,null,l):this._findInIndex(o.subjects,i,a,null,"subject","predicate","object",f,null,l):a?this._findInIndex(o.predicates,a,u,null,"predicate","object","subject",f,null,l):u?this._findInIndex(o.objects,u,null,null,"object","subject","predicate",f,null,l):this._findInIndex(o.subjects,null,null,null,"subject","predicate","object",f,null,l));return l}},{key:"_getQuad",value:function(e,t,r,n){return this._quads.get(this._toId(e,t,r,n))}},{key:"_setQuad",value:function(e,t,r,n,o){this._quads.set(this._toId(e,t,r,n),o)}},{key:"_deleteQuad",value:function(e,t,r,n){this._quads.delete(this._toId(e,t,r,n))}},{key:"_createDataset",value:function(e){return new this.constructor(e)}},{key:"_toId",value:function(e,t,r,n){return"".concat(e,":").concat(t,":").concat(r,":").concat(n)}}]),e}();e.exports=h},function(e,t,r){"use strict";var n="function"===typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,c=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,h=n?Symbol.for("react.async_mode"):60111,p=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,g=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,w=n?Symbol.for("react.responder"):60118,S=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case h:case p:case a:case c:case s:case d:return e;default:switch(e=e&&e.$$typeof){case l:case f:case v:case m:case u:return e;default:return t}}case i:return t}}}function k(e){return _(e)===p}t.AsyncMode=h,t.ConcurrentMode=p,t.ContextConsumer=l,t.ContextProvider=u,t.Element=o,t.ForwardRef=f,t.Fragment=a,t.Lazy=v,t.Memo=m,t.Portal=i,t.Profiler=c,t.StrictMode=s,t.Suspense=d,t.isAsyncMode=function(e){return k(e)||_(e)===h},t.isConcurrentMode=k,t.isContextConsumer=function(e){return _(e)===l},t.isContextProvider=function(e){return _(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return _(e)===f},t.isFragment=function(e){return _(e)===a},t.isLazy=function(e){return _(e)===v},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===c},t.isStrictMode=function(e){return _(e)===s},t.isSuspense=function(e){return _(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===p||e===c||e===s||e===d||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===u||e.$$typeof===l||e.$$typeof===f||e.$$typeof===b||e.$$typeof===w||e.$$typeof===S||e.$$typeof===y)},t.typeOf=_}]]);
//# sourceMappingURL=2.0cc64ae9.chunk.js.map